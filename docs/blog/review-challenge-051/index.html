<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="Ryan Thompson › Perl Weekly Review #051"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/blog/review-challenge-051/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="Ryan Thompson › Perl Weekly Review #051"/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Ryan Thompson › Perl Weekly Review #051">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">
    <link rel="canonical" href="https://theweeklychallenge.org/blog/review-challenge-051/" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ryan Thompson › Perl Weekly Review #051</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Ryan Thompson › Perl Weekly Review #051</h2>
                    <div class="portfolio-meta">
                        <span>Tuesday, Mar 24, 2020</span>|
                        <span> Tags:
                            perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/p5-review-challenge-051.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <p>Continues from <a href="/blog/review-challenge-050/">previous week</a>.</p>
<p>Welcome to the Perl review for Week 051 of the Weekly Challenge! For a quick overview, go through the <a href="/blog/perl-weekly-challenge-051/">original tasks</a> and <a href="/blog/recap-challenge-051/">recap</a> of the weekly challenge.</p>
<h2 id="getting-in-touch">Getting in Touch</h2>
<p><a href="mailto:rjt@cpan.org"><img src="/images/blog/Email.svg" height="50" width="50"> Email</a> › Email me (Ryan) with any feedback about this review.</p>
<p><a href="https://github.com/manwar/perlweeklychallenge"><img src="/images/blog/Github.svg" height="50" width="50"> GitHub</a> › Submit a pull request for any issues you may find with this page.</p>
<p><a href="https://twitter.com/perlwchallenge"><img src="/images/blog/Twitter.svg" height="50" width="50"> Twitter</a> › Join the discussion on Twitter!</p>
<p>We&rsquo;d greatly appreciate any feedback you&rsquo;d like to give.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<h3 id="task-1task1"><a href="#task1">Task 1</a></h3>
<p>[ <a href="#adam-russell1">Adam Russell</a>  | <a href="#alicia-bielsa1">Alicia Bielsa</a>  | <a href="#andrezgz1">Andrezgz</a>  | <a href="#cheok-yin-fung1">Cheok-Yin Fung</a>  | <a href="#colin-crain1">Colin Crain</a>  | <a href="#cristian-heredia1">Cristina Heredia</a>  | <a href="#dave-cross1">Dave Cross</a>  | <a href="#dave-jacoby1">Dave Jacoby</a>  | <a href="#duncan-c-white1">Duncan C. White</a>  | <a href="#e-choroba1">E. Choroba</a>  | <a href="#jaldhar-h-vyas1">Jaldhar H. Vyas</a>  | <a href="#javier-luque1">Javier Luque</a>  | <a href="#mohammad-anwar1">Mohammad S Anwar</a>  | <a href="#phillip-harris1">Phillip Harris</a>  | <a href="#roger-bell-west1">Roger Bell West</a>  | <a href="#ruben-westerberg1">Ruben Westerberg</a>  | <a href="#ryan-thompson1">Ryan Thompson</a>  | <a href="#saiftynet1">Saif Ahmed</a>  | <a href="#ulrich-rieke1">Ulrich Rieke</a>  | <a href="#user-person1">User Person</a>  | <a href="#walt-mankowski1">Walt Mankowski</a>  | <a href="#wanderdoc1">Wanderdoc</a>  | <a href="#yet-ebreo1">Yet Ebreo</a>  ]</p>
<h3 id="task-2task2"><a href="#task2">Task 2</a></h3>
<p>[ <a href="#adam-russell2">Adam Russell</a>  | <a href="#alicia-bielsa2">Alicia Bielsa</a>  | <a href="#andrezgz2">Andrezgz</a>  | <a href="#cheok-yin-fung2">Cheok-Yin Fung</a>  | <a href="#colin-crain2">Colin Crain</a>  | <a href="#cristian-heredia2">Cristina Heredia</a>  | <a href="#dave-cross2">Dave Cross</a>  | <a href="#dave-jacoby2">Dave Jacoby</a>  | <a href="#duncan-c-white2">Duncan C. White</a>  | <a href="#e-choroba2">E. Choroba</a>  | <a href="#jaldhar-h-vyas2">Jaldhar H. Vyas</a>  | <a href="#javier-luque2">Javier Luque</a>  | <a href="#mohammad-anwar2">Mohammad S Anwar</a>  | <a href="#phillip-harris2">Phillip Harris</a>  | <a href="#roger-bell-west2">Roger Bell West</a>  | <a href="#ruben-westerberg2">Ruben Westerberg</a>  | <a href="#ryan-thompson2">Ryan Thompson</a>  | <a href="#saiftynet2">Saif Ahmed</a>  | <a href="#ulrich-rieke2">Ulrich Rieke</a>  | <a href="#user-person2">User Person</a>  | <a href="#walt-mankowski2">Walt Mankowski</a>  | <a href="#wanderdoc2">Wanderdoc</a>  | <a href="#yet-ebreo2">Yet Ebreo</a>  ]</p>
<h3 id="blogsblogs"><a href="#blogs">Blogs</a></h3>
<hr>
<hr>
<h1 id="task1">Task #1 - 3 Sum</h1>
<p>Here is the original task description:</p>
<p>Given an array <code>@L</code> of integers, write a script to find all unique triplets such that a + b + c is same as the given target T. Also make sure a &lt;= b &lt;= c.</p>
<p>Example:</p>
<p><code>@L = (-25, -10, -7, -3, 2, 4, 8, 10);</code></p>
<p>One such triplet for target 0 i.e. -10 + 2 + 8 = 0.</p>
<hr>
<h2 id="solution-types">Solution types</h2>
<h3 id="on-brute-force">O(n³) brute force</h3>
<p>By simply using a 3-nested loop, one for each of <code>a</code>, <code>b</code> and <code>c</code>, you get a straightforward O(n³) solution.</p>
<p>There are some optimized variations of this approach that prune early or choose better upper and lower bounds. Fundamentally these are still <em>n</em>-cubed complexity, but in practice they can reduce the number of comparisons by as much as ~83% if done carefully.</p>
<h3 id="on-with-a-defined-hash">O(n²) with a &ldquo;defined&rdquo; hash</h3>
<p>You can reduce the degree of the function by storing all values of <code>@L</code> in a hash (or array, but a hash is more space-efficient while still giving constant-time lookups). You then have <code>a</code> and <code>b</code> loops, but where you would have a <code>c</code> loop, you can instead simply check whether <code>Target - a - b</code> exists in your hash.</p>
<p>In either case, you may as well <code>sort</code> if it helps you, as even an n² term will dominate an <em>n</em> log <em>n</em> sort.</p>
<h3 id="on-solution-from-wikipedia">O(n²) solution from Wikipedia</h3>
<p>The <a href="https://en.wikipedia.org/wiki/3SUM#Quadratic_algorithm">Wikipedia link</a> given in the task description has pseudocode for a quadratic time or O(n²) algorithm. Some opted to implement that in Perl (or perhaps arrived at it independently, I have no way to know). It works by having a nested loop, with the outer loop iterating through the entire list. The inner <code>while</code> loop walks <code>start</code> and <code>end</code> indices toward each other until they meet. The decision to increment <code>start</code>, decrement <code>end</code>, or increment/decrement both depends on what the current <code>a + b + c</code> sums to:</p>
<ul>
<li><code>a + b + c == 0</code> : Increment/decrement both, assuming numbers are distinct</li>
<li><code>a + b + c  &gt; 0</code> : Decrement <code>end</code></li>
<li><code>a + b + c &lt;= 0</code> : Increment <code>start</code></li>
</ul>
<hr>
<h2 id="adam-russell1">Adam Russell</h2>
<p>Adam is back with another <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/adam-russell/perl/ch-1.pl">Prolog and Perl solution</a>! The Perl setup code is as follows, using <a href="https://metacpan.org/pod/AI::Prolog"><code>AI::Prolog</code></a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> AI::Prolog;
<span style="color:#66d9ef">use</span> constant TARGET <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">use</span> constant NUMBERS <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#34;-25, -10, -7, -3, 2, 4, 8, 10&#34;</span>;
<span style="color:#66d9ef">my</span> $prolog <span style="color:#f92672">=</span> <span style="color:#66d9ef">do</span>{
    local $/;
    <span style="color:#e6db74">&lt;DATA&gt;</span>;
};
<span style="color:#66d9ef">my</span> $numbers <span style="color:#f92672">=</span> NUMBERS;
$prolog <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/NUMBER_LIST/$numbers/</span>;
$prolog <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AI::Prolog($prolog);
$prolog<span style="color:#f92672">-&gt;</span>query(<span style="color:#e6db74">&#34;unique_triplets(X, Y, Z, &#34;</span> <span style="color:#f92672">.</span> TARGET <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;).&#34;</span>);
<span style="color:#66d9ef">my</span> $result <span style="color:#f92672">=</span> $prolog<span style="color:#f92672">-&gt;</span>results;
<span style="color:#66d9ef">my</span>($x, $y, $z) <span style="color:#f92672">=</span> @{$result}[<span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> @{$result} <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;X: $x\nY: $y\nZ: $z\n&#34;</span>;
</code></pre></div><p>The Prolog code is in the <code>__DATA__</code> section:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-prolog" data-lang="prolog"><span style="color:#a6e22e">member</span>(X,[X|T]).
<span style="color:#a6e22e">member</span>(X,[H|T]) :- <span style="color:#a6e22e">member</span>(X,T).
<span style="color:#a6e22e">numbers</span>([NUMBER_LIST]).
<span style="color:#a6e22e">unique_triplets</span>(X, Y, Z, T) :-
    <span style="color:#a6e22e">numbers</span>(L),
    <span style="color:#a6e22e">member</span>(X, L),
    <span style="color:#a6e22e">member</span>(Y, L),
    <span style="color:#a6e22e">member</span>(Z, L),
    X <span style="color:#e6db74">&lt;=</span> Y,
    Y <span style="color:#e6db74">&lt;=</span> Z,
    X <span style="color:#e6db74">&lt;=</span> Z,
    T <span style="color:#f92672">is</span> X <span style="color:#f92672">+</span> Y <span style="color:#f92672">+</span> Z.
</code></pre></div><p>I&rsquo;m glad to see Adam submitting solutions again after a brief hiatus.</p>
<p><strong>Blog</strong> › <a href="https://adamcrussell.livejournal.com/15423.html">More Perl &amp; Prolog</a></p>
<h2 id="alicia-bielsa1">Alicia Bielsa</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/alicia-bielsa/perl/ch-1.pl">Alicia Bielsa&rsquo;s solution</a> is a straightforward brute force implementation:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">my</span>  @L <span style="color:#f92672">=</span> sort(<span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>,  <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $a (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#L){
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $b ($a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$#L){
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $c ($b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$#L){
            <span style="color:#66d9ef">if</span> ( ($L[$a] <span style="color:#f92672">+</span> $L[$b] <span style="color:#f92672">+</span> $L[$c]) <span style="color:#f92672">==</span> $target){
                <span style="color:#66d9ef">print</span> $L[$a]<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;  + &#34;</span><span style="color:#f92672">.</span>$L[$b]<span style="color:#f92672">.</span><span style="color:#e6db74">&#34; + &#34;</span><span style="color:#f92672">.</span>$L[$c]<span style="color:#f92672">.</span><span style="color:#e6db74">&#34; = $target.\n&#34;</span>;
            }
        }
    }
}
</code></pre></div><h2 id="andrezgz1">Andrezgz</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/andrezgz/perl/ch-1.pl">Andrezgz&rsquo;s solution</a> is also brute force:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $integers <span style="color:#f92672">=</span> join <span style="color:#e6db74">&#39;,&#39;</span>, @ARGV;
<span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } grep {<span style="color:#e6db74">/-?\d+/</span>} split <span style="color:#e6db74">/,/</span>, $integers;
die <span style="color:#e6db74">&#34;At least 3 integers are needed&#34;</span> <span style="color:#66d9ef">if</span> @L <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>;
<span style="color:#66d9ef">my</span> $triplets;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#L <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $j ($i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#L <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $k ($j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#L) {
            <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> $L[$i] <span style="color:#f92672">+</span> $L[$j] <span style="color:#f92672">+</span> $L[$k] <span style="color:#f92672">==</span> TARGET;
            <span style="color:#66d9ef">my</span> $key <span style="color:#f92672">=</span> join <span style="color:#e6db74">&#39;#&#39;</span>, $L[$i], $L[$j], $L[$k];
            $triplets<span style="color:#f92672">-&gt;</span>{$key}<span style="color:#f92672">++</span>;
        }
    }
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#39;Triplets for target &#39;</span><span style="color:#f92672">.</span>TARGET<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;\n&#34;</span>;
printf <span style="color:#e6db74">&#34;(%s,%s,%s)\n&#34;</span>, split <span style="color:#e6db74">/#/</span> <span style="color:#66d9ef">foreach</span> keys %$triplets;
</code></pre></div><h2 id="cheok-yin-fung1">Cheok-Yin Fung</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/cheok-yin-fung/perl/ch-1.pl">Cheok-Yin Fung&rsquo;s solution</a> uses <a href="https://metacpan.org/pod/Math::Combinatorics"><code>Math::Combinatorics</code></a> to simplify obtaining the list of combinations. The loop body is a simple <code>$target == sum @tsum</code> check:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Math::Combinatorics;
<span style="color:#66d9ef">use</span> List::Util <span style="color:#e6db74">qw{sum}</span>;
<span style="color:#75715e">#Usage: ch-1.pl $target $L[0] $L[1] ... $L[$#L];</span>
<span style="color:#66d9ef">my</span> $target <span style="color:#f92672">=</span> shift @ARGV;
<span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> @ARGV;
<span style="color:#66d9ef">my</span> $tripets <span style="color:#f92672">=</span> Math::Combinatorics<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>( count <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">3</span> , data <span style="color:#f92672">=&gt;</span> [@L] );
<span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> @tsum <span style="color:#f92672">=</span> $tripets<span style="color:#f92672">-&gt;</span>next_combination) {
    <span style="color:#66d9ef">print</span> join(<span style="color:#e6db74">&#34; &#34;</span>, sort {$a<span style="color:#e6db74">&lt;=&gt;</span>$b} @tsum)<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;\n&#34;</span> <span style="color:#66d9ef">if</span> $target <span style="color:#f92672">==</span> sum @tsum;
}
</code></pre></div><h2 id="colin-crain1">Colin Crain</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/colin-crain/perl/ch-1.pl">Colin Crain&rsquo;s solution</a> reads integers from a large <code>__DATA__</code> block (not shown) to populate <code>@L</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @L;
<span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> $line <span style="color:#f92672">=</span> <span style="color:#e6db74">&lt;DATA&gt;</span>) {
    chomp $line;
    push @L, split <span style="color:#e6db74">/, /</span>, $line;
};
</code></pre></div><p>What follows is Colin&rsquo;s O(n²) solution, which maintains <code>$idx</code>, <code>$high</code>, and <code>$low</code> indexes into the sorted <code>@list</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">## nominally 0, but this can be changed easily here</span>
<span style="color:#66d9ef">my</span> $TARGET  <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">my</span> @list    <span style="color:#f92672">=</span> sort {$a <span style="color:#e6db74">&lt;=&gt;</span> $b} @L;
<span style="color:#66d9ef">my</span> $length  <span style="color:#f92672">=</span> scalar @L;
<span style="color:#66d9ef">my</span> @output;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $idx ( <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$length <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) {
    <span style="color:#75715e">## if a, the smallest value, is greater than the target value, no more</span>
    <span style="color:#75715e">## solutions are possible and we are done</span>
    <span style="color:#66d9ef">last</span> <span style="color:#66d9ef">if</span> $list[$idx] <span style="color:#f92672">&gt;</span> $TARGET;
    <span style="color:#75715e">## if a is a duplicate of the previous search, short-circuit to the next value</span>
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ($idx <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> $list[$idx] <span style="color:#f92672">==</span> $list[$idx<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
    <span style="color:#66d9ef">my</span> $a     <span style="color:#f92672">=</span> $list[$idx];
    <span style="color:#66d9ef">my</span> $low   <span style="color:#f92672">=</span> $idx <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">my</span> $high  <span style="color:#f92672">=</span> $length <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">while</span> ( $low <span style="color:#f92672">&lt;</span> $high ) {
        <span style="color:#75715e">## if b is a duplicate of the previous search, increment the index and short-circuit</span>
        <span style="color:#66d9ef">if</span> ($low <span style="color:#f92672">&gt;</span> $idx<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>  <span style="color:#f92672">&amp;&amp;</span>  $list[$low] <span style="color:#f92672">==</span> $list[$low<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]){
            $low<span style="color:#f92672">++</span>;
            <span style="color:#66d9ef">next</span>;
        }
        <span style="color:#75715e">## if c is a duplicate of the previous search, decrement the index and short-circuit</span>
        <span style="color:#66d9ef">if</span> ($high <span style="color:#f92672">&lt;</span> $length <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>  <span style="color:#f92672">&amp;&amp;</span>  $list[$high] <span style="color:#f92672">==</span> $list[$high<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]) {
            $high<span style="color:#f92672">--</span>;
            <span style="color:#66d9ef">next</span>;
        }
        <span style="color:#66d9ef">my</span> $b <span style="color:#f92672">=</span> $list[$low];
        <span style="color:#66d9ef">my</span> $c <span style="color:#f92672">=</span> $list[$high];
        <span style="color:#75715e">## on success note to output, increment the start index and decrement the end</span>
        <span style="color:#75715e">## so as not to duplicate searches</span>
        <span style="color:#66d9ef">if</span> ($a <span style="color:#f92672">+</span> $b <span style="color:#f92672">+</span> $c <span style="color:#f92672">==</span> $TARGET) {
            push @output, [$a, $b, $c];
            $low<span style="color:#f92672">++</span>;
            $high<span style="color:#f92672">--</span>;
        }
        <span style="color:#75715e">## if we are already above target shift the end element down and start again</span>
        <span style="color:#66d9ef">elsif</span> ($a <span style="color:#f92672">+</span> $b <span style="color:#f92672">+</span> $c <span style="color:#f92672">&gt;</span> $TARGET) {
            $high<span style="color:#f92672">--</span>;
        }
        <span style="color:#75715e">## else try the next internal candidate</span>
        <span style="color:#66d9ef">else</span> {
            $low<span style="color:#f92672">++</span>;
        }
    }
}
say join <span style="color:#e6db74">&#39;, &#39;</span>, $_<span style="color:#f92672">-&gt;</span>@<span style="color:#960050;background-color:#1e0010">*</span> for @output;
</code></pre></div><p>For reference, an unoptimized O(n³) solution on 1000 integers would take 1000³ = 1,000,000,000 iterations, but Colin&rsquo;s manages it in just 364,890, completing in about 0.3 seconds.</p>
<h2 id="cristian-heredia1">Cristina Heredia</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/cristian-heredia/perl/ch-1.pl">Cristina Heredia&rsquo;s solution</a> is an O(n³) loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">checkNumber</span> {
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $j<span style="color:#f92672">&lt;</span>$digits; $j<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $k<span style="color:#f92672">&lt;</span>$digits; $k<span style="color:#f92672">++</span>) {
            <span style="color:#66d9ef">if</span> ($j <span style="color:#f92672">!=</span> $k){
                <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $l<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $l<span style="color:#f92672">&lt;</span>$digits; $l<span style="color:#f92672">++</span>) {
                    <span style="color:#66d9ef">if</span> ($l <span style="color:#f92672">!=</span> $k <span style="color:#f92672">and</span> $j <span style="color:#f92672">!=</span> $l){
                        $total <span style="color:#f92672">=</span> $aNumber[$j] <span style="color:#f92672">+</span>$aNumber[$k] <span style="color:#f92672">+</span>$aNumber[$l];
                        <span style="color:#66d9ef">if</span> ($total <span style="color:#f92672">==</span> $target <span style="color:#f92672">and</span> $aNumber[$j] <span style="color:#f92672">&lt;</span> $aNumber[$k] <span style="color:#f92672">and</span> $aNumber[$k] <span style="color:#f92672">&lt;</span> $aNumber[$l]) {
                            $message <span style="color:#f92672">=</span> $message<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;Result that match the criteria are the numbers: $aNumber[$j], $aNumber[$k], $aNumber[$l]\n&#34;</span>;
                            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$message\n&#34;</span>;
                        }
                    }
                }
            }
        }
    }
    <span style="color:#66d9ef">if</span> ($message <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#39;&#39;</span>) {
        <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;There are no results\n&#34;</span>;
    }
}
</code></pre></div><h2 id="dave-cross1">Dave Cross</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/dave-cross/perl/ch-1.pl">Dave Cross&rsquo;s solution</a> also manages <code>$start</code> and <code>$end</code> indices, similar to the Wikipedia solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $target  <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">my</span> @numbers <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } grep { <span style="color:#e6db74">/^-?\d+$/</span> } @ARGV;
die <span style="color:#e6db74">&#34;Usage: $0 [list of integers]\n&#34;</span> <span style="color:#66d9ef">unless</span> @numbers;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#numbers <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
    <span style="color:#66d9ef">my</span> $x     <span style="color:#f92672">=</span> $numbers[$i];
    <span style="color:#66d9ef">my</span> $start <span style="color:#f92672">=</span> $i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">my</span> $end   <span style="color:#f92672">=</span> $#numbers;
    <span style="color:#66d9ef">while</span> ( $start <span style="color:#f92672">&lt;</span> $end ) {
        <span style="color:#66d9ef">my</span> $y <span style="color:#f92672">=</span> $numbers[$start];
        <span style="color:#66d9ef">my</span> $z <span style="color:#f92672">=</span> $numbers[$end];
        <span style="color:#66d9ef">if</span> ( $x <span style="color:#f92672">+</span> $y <span style="color:#f92672">+</span> $z <span style="color:#f92672">==</span> $target ) {
            say <span style="color:#e6db74">&#34;($x, $y, $z)&#34;</span>;
            $start<span style="color:#f92672">++</span>;
            $end<span style="color:#f92672">--</span>;
        }
        <span style="color:#66d9ef">else</span> {
            <span style="color:#66d9ef">if</span> ( $x <span style="color:#f92672">+</span> $y <span style="color:#f92672">+</span> $z <span style="color:#f92672">&gt;</span> $target ) {
                $end<span style="color:#f92672">--</span>;
            }
            <span style="color:#66d9ef">else</span> {
                $start<span style="color:#f92672">++</span>;
            }
        }
    }
}
</code></pre></div><p>It&rsquo;s quite concise for a solution of this type, and Dave&rsquo;s solution is similarly performant, requiring just 498,501 iterations to handle a 1000-integer input list.</p>
<h2 id="dave-jacoby1">Dave Jacoby</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/dave-jacoby/perl/ch-1.pl">Dave Jacoby&rsquo;s solution</a> is brute force, optimized with dynamic lower and upper bounds on each loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> ( <span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span> );
<span style="color:#66d9ef">my</span> $target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> scalar @L <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $j ( $i <span style="color:#f92672">..</span> scalar @L <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $k ( $j <span style="color:#f92672">..</span> scalar @L <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
            <span style="color:#66d9ef">my</span> $l <span style="color:#f92672">=</span> $L[$i] <span style="color:#f92672">+</span> $L[$j] <span style="color:#f92672">+</span> $L[$k];
            <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> $l <span style="color:#f92672">==</span> $target;
            say <span style="color:#e6db74">qq{  $L[$i] + $L[$j] + $L[$k] = $l }</span>;
        }
    }
}
</code></pre></div><p>The intelligent loop bounds do help quite a lot, reducing the 1000-integer test case to 167,167,000 comparisons: 16.7% of O(n³). The cubed term still dominates, though, of course.</p>
<h2 id="duncan-c-white1">Duncan C. White</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/duncan-c-white/perl/ch-1.pl">Duncan C. White&rsquo;s solution</a> uses the hash optimization approach:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">die <span style="color:#e6db74">&#34;Usage: 3-sum T LIST\n&#34;</span> <span style="color:#66d9ef">if</span> @ARGV <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>;
<span style="color:#66d9ef">my</span> $t <span style="color:#f92672">=</span> shift;
<span style="color:#66d9ef">my</span> @l <span style="color:#f92672">=</span> @ARGV;
@l <span style="color:#f92672">=</span> sort @l;
<span style="color:#66d9ef">my</span> $n   <span style="color:#f92672">=</span> @l;
<span style="color:#66d9ef">my</span> %v2p <span style="color:#f92672">=</span> map { $l[$_] <span style="color:#f92672">=&gt;</span> $_ } <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $n <span style="color:#f92672">-</span> <span style="color:#ae81ff">3</span> ) {
    <span style="color:#66d9ef">my</span> $a <span style="color:#f92672">=</span> $l[$i];
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $j ( $i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $n <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> ) {
        <span style="color:#66d9ef">my</span> $b    <span style="color:#f92672">=</span> $l[$j];
        <span style="color:#66d9ef">my</span> $sum2 <span style="color:#f92672">=</span> $a <span style="color:#f92672">+</span> $b;
        <span style="color:#66d9ef">my</span> $left <span style="color:#f92672">=</span> $t <span style="color:#f92672">-</span> $sum2;
        <span style="color:#66d9ef">if</span> ( defined $v2p{$left} ) {
            say <span style="color:#e6db74">&#34;found a=$a, b=$b, c=$left (target=$t)&#34;</span>;
        }
    }
}
</code></pre></div><p>This uses just under half of the iterations its O(n²) complexity would suggest, thanks to the careful bounds on the inner loop.</p>
<h2 id="e-choroba1">E. Choroba</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/e-choroba/perl/ch-1.pl">E. Choroba&rsquo;s solution</a> is a lightly-optimized O(n³) brute force implementation:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#!/usr/bin/perl</span>
<span style="color:#66d9ef">use</span> warnings;
<span style="color:#66d9ef">use</span> strict;
<span style="color:#66d9ef">use</span> feature <span style="color:#e6db74">qw{ say }</span>;
<span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">my</span> $target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#L <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $j ($i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#L <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $k ( $j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#L) {
            say join <span style="color:#e6db74">&#39; + &#39;</span>, sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @L[$i, $j, $k]
                <span style="color:#66d9ef">if</span> $target <span style="color:#f92672">==</span> $L[$i] <span style="color:#f92672">+</span> $L[$j] <span style="color:#f92672">+</span> $L[$k];
        }
    }
}
</code></pre></div><p>Choroba performed bounds optimizations, reducing the number of comparisons by ~83% compared to a naïve n³ solution.</p>
<p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/03/perl-weekly-challenge-051-3-sum-and-colourful-numbers.html">3 Sum and Colourful Numbers</a></p>
<h2 id="jaldhar-h-vyas1">Jaldhar H. Vyas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/jaldhar-h-vyas/perl/ch-1.pl">Jaldhar H. Vyas&rsquo;s solution</a> starts with a <code>combinations</code> sub that recursively generates combinations of numbers from the input array ref, of a specified length:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">combinations</span> {
    <span style="color:#66d9ef">my</span> @list <span style="color:#f92672">=</span> @{$_[<span style="color:#ae81ff">0</span>]};
    <span style="color:#66d9ef">my</span> $length <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    <span style="color:#66d9ef">if</span> ($length <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">return</span> map [$_], @list;
    }
    <span style="color:#66d9ef">my</span> @combos;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">+</span> $length <span style="color:#f92672">&lt;=</span> scalar @list; $i<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">my</span> $val  <span style="color:#f92672">=</span> $list[$i];
        <span style="color:#66d9ef">my</span> @rest <span style="color:#f92672">=</span> @list[$i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#list];
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $c (combinations(<span style="color:#f92672">\</span>@rest, $length <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)) {
            push @combos, [$val, @{$c}] ;
        }
    }
    <span style="color:#66d9ef">return</span> @combos;
}
</code></pre></div><p>The main logic then simply iterates over the result from <code>combinations</code> and outputs the tuples whose sum matches the target.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $T <span style="color:#f92672">=</span> shift;
<span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> @ARGV;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $combo (combinations(<span style="color:#f92672">\</span>@L, <span style="color:#ae81ff">3</span>)) {
    <span style="color:#66d9ef">my</span> @triplet <span style="color:#f92672">=</span> sort{ $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @{$combo};
    <span style="color:#66d9ef">my</span> $total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $elem (@triplet) {
        $total <span style="color:#f92672">+=</span> $elem;
    }
    <span style="color:#66d9ef">if</span> ($total <span style="color:#f92672">==</span> $T) {
        say join <span style="color:#e6db74">q{ }</span>, @triplet;
    }
}
</code></pre></div><h2 id="javier-luque1">Javier Luque</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/javier-luque/perl/ch-1.pl">Javier Luque&rsquo;s solution</a> also resembles the Wikipedia solution. The inner loop is a <code>while</code> loop that walks <code>$start</code> and <code>$end</code> indices toward each other until they meet:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>);
@L <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @L;
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> scalar(@L) <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; $i<span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">my</span> $start <span style="color:#f92672">=</span> $i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">my</span> $end   <span style="color:#f92672">=</span> scalar(@L) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">while</span> ($start <span style="color:#f92672">&lt;</span> $end) {
        <span style="color:#66d9ef">if</span> ($L[$i] <span style="color:#f92672">+</span> $L[$start] <span style="color:#f92672">+</span> $L[$end] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
            say <span style="color:#e6db74">&#34;$L[$i] + $L[$start] + $L[$end] = 0&#34;</span>;
            $start <span style="color:#f92672">=</span> $start <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
            $end <span style="color:#f92672">=</span> $end <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        } <span style="color:#66d9ef">elsif</span> ($L[$i] <span style="color:#f92672">+</span> $L[$start] <span style="color:#f92672">+</span> $L[$end] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
            $end <span style="color:#f92672">=</span> $end <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
        } <span style="color:#66d9ef">else</span> {
            $start <span style="color:#f92672">=</span> $start <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
        }
    }
}
</code></pre></div><p>This is another very capable O(n²) approach.</p>
<p>Javier mentions on his blog that he did copy the algorithm from Wikipedia, which I appreciate and respect.</p>
<p><strong>Blog</strong> › <a href="https://perlchallenges.wordpress.com/2020/03/09/perl-weekly-challenge-051/">051 – Perl Weekly Challenge</a></p>
<h2 id="mohammad-anwar1">Mohammad S Anwar</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/mohammad-anwar/perl/ch-1.pl">Mohammad S Anwar&rsquo;s solution</a> is pure, CPU-warming n³:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">my</span> $S <span style="color:#f92672">=</span> $#L;
<span style="color:#66d9ef">my</span> $T <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $S) {
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $j (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $S) {
        <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ($i <span style="color:#f92672">==</span> $j);
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $k (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $S) {
            <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> (($k <span style="color:#f92672">==</span> $i) <span style="color:#f92672">||</span> ($k <span style="color:#f92672">==</span> $j));
            <span style="color:#66d9ef">print</span> sprintf(<span style="color:#e6db74">&#34;[%d, %d, %d]\n&#34;</span>, $L[$i], $L[$j], $L[$k])
                <span style="color:#66d9ef">if</span> ($L[$i] <span style="color:#f92672">+</span> $L[$j] <span style="color:#f92672">+</span> $L[$k] <span style="color:#f92672">==</span> $T);
        }
    }
}
</code></pre></div><p>Mohammad knows his solution wasn&rsquo;t very efficient, but he enjoyed the aesthetic of this code, and I respect that. The joy of coding has always been at the heart of my own career.</p>
<p><strong>Blog</strong> › <a href="https://perlweeklychallenge.org/blog/weekly-challenge-051">BLOG: The Weekly Challenge #051</a></p>
<h2 id="phillip-harris1">Phillip Harris</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/phillip-harris/perl/ch-1.pl">Phillip Harris&rsquo;s solution</a> implements the wiki O(n²) solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> ( <span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span> );
<span style="color:#66d9ef">my</span> $target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
@L <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @L;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;INPUT:\n&#34;</span>;
<span style="color:#66d9ef">print</span> join <span style="color:#e6db74">&#34;,&#34;</span>, @L;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\n&#34;</span>;
<span style="color:#66d9ef">my</span> %triplets;
<span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $x <span style="color:#f92672">&lt;=</span> $#L ; $x<span style="color:#f92672">++</span> ) {
    <span style="color:#66d9ef">my</span> $start   <span style="color:#f92672">=</span> $x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">my</span> $end     <span style="color:#f92672">=</span> $#L;
    <span style="color:#66d9ef">my</span> $current <span style="color:#f92672">=</span> $x;
    <span style="color:#66d9ef">while</span> ( ( $end <span style="color:#f92672">-</span> $start ) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> ) {
        <span style="color:#66d9ef">my</span> $result <span style="color:#f92672">=</span> $L[$current] <span style="color:#f92672">+</span> $L[$start] <span style="color:#f92672">+</span> $L[$end];
        <span style="color:#66d9ef">if</span> ( $result <span style="color:#f92672">==</span> $target ) {
            $triplets{<span style="color:#e6db74">&#34;$L[$current],$L[$start],$L[$end]&#34;</span>} <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            $start<span style="color:#f92672">++</span>;
            $end<span style="color:#f92672">--</span>;
        }
        <span style="color:#66d9ef">elsif</span> ( $result <span style="color:#f92672">&lt;</span> $target ) { $start<span style="color:#f92672">++</span> }
        <span style="color:#66d9ef">else</span>                        { $end<span style="color:#f92672">--</span> }
    }
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\nOUTPUT:\n&#34;</span>;
<span style="color:#66d9ef">print</span> join <span style="color:#e6db74">&#34;\n&#34;</span>, keys(%triplets);
</code></pre></div><h2 id="roger-bell-west1">Roger Bell West</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/roger-bell-west/perl/ch-1.pl">Roger Bell West&rsquo;s solution</a> uses an O(n³) nested loop, putting all of the results in a result (<code>%r</code>) hash of hashes (HoH):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @l <span style="color:#f92672">=</span> ( <span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span> );
<span style="color:#66d9ef">my</span> $t <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
@l <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @l;
<span style="color:#66d9ef">my</span> %r;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $a ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#l <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> ) {
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $b ( $a <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#l <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $c ( $b <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#l ) {
            <span style="color:#66d9ef">if</span> ( $l[$a] <span style="color:#f92672">+</span> $l[$b] <span style="color:#f92672">+</span> $l[$c] <span style="color:#f92672">==</span> $t ) {
                $r{ $l[$a] }{ $l[$b] }{ $l[$c] } <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            }
        }
    }
}
</code></pre></div><p>Roger then iterates through the keys in <code>%r</code> and the sub-hashes to print the results in order:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $d ( sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } keys %r ) {
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $e ( sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } keys %{ $r{$d} } ) {
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $f ( sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } keys %{ $r{$d}{$e} } ) {
            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$d + $e + $f\n&#34;</span>;
        }
    }
}
</code></pre></div><h2 id="ruben-westerberg1">Ruben Westerberg</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/ruben-westerberg/perl/ch-1.pl">Ruben Westerberg&rsquo;s solution</a> implements a <code>combinations</code> sub that generates all possible 3-tuples and <code>grep</code>s for those tuples whose values sum to the <code>$target</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> List::Util;
<span style="color:#66d9ef">my</span> @list<span style="color:#f92672">=</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">my</span> $target<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
<span style="color:#75715e">#my @combinations=combinations(\@list,3);</span>
<span style="color:#66d9ef">my</span> @triplets<span style="color:#f92672">=</span>grep {<span style="color:#66d9ef">my</span> @s<span style="color:#f92672">=</span>sort(@$_); @s <span style="color:#f92672">~~</span> @$_ }
grep { List::Util::sum(@$_)<span style="color:#f92672">==</span>$target}
combinations(<span style="color:#f92672">\</span>@list,<span style="color:#ae81ff">3</span>);
printf <span style="color:#e6db74">&#34;3 Sum triplet: %s+%s+%s=%s\n&#34;</span>, @$_,$target <span style="color:#66d9ef">for</span> (@triplets);
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">combinations</span> {
    <span style="color:#66d9ef">my</span> @combinations<span style="color:#f92672">=</span>();
    <span style="color:#66d9ef">my</span> ($data,$size)<span style="color:#f92672">=</span>@_;
    <span style="color:#66d9ef">my</span> @indexes<span style="color:#f92672">=</span>(<span style="color:#ae81ff">0</span>) x ($size<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);;
    <span style="color:#66d9ef">my</span> $i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">until</span> ($indexes[$size]) {
        <span style="color:#66d9ef">my</span> $count<span style="color:#f92672">=</span>List::Util::uniq(@indexes[<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$size<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
        <span style="color:#75715e">#print $count,&#34;\n&#34;;;</span>
        push @combinations, [@$data[@indexes[<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$size<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]]] <span style="color:#66d9ef">if</span> $count <span style="color:#f92672">==</span> $size;
        $indexes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">++</span>;
        <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$size<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
            <span style="color:#66d9ef">if</span> ($indexes[$_] <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">==</span> ($indexes[$_] % <span style="color:#960050;background-color:#1e0010">@$</span>data)) {
                $indexes[$_]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
                $indexes[$_<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">++</span>;
            }
        }
    }
    @combinations;
}
</code></pre></div><h2 id="ryan-thompson1">Ryan Thompson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/ryan-thompson/perl/ch-1.pl">My solution</a> eliminates the inner loop by building a hash of numbers that are greater than a given number, with some help from a temporary copy of the array:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    <span style="color:#66d9ef">my</span> @a <span style="color:#f92672">=</span> @_; <span style="color:#66d9ef">my</span> %Lh <span style="color:#f92672">=</span> map { shift @a <span style="color:#f92672">=&gt;</span> { map { $_ <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> } @a } } <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$#a;
</code></pre></div><p>After this line, the keys of <code>%Lh</code> are the numbers, and the values are hashes
of numbers in <code>@_</code> that are greater. For example, if <code>@_ = (1, 5, 10, 12)</code>,
then:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">%Lh <span style="color:#f92672">=</span> (
    <span style="color:#ae81ff">1</span> <span style="color:#f92672">=&gt;</span> { <span style="color:#ae81ff">5</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">12</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> },
    <span style="color:#ae81ff">5</span> <span style="color:#f92672">=&gt;</span> {         <span style="color:#ae81ff">10</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">12</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> },
   <span style="color:#ae81ff">10</span> <span style="color:#f92672">=&gt;</span> {                  <span style="color:#ae81ff">12</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> },
   <span style="color:#ae81ff">12</span> <span style="color:#f92672">=&gt;</span> {                          },
);
</code></pre></div><p>Here is the full subroutine:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">sum3</span> {
    <span style="color:#66d9ef">my</span> $T <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> @a <span style="color:#f92672">=</span> @_; <span style="color:#66d9ef">my</span> %Lh <span style="color:#f92672">=</span> map { shift @a <span style="color:#f92672">=&gt;</span> { map { $_ <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> } @a } } <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$#a;
    <span style="color:#66d9ef">my</span> @r;
    <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> $x <span style="color:#f92672">=</span> shift) {
        $Lh{$_}{ $T<span style="color:#f92672">-</span>$x<span style="color:#f92672">-</span>$_ } <span style="color:#f92672">and</span> push @r, [$x, $_, $T<span style="color:#f92672">-</span>$x<span style="color:#f92672">-</span>$_] <span style="color:#66d9ef">for</span> @_;
    }
    @r;
}
</code></pre></div><p>This turns an O(n) loop into an O(1) lookup, and given that loop was the inner loop in an n³ algorithm, it&rsquo;s now n². It returns a result for a 1000-number input list in just 498501 iterations in about 0.3 seconds.</p>
<p><strong>Blog</strong> › <a href="http://www.ry.ca/2020/03/pwc-051/">3Sum and Colourful Numbers</a></p>
<h2 id="saiftynet1">Saif Ahmed</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/saiftynet/perl/ch-1.pl">Saif Ahmed&rsquo;s solution</a> gives us the <code>findTriplet</code> sub, an O(n³) traversal of all possible combinations, with some bounds checking:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">findTriplet</span> {
    <span style="color:#66d9ef">my</span> ( $target, @list ) <span style="color:#f92672">=</span> @_;
    @list <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @list;             <span style="color:#75715e"># the list may not be sorted, so sort first</span>
    <span style="color:#66d9ef">my</span> @found <span style="color:#f92672">=</span> ();                               <span style="color:#75715e"># initialise list triplets found</span>
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#list <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> ) {           <span style="color:#75715e"># first number cannot be the last two numbers in the list</span>
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $j ( $i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#list <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {  <span style="color:#75715e"># second number bigger than first but can not be last number</span>
            <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $k ( $j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $#list ) {  <span style="color:#75715e"># third number bigger than second in list</span>
                                                  <span style="color:#75715e"># check for triplet and if found add triplet to @found</span>
                unshift @found, [ $list[$i], $list[$j], $list[$k] ]
                    <span style="color:#66d9ef">if</span> $list[$i] <span style="color:#f92672">+</span> $list[$j] <span style="color:#f92672">+</span> $list[$k] <span style="color:#f92672">==</span> $target;
                <span style="color:#75715e"># dump duplicates using smartmatch (only check if 2 or more triplets found)</span>
                shift @found <span style="color:#66d9ef">if</span> ( @found <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">and</span> @{ $found[<span style="color:#ae81ff">0</span>] } <span style="color:#f92672">~~</span> @{ $found[<span style="color:#ae81ff">1</span>] } );
            }
        }
    }
    <span style="color:#66d9ef">if</span> (@found) {
        <span style="color:#66d9ef">print</span> scalar @found, <span style="color:#e6db74">&#34; Triplets found\n&#34;</span>;
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $triple (@found) {
            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;[ $$triple[0], $$triple[1], $$triple[2] ] &#34;</span>;
        }
    }
    <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;No Triplet found that add to $target\n&#34;</span>;
    }
}
</code></pre></div><p>The bounds optimizations bring the iterations down by around 83% for a 1000-item list, at around 166 million.</p>
<h2 id="ulrich-rieke1">Ulrich Rieke</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/ulrich-rieke/perl/ch-1.pl">Ulrich Rieke&rsquo;s solution</a> is the O(n²) wiki solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">findTriplets</span> {
    <span style="color:#66d9ef">my</span> $sum   <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> $array <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> $len   <span style="color:#f92672">=</span> scalar @{$array};
    <span style="color:#66d9ef">my</span> @result;
    <span style="color:#66d9ef">if</span> ( $len <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> ) {
        <span style="color:#66d9ef">return</span> ();
    }
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $len <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> ) {
        <span style="color:#66d9ef">my</span> $a     <span style="color:#f92672">=</span> ${$array}[$i];
        <span style="color:#66d9ef">my</span> $start <span style="color:#f92672">=</span> $i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">my</span> $end   <span style="color:#f92672">=</span> $len <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">while</span> ( $start <span style="color:#f92672">&lt;</span> $end ) {
            <span style="color:#66d9ef">my</span> $b <span style="color:#f92672">=</span> ${$array}[$start];
            <span style="color:#66d9ef">my</span> $c <span style="color:#f92672">=</span> ${$array}[$end];
            <span style="color:#66d9ef">if</span> ( $a <span style="color:#f92672">+</span> $b <span style="color:#f92672">+</span> $c <span style="color:#f92672">==</span> $sum ) {
                <span style="color:#66d9ef">my</span> @innerresult;
                push( @innerresult, $a, $b, $c );
                push( @result, <span style="color:#f92672">\</span>@innerresult );
                $start<span style="color:#f92672">++</span>;
                $end<span style="color:#f92672">--</span>;
            }
            <span style="color:#66d9ef">elsif</span> ( $a <span style="color:#f92672">+</span> $b <span style="color:#f92672">+</span> $c <span style="color:#f92672">&gt;</span> $sum ) {
                $end<span style="color:#f92672">--</span>;
            }
            <span style="color:#66d9ef">else</span> {
                $start<span style="color:#f92672">++</span>;
            }
        }
    }
    <span style="color:#66d9ef">return</span> @result;
}
</code></pre></div><h2 id="user-person1">User Person</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/user-person/perl/ch-1.pl">User Person&rsquo;s solution</a> is an O(n³) implementation with the usual bounds optimizations for the usual 83% savings compared to pure brute force:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> %seen <span style="color:#f92672">=</span> ();
<span style="color:#66d9ef">for</span>         ( <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span>    <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;=</span> $#L<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>; <span style="color:#f92672">++</span>$i ) {
    <span style="color:#66d9ef">for</span>     ( <span style="color:#66d9ef">my</span> $j <span style="color:#f92672">=</span> $i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>; $j <span style="color:#f92672">&lt;=</span> $#L<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; <span style="color:#f92672">++</span>$j ) {
      INNER:
        <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $k <span style="color:#f92672">=</span> $j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>; $k <span style="color:#f92672">&lt;=</span> $#L  ; <span style="color:#f92672">++</span>$k ) {
            <span style="color:#66d9ef">my</span> $sum <span style="color:#f92672">=</span> $L[$i] <span style="color:#f92672">+</span> $L[$j] <span style="color:#f92672">+</span> $L[$k];
            <span style="color:#66d9ef">if</span> ($sum <span style="color:#f92672">==</span> $T) {
                <span style="color:#66d9ef">my</span> $string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;$L[$i] + $L[$j] + $L[$k] = $T&#34;</span>;
                <span style="color:#66d9ef">if</span> (exists($seen{$string})) {
                    <span style="color:#66d9ef">next</span> INNER;
                } <span style="color:#66d9ef">else</span> {
                    <span style="color:#66d9ef">print</span> $string <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;\n&#34;</span> <span style="color:#66d9ef">if</span> $sum <span style="color:#f92672">==</span> $T;
                    $seen{$string}<span style="color:#f92672">++</span>;
                }
            }
        }
    }
}
</code></pre></div><h2 id="walt-mankowski1">Walt Mankowski</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/walt-mankowski/perl/ch-1.pl">Walt Mankowski&rsquo;s solution</a> uses <a href="https://metacpan.org/pod/Algorithm::Combinatorics"><code>Algorithm::Combinatorics</code></a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Algorithm::Combinatorics <span style="color:#e6db74">qw(combinations)</span>;
<span style="color:#66d9ef">use</span> List::Util <span style="color:#e6db74">qw(sum)</span>;
<span style="color:#66d9ef">my</span> @L <span style="color:#f92672">=</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">25</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>);
@L <span style="color:#f92672">=</span> sort {$a <span style="color:#e6db74">&lt;=&gt;</span> $b} @L;
<span style="color:#66d9ef">my</span> $target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">my</span> $iter <span style="color:#f92672">=</span> combinations(<span style="color:#f92672">\</span>@L, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> $iter<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">next</span>) {
    say prettyprint($p, $target) <span style="color:#66d9ef">if</span> sum(@$p) <span style="color:#f92672">==</span> $target;
}
</code></pre></div><p>On my 1000-item test run, while the number of combinations was 166 million (83% less than the 1 billion of pure n³), it took over 4 minutes to run. <code>Algorithm::Combinatorics</code> is known to be somewhat slower than <code>Algorithm::Permute</code>, so that is the likely reason.</p>
<p>The <code>prettyprint</code> sub is a thoughtful touch:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">prettyprint</span>($p, $target) {
    <span style="color:#66d9ef">my</span> $s <span style="color:#f92672">=</span> $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$#$p) {
        $s <span style="color:#f92672">.=</span> $p<span style="color:#f92672">-&gt;</span>[$i] <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> ? <span style="color:#e6db74">&#39; + &#39;</span> : <span style="color:#e6db74">&#39; - &#39;</span>;
        $s <span style="color:#f92672">.=</span> abs($p<span style="color:#f92672">-&gt;</span>[$i]);
    }
    $s <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#34; = $target&#34;</span>;
    <span style="color:#66d9ef">return</span> $s;
}
</code></pre></div><p>It takes care of the signs, so instead of seeing things like <code>-7 + -3 + 10</code>, you instead see <code>-7 - 3 + 10</code>, which is more natural.</p>
<h2 id="wanderdoc1">Wanderdoc</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/wanderdoc/perl/ch-1.pl">Wanderdoc&rsquo;s solution</a> is a slightly faster variant of the O(n²) algorithm:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">find_triplets</span> {
    <span style="color:#66d9ef">my</span> @arr <span style="color:#f92672">=</span> sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @{ $_[<span style="color:#ae81ff">0</span>] };
    <span style="color:#66d9ef">my</span> $t   <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    <span style="color:#66d9ef">my</span> @result;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $pt1 ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#arr ) {
        <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $pt1 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> $arr[$pt1] <span style="color:#f92672">==</span> $arr[ $pt1 <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ];
        <span style="color:#66d9ef">my</span> $pt2 <span style="color:#f92672">=</span> $pt1 <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">my</span> $pt3 <span style="color:#f92672">=</span> $#arr;
        <span style="color:#66d9ef">while</span> ( $pt2 <span style="color:#f92672">&lt;</span> $pt3 ) {
            <span style="color:#66d9ef">if</span> ( $arr[$pt1] <span style="color:#f92672">+</span> $arr[$pt2] <span style="color:#f92672">+</span> $arr[$pt3] <span style="color:#f92672">==</span> $t ) {
                push @result, [ $arr[$pt1], $arr[$pt2], $arr[$pt3] ];
                $pt2<span style="color:#f92672">++</span>;
            }
            <span style="color:#66d9ef">elsif</span> ( $arr[$pt1] <span style="color:#f92672">+</span> $arr[$pt2] <span style="color:#f92672">+</span> $arr[$pt3] <span style="color:#f92672">&lt;</span> $t ) {
                $pt2<span style="color:#f92672">++</span>;
            }
            <span style="color:#66d9ef">else</span> {
                $pt3<span style="color:#f92672">--</span>;
            }
        }
    }
    <span style="color:#66d9ef">return</span> @result;
}
</code></pre></div><p>The key to the speedup is this line:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">        <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $pt1 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> $arr[$pt1] <span style="color:#f92672">==</span> $arr[ $pt1 <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ];
</code></pre></div><p>If the list contains duplicates, skipping them early can result in an improvement. But then I wondered whether this was better, worse, or the same as filtering out <code>uniq</code> elements at the top of the function call instead. Here are the results:</p>
<pre><code>╭───────────────┬────────────┬──────────╮
│ Test          │ Iterations │ Time(ms) │
├───────────────┼────────────┼──────────┤
│ Original code │    320,101 │      162 │
│ No dupe check │    478,298 │      234 │
│ uniq @L       │    213,531 │      124 │
╰───────────────┴────────────┴──────────╯
</code></pre><p>Sometimes my curiosity takes me to interesting places. Other times it has me drawing tables in Vim.</p>
<h2 id="yet-ebreo1">Yet Ebreo</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/yet-ebreo/perl/ch-1.pl">Yet Ebreo&rsquo;s solution</a> also implements the O(n²) wiki solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">get_triplets</span> {
    <span style="color:#66d9ef">my</span> ($list, $target) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> @sorted <span style="color:#f92672">=</span> sort { $a <span style="color:#f92672">-</span> $b } @{$list};
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>@sorted<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>) {
        <span style="color:#66d9ef">my</span> $a <span style="color:#f92672">=</span> $sorted[$i];
        <span style="color:#66d9ef">my</span> $start <span style="color:#f92672">=</span> $i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">my</span> $end <span style="color:#f92672">=</span> @sorted <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">while</span> ($start <span style="color:#f92672">&lt;</span> $end) {
            <span style="color:#66d9ef">my</span> $b <span style="color:#f92672">=</span> $sorted[$start];
            <span style="color:#66d9ef">my</span> $c <span style="color:#f92672">=</span> $sorted[$end];
            <span style="color:#66d9ef">if</span> ($a <span style="color:#f92672">+</span> $b <span style="color:#f92672">+</span> $c <span style="color:#f92672">==</span> $target) {
                say <span style="color:#e6db74">&#34;$a $b $c&#34;</span>;
                $start<span style="color:#f92672">++</span>;
                $end<span style="color:#f92672">--</span>;
            } <span style="color:#66d9ef">elsif</span> ($a <span style="color:#f92672">+</span> $b <span style="color:#f92672">+</span> $c <span style="color:#f92672">&gt;</span> $target) {
                $end<span style="color:#f92672">--</span>;
            } <span style="color:#66d9ef">else</span> {
                $start<span style="color:#f92672">++</span>;
            }
        }
    }
}
</code></pre></div><hr>
<hr>
<h1 id="task2">Task #2 - Colourful Number</h1>
<p>Original task description:</p>
<p>Write a script to display all Colorful Number with 3 digits.</p>
<p>A number can be declare Colorful Number where all the products of consecutive subsets of digit are different.</p>
<p>For example, 263 is a Colorful Number since 2, 6, 3, 2x6, 6x3, 2x6x3 are unique.</p>
<hr>
<h2 id="solution-types-1">Solution types</h2>
<p>There was really only one way to do it, with some variations:</p>
<h3 id="check-every-number-on">Check every number O(n)</h3>
<p>Since our range only spans 900 numbers, it&rsquo;s reasonable to simply check them all, and see which ones are Colourful. To check whether a number is Colourful, one simply has to try all of the multiplications, and then make sure they are all unique:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">colourful</span> {
    <span style="color:#66d9ef">my</span> ($x, $y, $z) <span style="color:#f92672">=</span> split <span style="color:#e6db74">&#39;&#39;</span>, shift;
    <span style="color:#ae81ff">6</span> <span style="color:#f92672">==</span> uniq $x<span style="color:#f92672">*</span>$y, $x<span style="color:#f92672">*</span>$y<span style="color:#f92672">*</span>$z, $y<span style="color:#f92672">*</span>$z, $x, $y, $z;
}
</code></pre></div><p>I use <code>uniq</code> here, but using a hash works equally well.</p>
<p>The task specifically calls for 3-digit numbers, but hopefully you can see expanding the above to handle longer numbers would be possible. Some of you did that, but most stuck to the task description.</p>
<p>No matter how you do it, the efficiency of this method is O(n) on the number of integers in the target range. I strongly suspect you can do no better than O(n), but I don&rsquo;t have time to consider a proof. I&rsquo;d be very happy to be proven wrong!</p>
<hr>
<h2 id="adam-russell2">Adam Russell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/adam-russell/perl/ch-2.pl">Adam Russell&rsquo;s solution</a> is another Prolog relation using <a href="https://metacpan.org/pod/AI::Prolog"><code>AI::Prolog</code></a>. First, the supporting Perl code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> AI::Prolog;
MAIN:{
    <span style="color:#66d9ef">my</span> $prolog <span style="color:#f92672">=</span> <span style="color:#66d9ef">do</span>{
        local $/;
        <span style="color:#e6db74">&lt;DATA&gt;</span>;
    };
    $prolog <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AI::Prolog($prolog);
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $n (<span style="color:#ae81ff">100</span><span style="color:#f92672">..</span><span style="color:#ae81ff">999</span>){
        <span style="color:#66d9ef">my</span>($x, $y, $z) <span style="color:#f92672">=</span> split(<span style="color:#e6db74">//</span>, $n);
        $prolog<span style="color:#f92672">-&gt;</span>query(<span style="color:#e6db74">&#34;colorful($x, $y, $z).&#34;</span>);
        <span style="color:#66d9ef">my</span> $result <span style="color:#f92672">=</span> $prolog<span style="color:#f92672">-&gt;</span>results;
        <span style="color:#66d9ef">if</span>($result){
            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$n: colorful number\n&#34;</span>;
        }
        <span style="color:#66d9ef">else</span>{
            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$n: not a colorful number\n&#34;</span>;
        }
    }
}
</code></pre></div><p>And here is the Prolog, from the <code>__DATA__</code> segment:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-prolog" data-lang="prolog"><span style="color:#a6e22e">colorful</span>(X, Y, Z) :-
    A <span style="color:#f92672">is</span> X <span style="color:#f92672">*</span> Y,
    B <span style="color:#f92672">is</span> Y <span style="color:#f92672">*</span> Z,
    C <span style="color:#f92672">is</span> X <span style="color:#f92672">*</span> Y <span style="color:#f92672">*</span> Z,
    X <span style="color:#e6db74">\=</span> Y,
    Y <span style="color:#e6db74">\=</span> Z,
    X <span style="color:#e6db74">\=</span> Z,
    X <span style="color:#e6db74">\=</span> A,
    X <span style="color:#e6db74">\=</span> B,
    X <span style="color:#e6db74">\=</span> C,
    Y <span style="color:#e6db74">\=</span> A,
    Y <span style="color:#e6db74">\=</span> B,
    Y <span style="color:#e6db74">\=</span> C,
    Z <span style="color:#e6db74">\=</span> A,
    Z <span style="color:#e6db74">\=</span> B,
    Z <span style="color:#e6db74">\=</span> C.
</code></pre></div><p>Even if you don&rsquo;t know any Prolog, the above should be comprehensible: the <code>colorful</code> relation first sets <code>A</code>, <code>B</code>, and <code>C</code> to the results of the possible multiplications, and then the rest of the relation asserts that all of these (and the initial <code>X</code>, <code>Y</code> and <code>Z</code> inputs) must be different from each other.</p>
<p><strong>Blog</strong> › <a href="https://adamcrussell.livejournal.com/15423.html">More Perl &amp; Prolog</a></p>
<h2 id="alicia-bielsa2">Alicia Bielsa</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/alicia-bielsa/perl/ch-2.pl">Alicia Bielsa&rsquo;s solution</a> handles numbers of arbitrary length:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">isColorful</span> {
    <span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> @aDigits <span style="color:#f92672">=</span> split (<span style="color:#e6db74">&#39;&#39;</span>, $number);
    <span style="color:#66d9ef">my</span> %hProducts <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">my</span> $lengthNumber <span style="color:#f92672">=</span> scalar(@aDigits);
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $subset  (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$lengthNumber){
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#aDigits){
            <span style="color:#66d9ef">my</span> $setFound <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            <span style="color:#66d9ef">my</span> $product  <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $s (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$subset<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>){
                <span style="color:#66d9ef">if</span> (defined $aDigits[$i<span style="color:#f92672">+</span>$s]){
                    $product <span style="color:#f92672">*=</span> $aDigits[$i<span style="color:#f92672">+</span>$s];
                } <span style="color:#66d9ef">else</span> {
                   $setFound <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
                }
            }
            <span style="color:#66d9ef">if</span> ($setFound){
                <span style="color:#66d9ef">if</span> (exists $hProducts{$product}){
                    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
                } <span style="color:#66d9ef">else</span> {
                    $hProducts{$product} <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
                }
            }
        }
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><p>I like this solution, in that it challenges the limits of the original task.</p>
<h2 id="andrezgz2">Andrezgz</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/andrezgz/perl/ch-2.pl">Andrezgz&rsquo;s solution</a> uses a <code>%unique</code> hash to ensure he gets exactly six unique results from the multiplications:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $n (<span style="color:#ae81ff">100</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">999</span>) {
    <span style="color:#66d9ef">my</span> %unique;
    <span style="color:#66d9ef">my</span> ($f,$s,$t) <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $n;
    @unique{$f, $s, $t, $f<span style="color:#f92672">*</span>$s, $s<span style="color:#f92672">*</span>$t, $f<span style="color:#f92672">*</span>$s<span style="color:#f92672">*</span>$t} <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>) x <span style="color:#ae81ff">6</span>;
    <span style="color:#66d9ef">print</span> $n<span style="color:#f92672">.</span>$/ <span style="color:#66d9ef">if</span> keys %unique <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span>;
}
</code></pre></div><p>The hash slice makes this one quite compact. I like it.</p>
<h2 id="cheok-yin-fung2">Cheok-Yin Fung</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/cheok-yin-fung/perl/ch-2.pl">Cheok-Yin Fung&rsquo;s solution</a> uses <a href="https://metacpan.org/pod/Algorithm::Permute"><code>Algorithm::Permute</code></a> to generate all possible lists of <code>$digits</code> digits from 2..9. (Cheok Yin made the observation that the digits 0 and 1 will never appear in a number.)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Algorithm::Permute;
<span style="color:#66d9ef">use</span> List::Util <span style="color:#e6db74">qw{product any}</span>;
<span style="color:#66d9ef">my</span> $digits <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;   <span style="color:#75715e">#can be changed to 2, 4 or 5,</span>
                  <span style="color:#75715e">#both produce colourful numbers within reasonable waiting time</span>
<span style="color:#66d9ef">my</span> $permat    <span style="color:#f92672">=</span> Algorithm::Permute<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>( [ <span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span> ], $digits );
<span style="color:#66d9ef">my</span> @colourful <span style="color:#f92672">=</span> ();
<span style="color:#66d9ef">while</span> ( <span style="color:#66d9ef">my</span> @m <span style="color:#f92672">=</span> $permat<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">next</span> ) {
    <span style="color:#66d9ef">my</span> @box <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span>) x ( product( <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> $digits <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span> ) <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> );

    <span style="color:#75715e"># $box[0] is for result of multiplication as 2,</span>
    <span style="color:#75715e"># $box[1] is for result of a result of multiplication as 3,</span>
    <span style="color:#75715e"># $box[70] is for result of a result of multiplication as 72, etc..</span>
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $j ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#m ) {
        <span style="color:#66d9ef">my</span> @a <span style="color:#f92672">=</span> ();
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#m <span style="color:#f92672">-</span> $j ) {
            push @a, $m[ $i <span style="color:#f92672">+</span> $j ];
            $box[ product(@a) <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> ]<span style="color:#f92672">++</span>;
        }
    }
    push @colourful, scalar join( <span style="color:#e6db74">&#34;&#34;</span>, @m ) <span style="color:#66d9ef">unless</span> any { $_ <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> } @box;
}
<span style="color:#66d9ef">print</span> join <span style="color:#e6db74">&#34;\n&#34;</span>, sort @colourful;
</code></pre></div><h2 id="colin-crain2">Colin Crain</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/colin-crain/perl/ch-2.pl">Colin Crain&rsquo;s solution</a> uses a hash to determine if all products are unique:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">colorful3</span> {
    <span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> ($hundreds, $tens, $ones) <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $number;
    <span style="color:#66d9ef">my</span> %products <span style="color:#f92672">=</span> map { $_ <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> } ($hundreds, $tens, $ones, $hundreds <span style="color:#f92672">*</span> $tens,
                                    $tens <span style="color:#f92672">*</span> $ones, $hundreds <span style="color:#f92672">*</span> $tens <span style="color:#f92672">*</span> $ones);
    keys %products <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span> ? <span style="color:#ae81ff">1</span> : <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h2 id="cristian-heredia2">Cristina Heredia</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/cristian-heredia/perl/ch-2.pl">Cristina Heredia&rsquo;s solution</a> includes a <code>checkNumber</code> sub that prints a message if the given number (passed in as a list of digits) is colourful:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">checkNumber</span> {
    $first <span style="color:#f92672">=</span> $aNumber[<span style="color:#ae81ff">0</span>];
    $second <span style="color:#f92672">=</span> $aNumber[<span style="color:#ae81ff">1</span>];
    $third <span style="color:#f92672">=</span> $aNumber[<span style="color:#ae81ff">2</span>];
    $firstMult <span style="color:#f92672">=</span> $first <span style="color:#f92672">*</span> $second;
    $secondMult <span style="color:#f92672">=</span> $first <span style="color:#f92672">*</span> $third;
    $thirdMult <span style="color:#f92672">=</span> $second <span style="color:#f92672">*</span> $third;
    $fourthMult <span style="color:#f92672">=</span> $first <span style="color:#f92672">*</span> $second <span style="color:#f92672">*</span> $third;
    <span style="color:#66d9ef">if</span> ($first <span style="color:#f92672">!=</span> $second <span style="color:#f92672">and</span> $first <span style="color:#f92672">!=</span> $third <span style="color:#f92672">and</span> $second <span style="color:#f92672">!=</span> $third
        <span style="color:#f92672">and</span> $firstMult <span style="color:#f92672">!=</span> $first <span style="color:#f92672">and</span> $firstMult <span style="color:#f92672">!=</span> $second <span style="color:#f92672">and</span> $firstMult <span style="color:#f92672">!=</span> $third
        <span style="color:#f92672">and</span> $secondMult <span style="color:#f92672">!=</span> $first <span style="color:#f92672">and</span> $secondMult <span style="color:#f92672">!=</span> $second <span style="color:#f92672">and</span> $secondMult <span style="color:#f92672">!=</span> $third
        <span style="color:#f92672">and</span> $thirdMult <span style="color:#f92672">!=</span> $first <span style="color:#f92672">and</span> $thirdMult <span style="color:#f92672">!=</span> $second <span style="color:#f92672">and</span> $thirdMult <span style="color:#f92672">!=</span> $third
        <span style="color:#f92672">and</span> $fourthMult <span style="color:#f92672">!=</span> $first <span style="color:#f92672">and</span> $fourthMult <span style="color:#f92672">!=</span> $second <span style="color:#f92672">and</span> $fourthMult <span style="color:#f92672">!=</span> $third
        <span style="color:#f92672">and</span> $firstMult <span style="color:#f92672">!=</span> $secondMult <span style="color:#f92672">and</span> $firstMult <span style="color:#f92672">!=</span> $second <span style="color:#f92672">and</span> $secondMult <span style="color:#f92672">!=</span> $third) {
        <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;The number $number is a colorful Number&#34;</span>;
    }
    <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;The number $number is not a colorful Number&#34;</span>;
    }
}
</code></pre></div><p>Note that instead of using <code>uniq</code> or a hash, Cristina checks every pair of products, which works equally well.</p>
<h2 id="dave-cross2">Dave Cross</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/dave-cross/perl/ch-2.pl">Dave Cross&rsquo;s solution</a> uses a hash to check for uniqueness:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">NUMBER:
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $n ( <span style="color:#ae81ff">100</span> <span style="color:#f92672">...</span> <span style="color:#ae81ff">999</span> ) {
    <span style="color:#66d9ef">my</span> %product;
    <span style="color:#66d9ef">my</span> ( $x, $y, $z ) <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $n;
    $product{$_}<span style="color:#f92672">++</span> <span style="color:#66d9ef">for</span> ( $x, $y, $z, $x <span style="color:#f92672">*</span> $y, $y <span style="color:#f92672">*</span> $z, $x <span style="color:#f92672">*</span> $y <span style="color:#f92672">*</span> $z );

    say <span style="color:#e6db74">&#34;$n is colourful&#34;</span> <span style="color:#66d9ef">if</span> keys %product <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span>;
}
</code></pre></div><h2 id="dave-jacoby2">Dave Jacoby</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/dave-jacoby/perl/ch-2.pl">Dave Jacoby&rsquo;s solution</a> fights back against <a href="https://en.wikipedia.org/wiki/Feature_creep">feature creep</a>, stating in a comment that handling arbitrarily large numbers &ldquo;is a topic for another time&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_colorful</span>( $d ) {
    <span style="color:#66d9ef">my</span> %test;
    <span style="color:#66d9ef">my</span> ( $i, $j, $k ) <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $d;    <span style="color:#75715e"># 263 becomes 2,6,3</span>
    map { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">++</span>$test{$_} <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>; } $i, $j, $k, ( $i <span style="color:#f92672">*</span> $j ),
        ( $j <span style="color:#f92672">*</span> $k ), ( $i <span style="color:#f92672">*</span> $j <span style="color:#f92672">*</span> $k );
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><p>Dave also states that he &ldquo;has been told that using <code>map</code> as a cheat array is dirty pool, but it makes this solution a bit cleaner.&rdquo; Yet it works, is efficient, and is easy to understand and maintain. If that&rsquo;s what &ldquo;dirty pool&rdquo; looks like then sign me up.</p>
<h2 id="duncan-c-white2">Duncan C. White</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/duncan-c-white/perl/ch-2.pl">Duncan C. White&rsquo;s solution</a> implements a <code>colourful</code> function that handles arbitrarily long integers, fairly compactly:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Function::Parameters;

fun colourful($x) {
    <span style="color:#66d9ef">my</span> @dig <span style="color:#f92672">=</span> split(<span style="color:#e6db74"> //</span>, $x );    <span style="color:#75715e"># find all digits.</span>
    <span style="color:#66d9ef">my</span> $n   <span style="color:#f92672">=</span> @dig;
    <span style="color:#66d9ef">my</span> %seen;                     <span style="color:#75715e"># combinations already seen.</span>
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $startpos ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $endpos ( $startpos <span style="color:#f92672">..</span> $n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {

            <span style="color:#66d9ef">my</span> $prod <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $p ( $startpos <span style="color:#f92672">..</span> $endpos ) {
                $prod <span style="color:#f92672">*=</span> $dig[$p];
            }

            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> $seen{$prod}<span style="color:#f92672">++</span>;
        }
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><h2 id="e-choroba2">E. Choroba</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/e-choroba/perl/ch-2.pl">E. Choroba&rsquo;s solution</a> also handles integers of arbitrary length:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> List::Util <span style="color:#e6db74">qw{ product }</span>;
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_colorful_number</span> {
    <span style="color:#66d9ef">my</span> ($n) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> $max_length <span style="color:#f92672">=</span> length $n;
    <span style="color:#66d9ef">my</span> %uniq;
    <span style="color:#66d9ef">my</span> $count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $length (<span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $max_length) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $pos (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $max_length <span style="color:#f92672">-</span> $length) {
            <span style="color:#66d9ef">my</span> @pattern <span style="color:#f92672">=</span> ((<span style="color:#ae81ff">0</span>) x $pos, (<span style="color:#ae81ff">1</span>) x $length);
            undef $uniq{
                product((split <span style="color:#e6db74">//</span>, $n)[ grep $pattern[$_], <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#pattern ])
            };
        }
    }
    <span style="color:#66d9ef">return</span> ($max_length <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> $max_length) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> keys %uniq;
}
say <span style="color:#66d9ef">for</span> grep is_colorful_number($_), <span style="color:#ae81ff">100</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">999</span>;
</code></pre></div><p>Although I use <a href="https://metacpan.org/pod/List::Util"><code>List::Util</code></a> in most of my Perl modules, my brain for some reason still has a hard time remembering <code>product</code> exists, and the muscle memory of <code>reduce { $a * $b } @_</code> is a stubborn habit to break. My lame excuse is that a <code>List::Util</code> with <code>product</code> was &ldquo;just&rdquo; added to core in Perl 5.20, six years ago.</p>
<p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/03/perl-weekly-challenge-051-3-sum-and-colourful-numbers.html">3 Sum and Colourful Numbers</a></p>
<h2 id="jaldhar-h-vyas2">Jaldhar H. Vyas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/jaldhar-h-vyas/perl/ch-2.pl">Jaldhar H. Vyas&rsquo;s solution</a> looks at 3-digit numbers, first gathering all the <code>@products</code>, then using a counting hash to see if any product is repeated more than once:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">isColorful</span> {
    <span style="color:#66d9ef">my</span> ($n) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> %subsets;
    <span style="color:#66d9ef">my</span> @digits <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $n;
    <span style="color:#66d9ef">my</span> @products <span style="color:#f92672">=</span> @digits;
    push @products, $digits[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">1</span>];
    push @products, $digits[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">2</span>];
    push @products, $digits[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">2</span>];
    map { $subsets{$_}<span style="color:#f92672">++</span> } @products;
    <span style="color:#66d9ef">return</span> <span style="color:#f92672">!</span>grep { $_ <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> } values %subsets;
}
</code></pre></div><h2 id="javier-luque2">Javier Luque</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/javier-luque/perl/ch-2.pl">Javier Luque&rsquo;s solution</a> uses a 3-nested loop for <code>$h</code>undreds, <code>$t</code>ens and <code>$o</code>nes places, instead of looping from 100..999 and then using <code>split</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @solutions;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $h (<span style="color:#ae81ff">2</span> <span style="color:#f92672">...</span> <span style="color:#ae81ff">9</span>) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $t (<span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span>) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $o (<span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span>) {
            <span style="color:#66d9ef">if</span> ( $h <span style="color:#f92672">*</span> $t <span style="color:#f92672">!=</span> $t <span style="color:#f92672">*</span> $o <span style="color:#f92672">&amp;&amp;</span>
                 $h <span style="color:#f92672">*</span> $t <span style="color:#f92672">!=</span> $h <span style="color:#f92672">*</span> $t <span style="color:#f92672">*</span> $o <span style="color:#f92672">&amp;&amp;</span>
                 $h <span style="color:#f92672">*</span> $o <span style="color:#f92672">!=</span> $h <span style="color:#f92672">*</span> $t <span style="color:#f92672">*</span> $o <span style="color:#f92672">&amp;&amp;</span>
                 $t <span style="color:#f92672">*</span> $o <span style="color:#f92672">!=</span> $h <span style="color:#f92672">*</span> $t <span style="color:#f92672">*</span> $o) {
                push @solutions, <span style="color:#e6db74">&#34;$h$t$o&#34;</span>;
            }
        }
    }
}
say join <span style="color:#e6db74">&#39; &#39;</span>, @solutions;
</code></pre></div><p>Note that this also returns numbers with repeated digits. Javier calculates the products correctly, but does not check whether the individual digits themselves are unique, as per the example in the task spec. This leads to numbers with repeated digits (e.g., 788, 998) being accepted instead of rejected.</p>
<p><strong>Blog</strong> › <a href="https://perlchallenges.wordpress.com/2020/03/09/perl-weekly-challenge-051/">051 – Perl Weekly Challenge</a></p>
<h2 id="mohammad-anwar2">Mohammad S Anwar</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/mohammad-anwar/perl/ch-2.pl">Mohammad S Anwar&rsquo;s solution</a> first asserts that all digits must be unique, and then goes about computing the various products, and then checks whether the number of products matches the number of unique products:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> List::Util <span style="color:#ae81ff">1.45</span> <span style="color:#e6db74">qw(uniq)</span>;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">234</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">987</span>) {
    <span style="color:#66d9ef">my</span> @N <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $i;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ( scalar(uniq(@N)) <span style="color:#f92672">!=</span> scalar(@N) );
    <span style="color:#66d9ef">my</span> @S <span style="color:#f92672">=</span> ($N[<span style="color:#ae81ff">0</span>], $N[<span style="color:#ae81ff">1</span>], $N[<span style="color:#ae81ff">2</span>], ($N[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> $N[<span style="color:#ae81ff">1</span>]), ($N[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> $N[<span style="color:#ae81ff">2</span>]), ($N[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> $N[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> $N[<span style="color:#ae81ff">2</span>]));
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;[$i] =&gt; [&#34;</span>, join(<span style="color:#e6db74">&#34;, &#34;</span>, @S), <span style="color:#e6db74">&#34;]\n&#34;</span>
        <span style="color:#66d9ef">if</span> ( scalar(uniq(@S)) <span style="color:#f92672">==</span> scalar(@S) );
}
</code></pre></div><p>I&rsquo;m glad to see Mohammad continuing to blog about his participation in the challenge.</p>
<p><strong>Blog</strong> › <a href="https://perlweeklychallenge.org/blog/weekly-challenge-051">BLOG: The Weekly Challenge #051</a></p>
<h2 id="phillip-harris2">Phillip Harris</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/phillip-harris/perl/ch-2.pl">Phillip Harris&rsquo;s solution</a> handles arbitrarily large integers, checking uniqueness with a hash:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">checkcolorful</span>() {
    <span style="color:#66d9ef">my</span> %products;
    <span style="color:#66d9ef">my</span> @digits <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $x <span style="color:#f92672">&lt;=</span> $#digits ; $x<span style="color:#f92672">++</span> ) {
        <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $y <span style="color:#f92672">+</span> $x <span style="color:#f92672">&lt;=</span> $#digits ; $y<span style="color:#f92672">++</span> ) {
            <span style="color:#66d9ef">my</span> $total <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $z <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $z <span style="color:#f92672">&lt;=</span> $x ; $z<span style="color:#f92672">++</span> ) {
                $total <span style="color:#f92672">=</span> $total <span style="color:#f92672">*</span> $digits[ $y <span style="color:#f92672">+</span> $z ];
            }
            <span style="color:#66d9ef">if</span> ( $products{$total} <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> ) {
                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
            }
            <span style="color:#66d9ef">else</span> { $products{$total} <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> }
        }
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><h2 id="roger-bell-west2">Roger Bell West</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/roger-bell-west/perl/ch-2.pl">Roger Bell West&rsquo;s solution</a> loops over the digits, <code>$a</code>, <code>$b</code>, and <code>$c</code> to get all candidate 3-digit numbers using the digits 2..9:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> integer;
<span style="color:#66d9ef">use</span> List::Util <span style="color:#e6db74">qw(max)</span>;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $a ( <span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span> ) {    <span style="color:#75715e"># 1?? will never be colourful</span>
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $b ( <span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span> ) {    <span style="color:#75715e"># ?0? and ?1? will never be colourful</span>
        <span style="color:#66d9ef">if</span> ( $a <span style="color:#f92672">==</span> $b ) {
            <span style="color:#66d9ef">next</span>;
        }
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $c ( <span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">9</span> ) {    <span style="color:#75715e"># ??0 and ??1 will never be colourful</span>
            <span style="color:#66d9ef">if</span> ( $a <span style="color:#f92672">==</span> $c <span style="color:#f92672">||</span> $b <span style="color:#f92672">==</span> $c ) {
                <span style="color:#66d9ef">next</span>;
            }
            <span style="color:#66d9ef">my</span> %p;
            $p{$a}<span style="color:#f92672">++</span>;
            $p{$b}<span style="color:#f92672">++</span>;
            $p{$c}<span style="color:#f92672">++</span>;
            $p{ $a <span style="color:#f92672">*</span> $b }<span style="color:#f92672">++</span>;
            $p{ $b <span style="color:#f92672">*</span> $c }<span style="color:#f92672">++</span>;
            $p{ $a <span style="color:#f92672">*</span> $b <span style="color:#f92672">*</span> $c }<span style="color:#f92672">++</span>;

            <span style="color:#66d9ef">if</span> ( max( values %p ) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span> ) {
                <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$a$b$c\n&#34;</span>;
            }
        }
    }
}
</code></pre></div><p>The products (and digits) are calculated and tallied in <code>%p</code>. Any hash whose <code>max</code> value is less than two does not have any repeated values.</p>
<h2 id="ruben-westerberg2">Ruben Westerberg</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/ruben-westerberg/perl/ch-2.pl">Ruben Westerberg&rsquo;s solution</a> uses a nice <code>map</code> construct together with <code>split</code> and <code>substr</code> to generate the list of all possible products for an arbitrarily long number:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">contiguousSubs</span> {
    <span style="color:#66d9ef">my</span> ($string) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> $len <span style="color:#f92672">=</span> length $string;
    map {
        <span style="color:#66d9ef">my</span> $subLen <span style="color:#f92672">=</span> $_;
        map {
            <span style="color:#66d9ef">my</span> @d <span style="color:#f92672">=</span> split <span style="color:#e6db74">&#34;&#34;</span>, substr( $string, $_, $subLen );
            List::Util::reduce { $a <span style="color:#f92672">*</span> $b } @d
          } <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $len <span style="color:#f92672">-</span> $subLen
    } <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $len;
}
</code></pre></div><h2 id="ryan-thompson2">Ryan Thompson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/ryan-thompson/perl/ch-2.pl">My solution</a> uses a <code>%seen</code> hash to <code>return 0</code> if any of the products have already been seen:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_colourful3</span> {
    <span style="color:#66d9ef">my</span> ($x, $y, $z) <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> %seen;
    $seen{$_}<span style="color:#f92672">++</span> <span style="color:#f92672">and</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> $x, $y, $z, $x<span style="color:#f92672">*</span>$y, $y<span style="color:#f92672">*</span>$z, $x<span style="color:#f92672">*</span>$y<span style="color:#f92672">*</span>$z;
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><p><strong>Blog</strong> › <a href="http://www.ry.ca/2020/03/pwc-051/">3Sum and Colourful Numbers</a></p>
<h2 id="saiftynet2">Saif Ahmed</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/saiftynet/perl/ch-2.pl">Saif Ahmed&rsquo;s solution</a> handles arbitrary integers, using a <code>%products</code> hash to check for duplicates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">testColourful</span> {
    <span style="color:#66d9ef">my</span> %products <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">my</span> @digits   <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, shift;

    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $startDigit ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#digits ) {
        <span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
        <span style="color:#66d9ef">foreach</span> ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#digits <span style="color:#f92672">-</span> $startDigit ) {
            $p <span style="color:#f92672">*=</span> $digits[ $startDigit <span style="color:#f92672">+</span> $_ ];
            $products{$p}<span style="color:#f92672">++</span>;
        }
    }

    <span style="color:#66d9ef">return</span> keys %products <span style="color:#f92672">==</span> @digits <span style="color:#f92672">*</span> ( @digits <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> ) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
}
</code></pre></div><p>It&rsquo;s interesting that the number of products is the <code>@digits</code>-th <a href="https://mathworld.wolfram.com/TriangularNumber.html">triangular number</a>.</p>
<h2 id="ulrich-rieke2">Ulrich Rieke</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/ulrich-rieke/perl/ch-2.pl">Ulrich Rieke&rsquo;s solution</a> computes all products and uses <code>%numHash</code> to tally the number of times each product appears:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">isColourful</span> {
    <span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> %numHash;
    <span style="color:#66d9ef">if</span> ( $number <span style="color:#f92672">=~</span><span style="color:#e6db74"> /(\d)(\d)(\d)/</span> ) {
        $numHash{ $1 <span style="color:#f92672">*</span> $2 }<span style="color:#f92672">++</span>;
        $numHash{ $2 <span style="color:#f92672">*</span> $3 }<span style="color:#f92672">++</span>;
        $numHash{ $1 <span style="color:#f92672">*</span> $2 <span style="color:#f92672">*</span> $3 }<span style="color:#f92672">++</span>;
        $numHash{$1}<span style="color:#f92672">++</span>;
        $numHash{$2}<span style="color:#f92672">++</span>;
        $numHash{$3}<span style="color:#f92672">++</span>;
        $numHash{ $1 <span style="color:#f92672">*</span> $3 }<span style="color:#f92672">++</span>;
        <span style="color:#66d9ef">return</span> scalar keys %numHash <span style="color:#f92672">==</span> <span style="color:#ae81ff">7</span>;
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>There is one small issue, however: <code>$numHash{ $1 * $3 }++</code> computes the product of the first and last digits, but only consecutive digits should be considered, per the task description. It&rsquo;s an easy fix, though: remove that line, and change the next line to check <code>%numHash == 6</code>.</p>
<h2 id="user-person2">User Person</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/user-person/perl/ch-2.pl">User Person&rsquo;s solution</a> handles 3-digit numbers with a <code>%seen</code> hash to check for duplicate products:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">LOOP:
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> $MIN; $i <span style="color:#f92672">&lt;=</span> $MAX; <span style="color:#f92672">++</span>$i) {
    <span style="color:#66d9ef">my</span> %seen <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">my</span> @d <span style="color:#f92672">=</span> (split <span style="color:#e6db74">//</span>, $i );
    <span style="color:#66d9ef">foreach</span> ( $d[<span style="color:#ae81ff">0</span>], $d[<span style="color:#ae81ff">1</span>], $d[<span style="color:#ae81ff">2</span>], $d[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span>$d[<span style="color:#ae81ff">1</span>], $d[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span>$d[<span style="color:#ae81ff">2</span>], $d[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span>$d[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span>$d[<span style="color:#ae81ff">2</span>]) {
        exists $seen{$_} ? <span style="color:#66d9ef">next</span> LOOP : $seen{$_}<span style="color:#f92672">++</span> ;
    }
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$i\n&#34;</span>;
}
</code></pre></div><h2 id="walt-mankowski2">Walt Mankowski</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/walt-mankowski/perl/ch-2.pl">Walt Mankowski&rsquo;s solution</a> handles arbitrary integers as well, using <code>substr</code> and <code>split</code> to build up the products to be calculated:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> List::Util <span style="color:#e6db74">qw(product)</span>;
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_colorful</span>($n) {
    <span style="color:#66d9ef">my</span> %prods;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $len (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>length($n)) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>length($n) <span style="color:#f92672">-</span> $len) {
            <span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> product split <span style="color:#e6db74">//</span>, substr($n, $i, $len);
            <span style="color:#66d9ef">if</span> (defined $prods{$p}) {
                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
            } <span style="color:#66d9ef">else</span> {
                $prods{$p} <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            }
        }
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><h2 id="wanderdoc2">Wanderdoc</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/wanderdoc/perl/ch-2.pl">Wanderdoc&rsquo;s solution</a> handles arbitrarily large integers, with a few helper routines. The main <code>is_colorful</code> just calls <code>prod_con_subsets</code> and checks whether all of the products are unique:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_colorful</span> {
    <span style="color:#66d9ef">my</span> $num <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> @arr <span style="color:#f92672">=</span> prod_con_subsets($num);
    <span style="color:#66d9ef">return</span> scalar @arr <span style="color:#f92672">==</span> scalar uniq @arr;
}
</code></pre></div><p><code>prod_con_subsets</code> does most of the heavy lifting, partitioning the number into all possible configurations for calculating products:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">prod_con_subsets</span> {
    <span style="color:#66d9ef">my</span> $num <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $len <span style="color:#f92672">=</span> length($num);
    <span style="color:#66d9ef">my</span> @set;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $width ( <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $len ) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $pos ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $len ) {
            <span style="color:#66d9ef">my</span> $chunk <span style="color:#f92672">=</span> substr( $num, $pos, $width );
            <span style="color:#66d9ef">if</span> ( length($chunk) <span style="color:#f92672">==</span> $width ) {
                push @set, $chunk;
            }
        }
    }
    <span style="color:#66d9ef">my</span> @products <span style="color:#f92672">=</span> _products(@set);
    $DEBUG_STORE{$num} <span style="color:#f92672">=</span> [@products];
    <span style="color:#66d9ef">return</span> @products;
}
</code></pre></div><p>The <code>_products</code> sub then takes a set of substrings, <code>split</code>s each one and calculates the product of its digits with <code>reduce { $a * $b }</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">_products</span> {
    <span style="color:#66d9ef">my</span> @arr      <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> @products <span style="color:#f92672">=</span> map {
        <span style="color:#66d9ef">my</span> $el <span style="color:#f92672">=</span> $_;
        <span style="color:#66d9ef">my</span> $res <span style="color:#f92672">=</span>
          length($el) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>
          ? $el
          : reduce { $a <span style="color:#f92672">*</span> $b }
        split(<span style="color:#e6db74"> //</span>, $el )
    } @arr;
    <span style="color:#66d9ef">return</span> @products;
}
</code></pre></div><p><code>is_colorful</code> returns a boolean, but <code>%DEBUG_STORE</code> hash used above seems to be used to contain the list of products, so they can be printed out to prove a number is colourful:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $counter;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $num ( <span style="color:#ae81ff">100</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">999</span> ) {
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $num <span style="color:#f92672">=~</span><span style="color:#e6db74"> /[01]/</span>;    <span style="color:#75715e"># cannot be colorful if contains 0 or 1.</span>
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;The Nr.&#34;</span>, <span style="color:#f92672">++</span>$counter, <span style="color:#e6db74">&#39; is &#39;</span>, $num, <span style="color:#e6db74">&#39;; Proof: &#39;</span>,
      join( <span style="color:#e6db74">&#34; &#34;</span>, @{ $DEBUG_STORE{$num} } ), $/
      <span style="color:#66d9ef">if</span> is_colorful($num);
}
</code></pre></div><h2 id="yet-ebreo2">Yet Ebreo</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-051/yet-ebreo/perl/ch-2.pl">Yet Ebreo&rsquo;s solution</a> splits the number with a regex, and then places all possible products into <code>@seq</code>, sorted numerically:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_colorful</span> {
    <span style="color:#66d9ef">my</span> @digits <span style="color:#f92672">=</span> pop <span style="color:#f92672">=~</span><span style="color:#e6db74"> /./g</span>;
    <span style="color:#66d9ef">my</span> @seq <span style="color:#f92672">=</span> sort {$a <span style="color:#f92672">-</span> $b } (@digits, $digits[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">1</span>], $digits[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">2</span>], $digits[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> $digits[<span style="color:#ae81ff">2</span>]);
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;@seq &#34;</span><span style="color:#f92672">!~</span> <span style="color:#e6db74">/(\d+ )\1/</span>
}
</code></pre></div><p>Instead of using <code>uniq</code> or a hash, Yet Ebreo concatenates <code>@seq</code> into a string, and uses a regex to check for two consecutive instances of the same number.</p>
<hr>
<hr>
<h2 id="blogs">See Also</h2>
<h3 id="perl-blogs-this-week">Perl Blogs this week:</h3>
<p><strong>Adam Russell</strong> › <a href="https://adamcrussell.livejournal.com/15423.html">More Perl &amp; Prolog</a></p>
<p><strong>E. Choroba</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/03/perl-weekly-challenge-051-3-sum-and-colourful-numbers.html">3 Sum and Colourful Numbers</a></p>
<p><strong>Javier Luque</strong> › <a href="https://perlchallenges.wordpress.com/2020/03/09/perl-weekly-challenge-051/">051 – Perl Weekly Challenge</a></p>
<p><strong>Mohammad S Anwar</strong> › <a href="https://perlweeklychallenge.org/blog/weekly-challenge-051">The Weekly Challenge #051</a></p>
<p><strong>Ryan Thompson</strong> › <a href="http://www.ry.ca/2020/03/pwc-051/">3Sum and Colourful Numbers</a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2025
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

