<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Andrew Shitov Weekly Review: Challenge - #084.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Andrew Shitov Weekly Review: Challenge - 084</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Andrew Shitov Weekly Review: Challenge - 084</h2>
                    <div class="portfolio-meta">
                        <span>Thursday, Nov 19, 2020</span>|
                        <span> Tags:
                            Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/p6-review-challenge-084.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <hr>
<h1 id="raku-solutions-weekly-review">Raku Solutions Weekly Review</h1>
<hr>
<h2 id="getting-in-touch">Getting in Touch</h2>
<p><a href="mailto:andy@shitov.ru"><img src="/images/blog/Email.svg" height="50" width="50"> Email</a> › Email me (Andrew) with any feedback about this review.</p>
<p><a href="https://github.com/manwar/perlweeklychallenge"><img src="/images/blog/Github.svg" height="50" width="50"> GitHub</a> › Submit a pull request for any issues you may find with this page.</p>
<p><a href="https://twitter.com/perlwchallenge"><img src="/images/blog/Twitter.svg" height="50" width="50"> Twitter</a> › Join the discussion on Twitter!</p>
<p>We&rsquo;d greatly appreciate any feedback you&rsquo;d like to give.</p>
<hr>
<p>Welcome to the <strong>Raku Review</strong> for <strong>Week 084</strong> of <strong>The Weekly Challenge!</strong>. For a quick overview, go through the <a href="/blog/perl-weekly-challenge-084/"><strong>original tasks</strong></a> and <a href="/blog/recap-challenge-084/"><strong>recap</strong></a> of the weekly challenge.</p>
<hr>
<h2 id="task-1-reverse-integer">Task 1. Reverse Integer</h2>
<p>In the first problem, the task is to take a number and print it backwards. A couple of additional requirements are: 1) to keep the sign and 2) to print 0 if the flipped number exceeds the size of a 32-bit integer.</p>
<p>Obviously, the most Rakuish solution is to use the <code>flip</code> method. It works with strings, but Raku will implicitly translate numbers to it. To keep the sign, you can use the <code>sign</code> method that returns <code>+1</code> for positive numbers, <code>-1</code> for negative numbers and <code>0</code> for <code>0</code>. Try it in the REPL shell:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    $ raku
    <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">.</span>sign
    <span style="color:#ae81ff">0</span>
    <span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span><span style="color:#f92672">.</span>sign
    <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
    <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">20</span><span style="color:#f92672">.</span>sign
    <span style="color:#ae81ff">1</span>
</code></pre></div><p>So, here is <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/ash/raku/ch-1.raku#L26">a possible solution</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">my</span> $r <span style="color:#f92672">=</span> $n<span style="color:#f92672">.</span>sign <span style="color:#f92672">*</span> $n<span style="color:#f92672">.</span>abs<span style="color:#f92672">.</span>flip;
    say <span style="color:#f92672">-</span><span style="color:#ae81ff">2147483648</span> <span style="color:#f92672">&lt;=</span> $r <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2147483647</span> ?? $r <span style="color:#f92672">!!</span> <span style="color:#ae81ff">0</span>;
</code></pre></div><p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/feng-chang/raku/ch-1.raku">Feng Chang split</a> the task into the four clear options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    given $n {
        when (<span style="color:#ae81ff">0</span>)             { put <span style="color:#ae81ff">0</span> }
        when (<span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span> $n <span style="color:#960050;background-color:#1e0010">≤</span> imax) { put $n<span style="color:#f92672">.</span>flip; }
        when (imin <span style="color:#960050;background-color:#1e0010">≤</span> $n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) { put <span style="color:#e6db74">&#39;-&#39;</span>, (<span style="color:#f92672">-</span>$n)<span style="color:#f92672">.</span>flip; }
        default              { put <span style="color:#ae81ff">0</span>; }
    }
</code></pre></div><p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/wambash/raku/ch-1.raku">Jan Krnavek used</a> a combination of the above-mentioned methods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    with $n<span style="color:#f92672">.</span>abs<span style="color:#f92672">.</span>flip <span style="color:#f92672">*</span> $n<span style="color:#f92672">.</span>sign {
        when <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">³¹</span> <span style="color:#f92672">..^</span> <span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">³¹</span> { $_ };
        default           { <span style="color:#ae81ff">0</span>  };
    }
</code></pre></div><p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/mark-anderson/raku/ch-1.p6">Mark Anderson uses</a> smartmatch directly (without the <code>given</code> block):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    $N <span style="color:#f92672">=</span> $N<span style="color:#f92672">.</span>abs<span style="color:#f92672">.</span>flip <span style="color:#f92672">*</span> $N<span style="color:#f92672">.</span>sign;
    <span style="color:#66d9ef">my</span> <span style="color:#f92672">\</span>MAX <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">**</span><span style="color:#ae81ff">31</span>;
    say $N <span style="color:#f92672">~~</span> <span style="color:#f92672">-</span>MAX <span style="color:#f92672">..</span> MAX<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> ?? $N <span style="color:#f92672">!!</span> <span style="color:#ae81ff">0</span>;
</code></pre></div><p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/markus-holzer/raku/ch-1.raku">Markus Holzer decided</a> to use the <code>subst</code> method to replace the digits in the number and thus to keep the minus sign in place:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    say <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">³¹</span> <span style="color:#f92672">&lt;=</span> $i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">³¹</span>
        ?? $i<span style="color:#f92672">.</span>subst(<span style="color:#e6db74"> / \d+ /</span>, <span style="color:#f92672">+</span> <span style="color:#f92672">*.</span>flip )
        <span style="color:#f92672">!!</span> <span style="color:#ae81ff">0</span>;
</code></pre></div><p>Notice how <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/stuart-little/raku/ch-1.p6">Stuart Little keeps</a> the sign by removing the last character from what <code>sign</code> returns:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">return</span> ($nr <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">**</span><span style="color:#ae81ff">31</span>) ?? (<span style="color:#ae81ff">0</span>)
    <span style="color:#f92672">!!</span> ($nr<span style="color:#f92672">.</span>sign<span style="color:#f92672">.</span>chop <span style="color:#f92672">~</span> $nr<span style="color:#f92672">.</span>abs<span style="color:#f92672">.</span>flip);
</code></pre></div><p>Of course, nobody stops you from determining the sign by comparing the number with 0, as <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/arne-sommer/raku/ch-1.p6">Arne Sommer</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/colin-crain/raku/ch-1.raku">Colin Crain</a>, and <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/gugod/raku/ch-1.raku">Kang-min Liu</a> did it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">my</span> $sign <span style="color:#f92672">=</span> $N <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>
        ?? <span style="color:#e6db74">&#34;-&#34;</span>
        <span style="color:#f92672">!!</span> <span style="color:#e6db74">&#34;&#34;</span>;

    <span style="color:#66d9ef">my</span> $new <span style="color:#f92672">=</span> $sign <span style="color:#f92672">~</span> $N<span style="color:#f92672">.</span>abs<span style="color:#f92672">.</span>flip;

    <span style="color:#f92672">.</span> <span style="color:#f92672">.</span> <span style="color:#f92672">.</span>

    <span style="color:#66d9ef">my</span> $sign <span style="color:#f92672">=</span> $num <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> ?? <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!!</span> <span style="color:#ae81ff">1</span> ;
    <span style="color:#66d9ef">my</span> $out  <span style="color:#f92672">=</span> $sign <span style="color:#f92672">*</span> $num<span style="color:#f92672">.</span>abs<span style="color:#f92672">.</span>flip ;

    <span style="color:#f92672">.</span> <span style="color:#f92672">.</span> <span style="color:#f92672">.</span>

    <span style="color:#66d9ef">my</span> $o <span style="color:#f92672">=</span> ($n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> ?? <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">!!</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> flip abs $n;
    <span style="color:#66d9ef">return</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">³¹</span> <span style="color:#960050;background-color:#1e0010">≤</span> $o <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">³¹</span>) ?? $o <span style="color:#f92672">!!</span> <span style="color:#ae81ff">0</span>;
</code></pre></div><p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/roger-bell-west/raku/ch-1.p6">Roger Bell_West</a> and <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/ulrich-rieke/raku/ch-1.raku">Ulrich Rieke</a> used regexes to extract the digits and the sign from the number:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">my</span> $r<span style="color:#f92672">=</span>$s<span style="color:#f92672">.</span>comb<span style="color:#f92672">.</span>reverse<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;&#39;</span>);
    <span style="color:#66d9ef">if</span> ($r <span style="color:#f92672">~~</span> <span style="color:#e6db74">/(&lt;[0..9]&gt;+)\-$/</span>) {
        $r<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-$0&#34;</span>;
    }

    <span style="color:#f92672">.</span> <span style="color:#f92672">.</span> <span style="color:#f92672">.</span>

    $N <span style="color:#f92672">~~</span> <span style="color:#e6db74">/(&lt;[+-]&gt;*)(\d+)/</span> ;
    <span style="color:#66d9ef">my</span> $maximum <span style="color:#f92672">=</span> <span style="color:#ae81ff">2147483647</span> ;
    <span style="color:#66d9ef">if</span> ( $N<span style="color:#f92672">.</span>Int <span style="color:#f92672">&lt;=</span> $maximum ) {
        say ($0<span style="color:#f92672">.</span>Str <span style="color:#f92672">~</span> $1<span style="color:#f92672">.</span>Str<span style="color:#f92672">.</span>flip) ;
    }
    <span style="color:#66d9ef">else</span> {
        say <span style="color:#ae81ff">0</span> ;
    }
</code></pre></div><h3 id="video-review">Video review</h3>
<p>The full review of Task 1 is available on YouTube:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZXUwQZYoWLE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>The timestamps for quick access to the review of each solution.</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=77s">01:17</a> - Andrew Shitov</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=166s">02:46</a> - Feng Chang</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=230s">03:50</a> - Jan Krnavek</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=345s">05:45</a> - Mark Anderson</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=395s">06:35</a> - Markus Holzer</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=562s">09:22</a> - Philip Hood</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=617s">10:17</a> - Simon Proctor</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=670s">11:10</a> - Stuart Little</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=755s">12:35</a> - Arne Sommer</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=802s">13:22</a> - Athanasius</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=864s">14:24</a> - Colin Crain</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=926s">15:26</a> - Jaldhar H. Vyas</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=1008s">16:48</a> - Julio de Castro</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=1068s">17:48</a> - Kang-min Liu</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=1148s">19:08</a> - Laurent Rosenfeld</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=1241s">20:41</a> - Myoungjin Jeon</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=1491s">24:51</a> - Roger Bell_West</li>
<li><a href="https://www.youtube.com/watch?v=ZXUwQZYoWLE&amp;t=1638s">27:18</a> - Ulrich Rieke</li>
</ul>
<h2 id="task-2-find-square">Task 2. Find Square</h2>
<p>In the second task, you take a matrix with 1s and 0s and have to find the number of all possible squares, whose corners keep 1s.</p>
<p>To solve the task, you can scan each and every cell of the matrix, and from there ‘blow’ the squares of different sizes before you reach one of the edges. Here is <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/ash/raku/ch-2.raku">an example</a> of how you do it with three nested loops:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">for</span> <span style="color:#f92672">^</span>$w <span style="color:#f92672">-&gt;</span> $x {
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">^</span>$h <span style="color:#f92672">-&gt;</span> $y {
            <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">..*</span> <span style="color:#f92672">-&gt;</span> $z {
                <span style="color:#66d9ef">last</span> <span style="color:#66d9ef">if</span> $x <span style="color:#f92672">+</span> $z <span style="color:#f92672">&gt;=</span> $w <span style="color:#f92672">||</span> $y <span style="color:#f92672">+</span> $z <span style="color:#f92672">&gt;=</span> $h;

                <span style="color:#f92672">.</span> <span style="color:#f92672">.</span> <span style="color:#f92672">.</span>
</code></pre></div><p>To test and count the squares, just check the values at the corresponding coordinates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    $count<span style="color:#f92672">++</span> <span style="color:#66d9ef">if</span> all(
        @m[$x; $y     ], @m[$x <span style="color:#f92672">+</span> $z; $y     ],
        @m[$x; $y <span style="color:#f92672">+</span> $z], @m[$x <span style="color:#f92672">+</span> $z; $y <span style="color:#f92672">+</span> $z]
    );
</code></pre></div><p>A number of participants noted that you could optimise this approach by skipping the entire third loop if you see that the cell at coordinates (<code>$x</code>, <code>$y</code>) is <code>0</code>. Indeed, all further checks will fail with such a corner.</p>
<p>Instead of nesting loops, you can use Raku’s cross operator <code>X</code> to <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/feng-chang/raku/ch-2.raku#L8">make the table</a> of cell coordinates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">..^</span>@N[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>elems<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> X <span style="color:#ae81ff">0</span><span style="color:#f92672">..^</span>@N<span style="color:#f92672">.</span>elems<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">-&gt;</span> ($i, $j) {
        <span style="color:#f92672">.</span> <span style="color:#f92672">.</span> <span style="color:#f92672">.</span>
</code></pre></div><p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/wambash/raku/ch-2.raku#L15">Or</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    multi find<span style="color:#f92672">-</span>square ( @n, ) {
        <span style="color:#66d9ef">my</span> $rows     <span style="color:#f92672">=</span> @n<span style="color:#f92672">.</span>elems;
        <span style="color:#66d9ef">my</span> $columns  <span style="color:#f92672">=</span> @n[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>elems;
        <span style="color:#f92672">^</span>$rows X <span style="color:#f92672">^</span>$columns
        andthen <span style="color:#f92672">.</span>grep: <span style="color:#f92672">-&gt;</span> ($x, $y) { @n[$x;$y]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span> }<span style="color:#f92672">\</span>
        andthen <span style="color:#f92672">.</span>map:  { find<span style="color:#f92672">-</span>square @n, :topleft($_)  }<span style="color:#f92672">\</span>
        andthen <span style="color:#f92672">.</span>sum
    }
</code></pre></div><p>Another interesting approach is to — again! — use <code>combinations</code> to <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-084/mark-anderson/raku/ch-2.p6#L61">test different square sizes</a>. This fragment also uses the above-mentioned optimisation to skip the squares with 0 in the corner:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">    <span style="color:#66d9ef">for</span> <span style="color:#f92672">^</span>@matrix<span style="color:#f92672">.</span>end <span style="color:#f92672">-&gt;</span> $i {
        <span style="color:#66d9ef">my</span> @indices <span style="color:#f92672">=</span> @matrix[$i]<span style="color:#f92672">.</span>grep(<span style="color:#ae81ff">1</span>, :k);

        <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> @indices<span style="color:#f92672">.</span>elems <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span>;

        <span style="color:#66d9ef">for</span> @indices<span style="color:#f92672">.</span>combinations(<span style="color:#ae81ff">2</span>) <span style="color:#f92672">-&gt;</span> [$h, $t] {
            <span style="color:#66d9ef">my</span> $skip <span style="color:#f92672">=</span> $i <span style="color:#f92672">+</span> $t <span style="color:#f92672">-</span> $h;
            <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $skip <span style="color:#f92672">&gt;</span> @matrix<span style="color:#f92672">.</span>end;
            $count<span style="color:#f92672">++</span> <span style="color:#66d9ef">if</span> all @matrix[$skip][$h, $t];
        }
    }
</code></pre></div><p>There are more interesting bits both in the algorithms and in language usage, so I invite you to watch the video review and to look at the code more precisely.</p>
<h3 id="video-review-1">Video review</h3>
<p>The full review of Task 2 is available on YouTube:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZcMCzWxxBX0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>The timestamps to the reviews of the individual solutions:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=78s">01:18</a> - Andrew Shitov</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=200s">03:20</a> - Feng Chang</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=298s">04:58</a> - Jan Krnavek</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=463s">07:43</a> - Mark Anderson</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=799s">13:19</a> - Markus Holzer</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=950s">15:50</a> - Philip Hood</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=1092s">18:12</a> - Simon Proctor</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=1228s">20:28</a> - Stuart Little</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=1362s">22:42</a> - Arne Sommer</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=1562s">26:02</a> - Athanasius</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=1775s">29:35</a> - Colin Crain</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=1886s">31:26</a> - Jaldhar H. Vyas</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=2011s">33:31</a> - Julio de Castro</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=2082s">34:42</a> - Kang-min Liu</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=2266s">37:46</a> - Laurent Rosenfeld</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=2340s">39:00</a> - Myoungjin Jeon</li>
<li><a href="https://www.youtube.com/watch?v=ZcMCzWxxBX0&amp;t=2640s">44:00</a> - Roger Bell_West</li>
</ul>
<br>
<hr>
<p>If you want to participate in <strong>The Weekly Challenge</strong>, please contact us at <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2024
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

