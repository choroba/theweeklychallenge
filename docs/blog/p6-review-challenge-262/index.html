<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Andrew Shitov Weekly Review: Challenge - #262.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Andrew Shitov Weekly Review: Challenge - 262</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Andrew Shitov Weekly Review: Challenge - 262</h2>
                    <div class="portfolio-meta">
                        <span>Sunday, Apr 7, 2024</span>|
                        <span> Tags:
                            Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/p6-review-challenge-262.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <hr>
<h1 id="raku-solutions-weekly-review">Raku Solutions Weekly Review</h1>
<hr>
<h1 id="task-1">Task 1</h1>
<p>The first task was to find and display the number of either positive or negative integers, whatever is larger.</p>
<p>Let us start from the easy part. In Raku, there is a a built-in <code>max</code> function (or method if you want to use an object notation: <code>@array.max</code>). So, the code is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku">say max($neg, $pos);
</code></pre></div><p>where <code>$neg</code> and <code>$pos</code> are the numbers of negative and positive data items in the original array.</p>
<p>Now, the second part is to indeed get the number of positives and negatives. At least three methods come to mind:</p>
<h2 id="1-for">1: for</h2>
<p>Scan the array using <code>for</code> and count the numbers:</p>
<pre><code>my @data = -3, 1, 2, -1, 3, -2, 4;

my $neg = 0;
my $pos = 0;
for @data -&gt; $value {
    $neg++ if $value &gt; 0;
    $pos++ if $value &lt; 0;
}

say max($neg, $pos); # 4
</code></pre><p>This approach is used in the following solutions by:</p>
<ul>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/ash/raku/ch-1.raku"><strong>Asher Harvey-Smith</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/athanasius/raku/ch-1.raku"><strong>Athanasius</strong></a></li>
</ul>
<h2 id="2-grep">2: grep</h2>
<p>The second way is to use <code>grep</code>, again as a method or as a function. For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku">say max(
    (@data<span style="color:#f92672">.</span>grep: <span style="color:#f92672">*</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>elems,
    (@data<span style="color:#f92672">.</span>grep: <span style="color:#f92672">*</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>elems
); <span style="color:#75715e"># 4</span>
</code></pre></div><p>If you prefer a more explicit syntax, use codeblocks instead of <a href="https://perl6advent.wordpress.com/2017/12/11/all-the-stars-of-perl-6/">the WhatEver <code>*</code> magic</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku">say max(
    <span style="color:#f92672">+</span>(@data<span style="color:#f92672">.</span>grep({$_ <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>})),
    <span style="color:#f92672">+</span>(@data<span style="color:#f92672">.</span>grep({$_ <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>}))
); <span style="color:#75715e"># 4</span>
</code></pre></div><p>(Just to compensate the absense of magic, a unary <code>+</code> is used here to count the number of elements after each <code>grep</code>.)</p>
<p>A few people used this approach including myself:</p>
<ul>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/ash/raku/ch-1.raku"><strong>Andrew Shitov</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/arne-sommer/raku/ch-1.raku"><strong>Arne Sommer</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/barroff/raku/ch-1.p6"><strong>BarrOff</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/feng-chang/raku/ch-1.raku"><strong>Feng Chang</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/laurent-rosenfeld/raku/ch-1.raku"><strong>Laurent Rosenfeld</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/luca-ferrari/raku/ch-1.raku"><strong>Luca Ferrari</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/packy-anderson/raku/ch-1.raku"><strong>Packy Anderson</strong></a> — using a <code>map</code> to convert the comparison with <code>0</code> to a Boolean equivalent: <code>my $pos = [+] @ints.map({ $_ &gt; 0 ?? 1 !! 0 });</code></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/roger-bell-west/raku/ch-1.p6"><strong>Roger Bell_West</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/ulrich-rieke/raku/ch-1.raku"><strong>Ulrich Rieke</strong></a></li>
</ul>
<h2 id="3-classify">3: classify</h2>
<p>The most sophisticated—and at the same time simple—way is to use <a href="https://docs.raku.org/routine/classify">the <code>classify</code> routine</a>, which already exists in Raku and is available without loading any modules. It gives the result in one go.</p>
<p>To see how it works with our input data, let’s add a zero element to it and dump the result of <code>classify</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku"><span style="color:#66d9ef">my</span> @data <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>;

dd (@data<span style="color:#f92672">.</span>classify: <span style="color:#f92672">*</span> <span style="color:#e6db74">&lt;=&gt;</span> <span style="color:#ae81ff">0</span>);
</code></pre></div><p>This program prints:</p>
<pre><code>(my Any %{Any} = Order::Less =&gt; $[-3, -1, -2], Order::Same =&gt; $[0], Order::More =&gt; $[1, 2, 3, 4])
</code></pre><p>You can see that there are three elements classified as <code>Order::Less</code>—those which are less than <code>0</code>, four elements were marked as <code>Order::More</code>, and the zero item gave <code>Order::Same</code>, all in accordance to our condition <code>* &lt;=&gt; 0</code>.</p>
<p>Putting it back and getting the maximum of the clusters, here’s a possible program:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku"><span style="color:#66d9ef">my</span> @data <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>;

<span style="color:#66d9ef">my</span> $c <span style="color:#f92672">=</span> @data<span style="color:#f92672">.</span>classify: <span style="color:#f92672">*</span> <span style="color:#e6db74">&lt;=&gt;</span> <span style="color:#ae81ff">0</span>;
<span style="color:#75715e"># Hash[Any,Any] $c = $(my Any %{Any} = Order::Less =&gt; $[-3, -1, -2], Order::More =&gt; $[1, 2, 3, 4])</span>

<span style="color:#66d9ef">my</span> $d <span style="color:#f92672">=</span> $c<span style="color:#f92672">.</span>map: <span style="color:#f92672">*.</span>value<span style="color:#f92672">.</span>elems;
<span style="color:#75715e"># Seq $d = $((4, 3).Seq)</span>

dd $d<span style="color:#f92672">.</span>max; <span style="color:#75715e"># 4</span>
</code></pre></div><p>In the comments, you can see what the program computes on every step.</p>
<p>The submitted solutions utilising <code>classify</code>:</p>
<ul>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/wambash/raku/ch-1.raku"><strong>Jan Krňávek</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/mark-anderson/raku/ch-1.raku"><strong>Mark Anderson</strong></a></li>
<li><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/0rir/raku/ch-1.raku"><strong>Robert Ransbottom</strong></a></li>
</ul>
<h2 id="4-bag">4: Bag!</h2>
<p>In the submitted solutions, there is another interesting approach that uses <code>Bag</code>s. Perl does not directly support bags, so maybe that’s why they often come to mind later rather than earlier when solving tasks. When we do not need the key—value pairs as in hashes, <code>Bag</code> is a better choice. In our case, the value will be the number of items with the same magnitude that were put into the bag.</p>
<p>The core idea of the solution suggested by <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-262/bruce-gray/raku/ch-1.raku">Bruce Gray</a> is the following:</p>
<p><code>my ( $negatives, $zeros, $positives ) = @ns».sign.Bag{-1, 0, 1};</code></p>
<p>The input data <code>@ns</code> is first converted to an array that has the values <code>-1</code>, <code>0</code>, or <code>1</code> depending on the sign of the data item. For the first test sample it will be:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku">Array element <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>]
</code></pre></div><p>The next step is to coerce this array to a bag and find the maximum:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raku" data-lang="raku"><span style="color:#66d9ef">return</span> $negatives max $positives;
</code></pre></div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2024
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

