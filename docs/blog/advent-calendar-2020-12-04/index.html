<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="Advent Calendar - December 4, 2020"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/blog/advent-calendar-2020-12-04/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="Advent Calendar - December 4, 2020."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 4, 2020.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">
    <link rel="canonical" href="https://theweeklychallenge.org/blog/advent-calendar-2020-12-04/" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 4, 2020</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 4, 2020</h2>
                    <div class="portfolio-meta">
                        <span>Friday, Dec 4, 2020</span>|
                        <span> Tags:
                            Perl, Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/2020-12-04.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h2 id="advent-calendar-2020blogadvent-calendar-2020"><a href="/blog/advent-calendar-2020"><strong>Advent Calendar 2020</strong></a></h2>
<h3 id="-day-3blogadvent-calendar-2020-12-03--day-4--day-5blogadvent-calendar-2020-12-05-">| <a href="/blog/advent-calendar-2020-12-03"><strong>Day 3</strong></a> | <strong>Day 4</strong> | <a href="/blog/advent-calendar-2020-12-05"><strong>Day 5</strong></a> |</h3>
<hr>
<p>The gift is presented by <a href="/blog/meet-the-champion-2020-10"><strong>Andrew Shitov</strong></a>. Today he is talking about his solution to <strong><a href="/blog/perl-weekly-challenge-089">&ldquo;The Weekly Challenge - 089&rdquo;</a></strong>.</p>
<hr>
<p>Christmas time, and it’s time to talk to each and every one! It’s a great idea to approach people by speaking their languages. In today’s post, let me demonstrate a number of working solutions of <a href="/blog/perl-weekly-challenge-089/#TASK1">the first problem of Week 89</a> of The Weekly Challenge in 22 different programming languages. It is a kind of continuation of my last year’s Advent series ‘<a href="https://andrewshitov.com/2019/11/25/a-language-a-day-advent-calendar-2019/">A Language a Day</a>’.</p>
<h1 id="problem">Problem</h1>
<p>The problem is to add up all the <a href="https://en.wikipedia.org/wiki/Greatest_common_divisor">GCD</a>s of the series of unique pairs of numbers between <code>1</code> and <code>$N</code> including <code>$N</code>.</p>
<p>For example, for the input number <code>100</code>, the summation chain is this one:</p>
<pre><code>GCD(1, 2) + GCD(1, 3) + GCD(1, 4) + ... + GCD(1, 99) + GCD(1, 100) +
GCD(2, 3) + GCD(2, 4) + GCD(2, 5) + ... + GCD(2, 99) + GCD(2, 100) +
...
... + GCD(98, 100) + GCD(99, 100)
</code></pre>
<p>The answer for this case is <code>13015</code>; it will be our password that confirms that the person we speak to understood us clearly even if we spoke a foreign language.</p>
<h1 id="solutions">Solutions</h1>
<p>The solutions are grouped into two parts. In the first group, either a built-in or a library function is used to compute the greatest common divisor. In the second group, the algorithm is implemented directly in the program. In each section, the solutions are listed in the order in which I solved them.</p>
<p>All the programs can be run from the command line and accept the value of <code>$N</code> as the first parameter. If the number is missing, the default value <code>3</code> is used. The result of the program is always a single number printed in the console. You can see instructions of how to run the program exactly in the comment at the beginning of each program.</p>
<h2 id="using-built-in-or-library-functions-for-gcd">Using built-in or library functions for GCD</h2>
<ol>
<li><a href="#1-raku">Raku</a></li>
<li><a href="#2-python">Python</a></li>
<li><a href="#3-c">C++ (C++17)</a></li>
<li><a href="#4-perl">Perl</a></li>
<li><a href="#5-ruby">Ruby</a></li>
<li><a href="#6-scala">Scala</a></li>
<li><a href="#7-c">C#</a></li>
<li><a href="#8-dart">Dart</a></li>
<li><a href="#9-julia">Julia</a></li>
<li><a href="#10-d">D</a></li>
<li><a href="#11-lisp">Lisp (SBCL)</a></li>
</ol>
<h2 id="with-a-custom-implementation-of-gcd">With a custom implementation of GCD</h2>
<ol>
<li><a href="#12-c">C</a></li>
<li><a href="#13-JavaScript">JavaScript (node.js)</a></li>
<li><a href="#14-java">Java</a></li>
<li><a href="#15-rust">Rust</a></li>
<li><a href="#16-pascal">Pascal (FreePascal)</a></li>
<li><a href="#17-go">Go</a></li>
<li><a href="#18-lua">Lua</a></li>
<li><a href="#19-fortran">Fortran (Fortran 95)</a></li>
<li><a href="#20-php">PHP</a></li>
<li><a href="#21-kotlin">Kotlin</a></li>
<li><a href="#22-bash">Bash</a></li>
</ol>
<h2 id="part-1">Part 1</h2>
<h3 id="1-raku">1. Raku</h3>
<p>In Raku, we’ve got all the things required for a compact solution. Actually, the most compact among all the solutions below. So, we’ve got the <a href="https://docs.raku.org/routine/combinations"><code>combinations</code> method</a> to convert a range into unique pairs of numbers and the built-in <a href="https://docs.raku.org/routine/gcd"><code>gcd</code> routine</a>. We also have the pleasure to use <a href="https://docs.raku.org/language/operators#index-entry-%5B%5D_(reduction_metaoperators)">reduction operators</a> <code>[ ... ]</code> even if they can be easily replaced. For example, the first usage of it <code>[+]</code> can be replaced with the call of <code>sum</code>, and the second <code>[gcd] $_</code> with something like <code>$_[0] gcd $_[1]</code>. By the way, notice that in Raku, <code>gcd</code> is an infix operator, so you use it in the form of <code>$a gcd $b</code> and not as a function <s><code>gcd($a, $b)</code></s>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e"># Test run:</span>
<span style="color:#75715e"># $ raku ch-1.raku 100</span>
<span style="color:#75715e"># 13015</span>

<span style="color:#66d9ef">my</span> $n <span style="color:#f92672">=</span> @<span style="color:#960050;background-color:#1e0010">*</span>ARGS[<span style="color:#ae81ff">0</span>] <span style="color:#e6db74">//</span> <span style="color:#ae81ff">3</span>;

say [<span style="color:#f92672">+</span>] (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$n)<span style="color:#f92672">.</span>combinations(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>map: {[gcd] $_};
</code></pre></div><h3 id="2-python">2. Python</h3>
<p>In Python, there’s no built-in <code>gcd</code> or <code>combinations</code>, but both are available in the standard library. For diversity, I used <code>math.gcd</code> but implemented the combination creation with two nested <code>for</code> loops. The first loop iterates over the whole range between <code>1</code> and <code>$N</code>, while the inner loop starts with the current value of the outer loop.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Test run:</span>
<span style="color:#75715e"># $ python3 ch-1.py 100</span>
<span style="color:#75715e"># 13015</span>

<span style="color:#f92672">import</span> sys<span style="color:#f92672">,</span> math

n <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">if</span> len(sys<span style="color:#f92672">.</span>argv) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">else</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>])

s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
    <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
        s <span style="color:#f92672">+=</span> math<span style="color:#f92672">.</span>gcd(x, y)

<span style="color:#66d9ef">print</span>(s)
</code></pre></div><h3 id="3-c">3. C++</h3>
<p>Here is a solution in C++. As the author of the language says, ‘C++ feels like a new language’, and even in this simple task, we can use the <a href="https://en.cppreference.com/w/cpp/numeric/gcd">library function <code>gcd</code></a> that is available since the standard C++17.</p>
<p>In the rest, the program also includes two nested loops and accumulates the sum for each combination.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// Compile as:
</span><span style="color:#75715e">// $ g++ -std=c++17 ch-1.cpp
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// Test run:
</span><span style="color:#75715e">// $ ./a.out 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;numeric&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sstream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> argv) {
    <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
    <span style="color:#66d9ef">if</span> (argc <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span>) {
        stringstream input(argv[<span style="color:#ae81ff">1</span>]);
        input <span style="color:#f92672">&gt;&gt;</span> n;
    }

    <span style="color:#66d9ef">int</span> s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; x <span style="color:#f92672">&lt;=</span> n; x<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; y <span style="color:#f92672">&lt;=</span> n; y<span style="color:#f92672">++</span>) {
            s <span style="color:#f92672">+=</span> gcd(x, y);
        }
    }

    cout <span style="color:#f92672">&lt;&lt;</span> s <span style="color:#f92672">&lt;&lt;</span> endl;
}
</code></pre></div><h3 id="4-perl">4. Perl</h3>
<p>Good old modern and future Perl is here! As, among the rest, it is famous for CPAN, let us use a <a href="https://metacpan.org/pod/Math::Utils">module <code>Math::Utils</code></a> from there. Actually, this is the only solution where I use a module that is not available in the default installation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e"># To run, install Math::Utils first:</span>
<span style="color:#75715e"># $ cpanm Math::Utils</span>
<span style="color:#75715e"># $ perl ch-1.pl 100</span>
<span style="color:#75715e"># 13015</span>

<span style="color:#66d9ef">use</span> v5<span style="color:#ae81ff">.20</span>;

<span style="color:#66d9ef">use</span> Math::Utils <span style="color:#e6db74">qw(gcd)</span>;

<span style="color:#66d9ef">my</span> $n <span style="color:#f92672">=</span> $ARGV[<span style="color:#ae81ff">0</span>] <span style="color:#e6db74">//</span> <span style="color:#ae81ff">3</span>;

<span style="color:#66d9ef">my</span> $s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $x (<span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $n) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $y ($x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $n) {
        $s <span style="color:#f92672">+=</span> gcd($x, $y);
    }
}

say $s;
</code></pre></div><h3 id="5-ruby">5. Ruby</h3>
<p>The program in Ruby is also quite compact, I would say. Notice how the <code>gcd</code> method is used here: <code>x.gcd(y)</code>. It is indeed is <em>a method,</em> and it is called on one of the numbers. We’ll see more examples of such approach later.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#75715e"># Usage:</span>
<span style="color:#75715e"># $ ruby ch-1.rb 100</span>
<span style="color:#75715e"># 13015</span>

n <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">.</span>length <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672">].</span>to_i : <span style="color:#ae81ff">3</span>

s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> x <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> n
    <span style="color:#66d9ef">for</span> y <span style="color:#66d9ef">in</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> n
        s <span style="color:#f92672">+=</span> x<span style="color:#f92672">.</span>gcd(y)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

puts s
</code></pre></div><h3 id="6-scala">6. Scala</h3>
<p>In Scala, we have to deal with Java’s legacy and create a class to start the day. But nevertheless, the program is not that big. What you may want to enjoy is possibly the syntax of loop headers: <code>for (x &lt;- 1 to n)</code> with the left arrow. Also notice that the <code>gcd</code> routine is again a method, and it’s a method defined for <code>BigInt</code>s: <code>BigInt(x).gcd(y)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">/*
</span><span style="color:#75715e">    To run:
</span><span style="color:#75715e">    $ scala  ch-1.scala 100
</span><span style="color:#75715e">    13015
</span><span style="color:#75715e">*/</span>

<span style="color:#66d9ef">import</span> math.BigInt

<span style="color:#66d9ef">object</span> <span style="color:#a6e22e">Main</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">def</span> main<span style="color:#f92672">(</span>args<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Array</span><span style="color:#f92672">[</span><span style="color:#66d9ef">String</span><span style="color:#f92672">])</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Unit</span> <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">var</span> n<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>args<span style="color:#f92672">.</span>size <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">)</span> args<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">).</span>toInt <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">3</span>

        <span style="color:#66d9ef">var</span> s<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">BigInt</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>x <span style="color:#66d9ef">&lt;-</span> <span style="color:#ae81ff">1</span> to n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>y <span style="color:#66d9ef">&lt;-</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> to n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                s <span style="color:#66d9ef">=</span> s <span style="color:#f92672">+</span> <span style="color:#a6e22e">BigInt</span><span style="color:#f92672">(</span>x<span style="color:#f92672">).</span>gcd<span style="color:#f92672">(</span>y<span style="color:#f92672">)</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>

        println<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="7-c">7. C#</h3>
<p>Here is the solution in C#. Welcome to the world of .NET, where many things are clearly spelt out: <code>BigInteger.GreatestCommonDivisor(x, y)</code>. In the rest, here we have the same two nested loops that build the pair of combinations.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#75715e">// Compile and run on a Mac:
</span><span style="color:#75715e">// $ csc -r:System.Numerics.dll ch-1.cs
</span><span style="color:#75715e">// $ mono ch-1.exe 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">using</span> System;
<span style="color:#66d9ef">using</span> System.Numerics;

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Program</span> {
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> Main(<span style="color:#66d9ef">string</span>[] args)
    {
        <span style="color:#66d9ef">int</span> n = <span style="color:#ae81ff">3</span>;
        <span style="color:#66d9ef">if</span> (args.Length == <span style="color:#ae81ff">1</span>) n = <span style="color:#66d9ef">int</span>.Parse(args[<span style="color:#ae81ff">0</span>]);

        <span style="color:#66d9ef">var</span> s = <span style="color:#66d9ef">new</span> BigInteger(<span style="color:#ae81ff">0</span>);
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> x = <span style="color:#ae81ff">1</span>; x &lt;= n; x++) {
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> y = x + <span style="color:#ae81ff">1</span>; y &lt;= n; y++) {
                s += BigInteger.GreatestCommonDivisor(x, y);
            }
        }

        System.Console.WriteLine(s);

        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
    }
}
</code></pre></div><h3 id="8-dart">8. Dart</h3>
<p>To me, languages built on C++ have their specific charm. On one side, it is the same known language, but on the other, it embeds the things that you were missing earlier (see, for example, how easy it is to deal with command-line arguments). The <code>gcd</code> here is again a method called on a number: <code>x.gcd(y)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#75715e">// To run:
</span><span style="color:#75715e">// $ dart ch-1.dart 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
void main(List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> args) {
    var n <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
    <span style="color:#66d9ef">if</span> (args.length <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)
        n <span style="color:#f92672">=</span> int.parse(args[<span style="color:#ae81ff">0</span>]);

    var s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> (var x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; x <span style="color:#f92672">&lt;=</span> n; x<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">for</span> (var y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; y <span style="color:#f92672">&lt;=</span> n; y<span style="color:#f92672">++</span>) {
            s <span style="color:#f92672">+=</span> x.gcd(y);
        }
    }

    print(s);
}
</code></pre></div><h3 id="9-julia">9. Julia</h3>
<p>Julia is another interesting language that actually has many similarities with Raku. For our today’s need, there’s a built-in <code>gcd</code> function that I am happily using. The only unexpected obstacle is, maybe, the need to explicitly refer to the accumulator <code>s</code> as to a <code>global</code> variable.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia"><span style="color:#75715e"># To run:</span>
<span style="color:#75715e"># $ julia ch-1.jl 100</span>
<span style="color:#75715e"># 13015</span>

n <span style="color:#f92672">=</span> length(ARGS) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> parse(<span style="color:#66d9ef">Int</span>, ARGS[<span style="color:#ae81ff">1</span>]) <span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>

s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> x <span style="color:#66d9ef">in</span> range(<span style="color:#ae81ff">1</span>, stop <span style="color:#f92672">=</span> n)
    <span style="color:#66d9ef">for</span> y <span style="color:#66d9ef">in</span> range(x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, stop <span style="color:#f92672">=</span> n)
        <span style="color:#66d9ef">global</span> s
        s <span style="color:#f92672">+=</span> gcd(x, y)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

println(s)
</code></pre></div><h3 id="10-d">10. D</h3>
<p>Acter C comes D. And here we are. In the program, you can see extensive use of the <code>auto</code> declarator. I believe, the situation here resembles how some elements of Raku entered back in Perl, even if Raku was a continuation of Perl historically. Similarly, <code>auto</code> is now available in C++ too (while you need to practice not to forget to use <code>auto</code> automatically).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-d" data-lang="d"><span style="color:#75715e">// How to run:
</span><span style="color:#75715e">// $ rdmd ch1.d 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#f92672">import</span> std.stdio<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> std.numeric<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> std.conv<span style="color:#f92672">;</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span><span style="color:#66d9ef">string</span><span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">auto</span> n <span style="color:#f92672">=</span> args<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">?</span> to<span style="color:#f92672">!</span><span style="color:#66d9ef">int</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672">])</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">auto</span> s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">auto</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">;</span> x <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">;</span> x<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">auto</span> y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">;</span> y <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">;</span> y<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            s <span style="color:#f92672">+=</span> gcd<span style="color:#f92672">(</span>x<span style="color:#f92672">,</span> y<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    writeln<span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="11-lisp">11. Lisp</h3>
<p>Move on to a different world (for a bit). Here is the solution in a functional programming language. Well, Common Lisp adds some syntax sugar to help us build loops without manually manipulating loop counters and recursive calls. (Not to say about <code>setq</code> that sets the new value of a variable.)</p>
<p>In any case, it also has the built-in <code>gcd</code> function, which, of course, you call as <code>(gcd x y)</code>. The below program works with the SBCL implementation (mostly because of how it reads the command-line arguments).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lisp" data-lang="lisp"><span style="color:#75715e">;;; How to run:</span>
<span style="color:#75715e">;;; $ sbcl --script ch-1.lisp 100</span>
<span style="color:#75715e">;;;</span>
<span style="color:#75715e">;;; 13015</span>

(defvar n (<span style="color:#a6e22e">parse-integer</span> (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">1</span> *posix-argv*)))

(defvar s <span style="color:#ae81ff">0</span>)

(loop for x from <span style="color:#ae81ff">1</span> to n
    do (
        loop for y from (<span style="color:#a6e22e">+</span> <span style="color:#ae81ff">1</span> x) to n
            do (<span style="color:#66d9ef">setq</span> s (<span style="color:#a6e22e">+</span> s (<span style="color:#a6e22e">gcd</span> x y)))
    )
)

(<span style="color:#a6e22e">print</span> s)
(<span style="color:#a6e22e">terpri</span>)
</code></pre></div><h2 id="part-2">Part 2</h2>
<h3 id="12-c">12. C</h3>
<p>OK, and now we start the second part of the solutions list. Now, the GCD algorithm is implemented directly in the program itself. Refer to this implementation in C; this algorithm is used in all other solutions below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
    <span style="color:#66d9ef">while</span> (b) {
        <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> b;
        b <span style="color:#f92672">=</span> a <span style="color:#f92672">%</span> b;
        a <span style="color:#f92672">=</span> t;
    }

    <span style="color:#66d9ef">return</span> a;
}
</code></pre></div><p>It is important to say that due to the loop organisation, we always call this function with such arguments that <code>b</code> is always bigger than <code>a</code>, so you don’t have to care about other cases.</p>
<p>So, here is the complete program in C:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">/*
</span><span style="color:#75715e">    Compile:
</span><span style="color:#75715e">    $ gcc ch-1.c
</span><span style="color:#75715e">
</span><span style="color:#75715e">    Test run:
</span><span style="color:#75715e">    $ ./a.out 100
</span><span style="color:#75715e">    13015
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
    <span style="color:#66d9ef">while</span> (b) {
        <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> b;
        b <span style="color:#f92672">=</span> a <span style="color:#f92672">%</span> b;
        a <span style="color:#f92672">=</span> t;
    }

    <span style="color:#66d9ef">return</span> a;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> argv) {
    <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
    <span style="color:#66d9ef">if</span> (argc <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span>) {
        n <span style="color:#f92672">=</span> atoi(argv[<span style="color:#ae81ff">1</span>]);
    }

    <span style="color:#66d9ef">int</span> s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; x <span style="color:#f92672">&lt;=</span> n; x<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; y <span style="color:#f92672">&lt;=</span> n; y<span style="color:#f92672">++</span>) {
            s <span style="color:#f92672">+=</span> gcd(x, y);
        }
    }

    printf(<span style="color:#e6db74">&#34;%i</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, s);
}
</code></pre></div><h3 id="13-javascript">13. JavaScript</h3>
<p>A Node.js slash JavaScript program is here for your further entertainment. It resembles a lot the previously shown C program. A similar pair of nested loops, and a similar implementation of <code>gcd</code>. Could you imagine 10-15 years ago that you would be able to run a JS program from command line?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// Test run:
</span><span style="color:#75715e">// $ node ch-1.js 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">argv</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">argv</span>[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>;

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">x</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">x</span><span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">y</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">y</span><span style="color:#f92672">++</span>) {
        <span style="color:#a6e22e">s</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>);
    }
}

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>);

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
    <span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">b</span>) {
        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">b</span>;
        <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">%</span> <span style="color:#a6e22e">b</span>;
        <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">t</span>;
    }

    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span>;
}
</code></pre></div><h3 id="14-java">14. Java</h3>
<p>Now, look at the solution in Java. Yes, we have to use classes again, but in the rest, a nice and clean program that doesn’t require many more comments, I think.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// To run:
</span><span style="color:#75715e">// $ java ch-1.java 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Main</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">gcd</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> a<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> b<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>b <span style="color:#f92672">!=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> b<span style="color:#f92672">;</span>
            b <span style="color:#f92672">=</span> a <span style="color:#f92672">%</span> b<span style="color:#f92672">;</span>
            a <span style="color:#f92672">=</span> t<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        <span style="color:#66d9ef">return</span> a<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> args<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">==</span> 1 <span style="color:#f92672">?</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>args<span style="color:#f92672">[</span>0<span style="color:#f92672">])</span> <span style="color:#f92672">:</span> 3<span style="color:#f92672">;</span>

        <span style="color:#66d9ef">int</span> s <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> x <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">;</span> x<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> 1<span style="color:#f92672">;</span> y <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">;</span> y<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
                s <span style="color:#f92672">+=</span> gcd<span style="color:#f92672">(</span>x<span style="color:#f92672">,</span> y<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="15-rust">15. Rust</h3>
<p>The program in Rust is an interesting combination of elements that we are familiar with from both C, JavaScript, and even Perl and Raku (for example, ranges <code>..</code>). Also, a nice addition of built-in type system, and maybe an unusual concept of macros — those ‘functions’ with an exclamation mark in their name such as <code>println!</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#75715e">// To compile and run:
</span><span style="color:#75715e">// $ rustc ch-1.rs
</span><span style="color:#75715e">// $ ./ch-1 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">use</span> std::env;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">gcd</span>(a: <span style="color:#66d9ef">u32</span>, b: <span style="color:#66d9ef">u32</span>) -&gt; <span style="color:#66d9ef">u32</span> {
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> x <span style="color:#f92672">=</span> a;
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> y <span style="color:#f92672">=</span> b;

    <span style="color:#66d9ef">while</span> y <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
        <span style="color:#66d9ef">let</span> t <span style="color:#f92672">=</span> y;
        y <span style="color:#f92672">=</span> x <span style="color:#f92672">%</span> y;
        x <span style="color:#f92672">=</span> t;
    }

    <span style="color:#66d9ef">return</span> x;
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> args: Vec<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> env::args().collect();

    <span style="color:#66d9ef">let</span> n;
    <span style="color:#66d9ef">if</span> args.len() <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> {
        n <span style="color:#f92672">=</span> args[<span style="color:#ae81ff">1</span>].parse().unwrap();
    }
    <span style="color:#66d9ef">else</span> {
        n <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
    }

    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> x <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> .. (n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">for</span> y <span style="color:#66d9ef">in</span> (x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) .. (n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) {
            s <span style="color:#f92672">+=</span> gcd(x, y);
        }
    }

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, s);
}
</code></pre></div><h3 id="16-pascal">16. Pascal</h3>
<p>I have a question for you. When did you program in Pascal last time? My answer is ‘Something like 30 years ago’. But honestly, that nostalgic mood is a great thing for the evenings around Christmas time. And while there’s no <code>gcd</code> built in, you can implement it yourself if you remember to use <code>&lt;&gt;</code> instead of <code>!=</code> and a single <code>=</code> in comparisons: <code>if paramCount() = 0 then</code>. I also struggled a bit with semicolons, for example, no semicolon allowed before <code>else</code>.</p>
<pre><code class="language-pascal" data-lang="pascal">(*
    To compile and run:
    $ fpc ch-1.pas
    $ ./ch-1 100
    13015
*)

program Challenge89Part1(input, output);

uses sysutils;

var
    n, x, y, s: integer;

function gcd(a, b: integer): integer;
var
    t: integer;
begin
    while b &lt;&gt; 0 do begin
        t := b;
        b := a mod b;
        a := t;
    end;

    gcd := a
end;

begin
    if paramCount() = 0 then
        n := 3
    else
        n := StrToInt(paramStr(1));

    s := 0;
    for x := 1 to n do
        for y := x + 1 to n do
            s += gcd(x, y);

    writeln(s);
end.
</code></pre><h3 id="17-go">17. Go</h3>
<p>And now fast forward to the present days. Here is Go with its strict requirements not to leave garbage in the code and use all variables and imported modules. Notice that I used multiple assignments and avoided a temporary variable in the implementation of <code>gcd</code>: <code>b, a = a%b, b</code>. Heh, and the Go standard formatter removed my spaces around the <code>%</code> operator.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// To compile and run:
</span><span style="color:#75715e">// $ go run ch-1.go 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;fmt&#34;</span>
    <span style="color:#e6db74">&#34;os&#34;</span>
    <span style="color:#e6db74">&#34;strconv&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
    <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
        <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">a</span> = <span style="color:#a6e22e">a</span><span style="color:#f92672">%</span><span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">b</span>
    }

    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">n</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">3</span>
    <span style="color:#66d9ef">if</span> len(<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Args</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> {
        <span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">_</span> = <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Atoi</span>(<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Args</span>[<span style="color:#ae81ff">1</span>])
    }

    <span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">x</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">x</span><span style="color:#f92672">++</span> {
        <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">y</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">y</span><span style="color:#f92672">++</span> {
            <span style="color:#a6e22e">s</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>)
        }
    }

    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)
}
</code></pre></div><h3 id="18-lua">18. Lua</h3>
<p>Lua is the language that is loved by many people, and I believe there are many cases when its design with tables can be beneficial in many applications. For our practice, I used the standard approach: a few loops, and it’s done. I would still point your attention to the following line: <code>n = arg[1] and arg[1] or 3</code>, which is actually a ternary construction to assign the default value if the argument is missing.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#75715e">-- How to run:</span>
<span style="color:#75715e">-- $ lua ch-1.lua 100</span>
<span style="color:#75715e">-- 13015</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">gcd</span>(a, b)
    <span style="color:#66d9ef">while</span> b <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">do</span>
        t <span style="color:#f92672">=</span> b
        b <span style="color:#f92672">=</span> a <span style="color:#f92672">%</span> b
        a <span style="color:#f92672">=</span> t
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">return</span> a
<span style="color:#66d9ef">end</span>

n <span style="color:#f92672">=</span> arg[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">and</span> arg[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">or</span> <span style="color:#ae81ff">3</span>

s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, n <span style="color:#66d9ef">do</span>
    <span style="color:#66d9ef">for</span> y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, n <span style="color:#66d9ef">do</span>
        s <span style="color:#f92672">=</span> s <span style="color:#f92672">+</span> gcd(x, y)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

print(s)
</code></pre></div><h3 id="19-fortran">19. Fortran</h3>
<p>Going further to some science-related language. For a long time, Fortran was the language in which tons of algorithms were encoded for physics and mathematics. I believe it would be very beneficial to use this as the language to teach students (OK, consider that a joke with some elements of truth) :-) What would be really interesting is to browse into some sophisticated algorithms written decades ago — many of them may be unexpectedly efficient.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fortran" data-lang="fortran"><span style="color:#75715e">! To compile and run:
</span><span style="color:#75715e">!
</span><span style="color:#75715e">! $ gfortran ch-1.f95
</span><span style="color:#75715e">! $ ./a.out 100
</span><span style="color:#75715e">!       13015
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">function </span>mygcd(a, b) <span style="color:#66d9ef">result</span>(x)
    <span style="color:#66d9ef">integer</span>, <span style="color:#66d9ef">intent</span>(in) <span style="color:#66d9ef">::</span> a, b
    <span style="color:#66d9ef">integer</span> <span style="color:#66d9ef">::</span> x, y, t

    x <span style="color:#f92672">=</span> a
    y <span style="color:#f92672">=</span> b

    <span style="color:#66d9ef">do while</span> (y <span style="color:#f92672">/=</span> <span style="color:#ae81ff">0</span>)
        t <span style="color:#f92672">=</span> y
        y <span style="color:#f92672">=</span> mod(x, y)
        x <span style="color:#f92672">=</span> t
    <span style="color:#66d9ef">end do
</span><span style="color:#66d9ef">end function
</span><span style="color:#66d9ef">
</span><span style="color:#66d9ef">program </span>challenge89part1
    <span style="color:#66d9ef">integer</span> <span style="color:#66d9ef">::</span> n, x, y, s

    <span style="color:#66d9ef">character</span>(len<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">::</span> arg
    <span style="color:#66d9ef">character</span>(len<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">::</span> nstr

    <span style="color:#66d9ef">if</span> (iargc() <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">then
</span><span style="color:#66d9ef">        call </span>getarg(<span style="color:#ae81ff">1</span>, nstr)
        <span style="color:#66d9ef">read</span>(nstr,<span style="color:#f92672">*</span>) n
    <span style="color:#66d9ef">else
</span><span style="color:#66d9ef">        </span>n <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
    <span style="color:#66d9ef">end if
</span><span style="color:#66d9ef">
</span><span style="color:#66d9ef">    </span>s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">do </span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, n
        <span style="color:#66d9ef">do </span>y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, n
            s <span style="color:#f92672">=</span> s <span style="color:#f92672">+</span> mygcd(x, y)
        <span style="color:#66d9ef">end do
</span><span style="color:#66d9ef">    end do
</span><span style="color:#66d9ef">
</span><span style="color:#66d9ef">    write</span>(<span style="color:#f92672">*</span>,<span style="color:#f92672">*</span>) s
<span style="color:#66d9ef">end program</span>
</code></pre></div><h3 id="20-php">20. PHP</h3>
<p>Let me introduce another solution with sigils, which, as you may see, is not too frequent part among the languages. Perl, Raku, PHP, and Bash in this list do use them though. I believe, if you are familiar with either Perl or Raku, you can understand every bit of this program in PHP (yeah, and no <code>my</code> declarators).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span>
    <span style="color:#75715e">// Run as:
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// $ php ch-1.php 100
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">gcd</span>($a, $b) {
        <span style="color:#66d9ef">while</span> ($b) {
            $t <span style="color:#f92672">=</span> $b;
            $b <span style="color:#f92672">=</span> $a <span style="color:#f92672">%</span> $b;
            $a <span style="color:#f92672">=</span> $t;
        }

        <span style="color:#66d9ef">return</span> $a;
    }

    $n <span style="color:#f92672">=</span> $argc <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">?</span> $argv[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>;

    $s <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span> ($x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; $x <span style="color:#f92672">&lt;=</span> $n; $x<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">for</span> ($y <span style="color:#f92672">=</span> $x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; $y <span style="color:#f92672">&lt;=</span> $n; $y<span style="color:#f92672">++</span>) {
            $s <span style="color:#f92672">+=</span> <span style="color:#a6e22e">gcd</span>($x, $y);
        }
    }

    <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$s\n</span><span style="color:#e6db74">&#34;</span>;

<span style="color:#75715e">?&gt;</span>
</code></pre></div><h3 id="21-kotlin">21. Kotlin</h3>
<p>In the program in Kotlin, we see the use of typed variables, C-like functions and&hellip;double-dot ranges! What a surprise for the Perl and Raku lovers again.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// How to run:
</span><span style="color:#75715e">// $ kotlinc ch-1.kt -include-runtime -d ch1.jar
</span><span style="color:#75715e">// $ java -jar ch1.jar 100
</span><span style="color:#75715e">// 13015
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">gcd</span>(a: Int, b: Int): Int {
    <span style="color:#66d9ef">var</span> x = a
    <span style="color:#66d9ef">var</span> y = b

    <span style="color:#66d9ef">while</span> (y != <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">val</span> t = y
        y = x % y
        x = t
    }

    <span style="color:#66d9ef">return</span> x
}

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>(args: Array&lt;String&gt;) {
    <span style="color:#66d9ef">var</span> n: Int
    <span style="color:#66d9ef">if</span> (args.size == <span style="color:#ae81ff">1</span>)
        n = args[<span style="color:#ae81ff">0</span>].toInt()
    <span style="color:#66d9ef">else</span>
        n = <span style="color:#ae81ff">3</span>

    <span style="color:#66d9ef">var</span> s = <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> (x <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1.</span>.n) {
        <span style="color:#66d9ef">for</span> (y <span style="color:#66d9ef">in</span> x + <span style="color:#ae81ff">1</span> .. n) {
            s += gcd(x, y)
        }
    }

    println(s)
}
</code></pre></div><h3 id="22-bash">22. Bash</h3>
<p>And the last program on this page. At this point, I could add a poll to ask if you consider Bash a programming language or not. Honestly, I did not think it would be possible to solve today’s problem in Bash, but as you see, the result is not that much more complicated than the solutions in other languages. Enjoy it too!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/usr/bin/bash
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># Usage:</span>
<span style="color:#75715e"># $ bash ch-1.bash 100</span>
<span style="color:#75715e"># 13015</span>
#
<span style="color:#75715e"># N. B. Try with smaller arguments, as the computations</span>
<span style="color:#75715e"># for 100 as the input can take a while (~ a minute).</span>

gcd<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    a<span style="color:#f92672">=</span>$1;
    b<span style="color:#f92672">=</span>$2;
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $b -ne <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">do</span>
        t<span style="color:#f92672">=</span>$b
        b<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>expr $a % $b<span style="color:#e6db74">`</span>
        a<span style="color:#f92672">=</span>$t
    <span style="color:#66d9ef">done</span>

    gcd<span style="color:#f92672">=</span>$a
<span style="color:#f92672">}</span>

n<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>1<span style="color:#66d9ef">:-</span>3<span style="color:#e6db74">}</span> <span style="color:#75715e"># default is 3</span>

s<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
x<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $x -le $n <span style="color:#f92672">]</span>; <span style="color:#66d9ef">do</span>
    next<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>expr $x + 1<span style="color:#e6db74">`</span>;
    y<span style="color:#f92672">=</span>$next;
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> $y -le $n <span style="color:#f92672">]</span>; <span style="color:#66d9ef">do</span>
        y<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>expr $y + 1<span style="color:#e6db74">`</span>;
        gcd $x $y;
        s<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>expr $s + $gcd<span style="color:#e6db74">`</span>;
    <span style="color:#66d9ef">done</span>
    x<span style="color:#f92672">=</span>$next;
<span style="color:#66d9ef">done</span>

echo $s
</code></pre></div><p>And that’s it for today. Tomorrow, there’s another post in this Advent Calendar, but don’t forget that there are more calendars this year, and there are more Weekly Challenges coming soon!</p>
<hr>
<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>
<p><a href="/blog/advent-calendar-2020"><strong>Advent Calendar 2020</strong></a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2025
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

