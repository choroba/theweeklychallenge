<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="Advent Calendar - December 24, 2022"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/blog/advent-calendar-2022-12-24/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="Advent Calendar - December 24, 2022."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 24, 2022.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">
    <link rel="canonical" href="https://theweeklychallenge.org/blog/advent-calendar-2022-12-24/" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 24, 2022</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 24, 2022</h2>
                    <div class="portfolio-meta">
                        <span>Saturday, Dec 24, 2022</span>|
                        <span> Tags:
                            Perl, Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/2022-12-24.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h2 id="advent-calendar-2022blogadvent-calendar-2022"><a href="/blog/advent-calendar-2022"><strong>Advent Calendar 2022</strong></a></h2>
<h3 id="-nbsp-day-23blogadvent-calendar-2022-12-23-nbsp--nbsp-day-24-nbsp--nbsp-day-25blogadvent-calendar-2022-12-25-nbsp-">|   <a href="/blog/advent-calendar-2022-12-23"><strong>Day 23</strong></a>   |   <strong>Day 24</strong>   |   <a href="/blog/advent-calendar-2022-12-25"><strong>Day 25</strong></a>   |</h3>
<hr>
<p>The gift is presented by <code>Flavio Poletti</code>. Today he is talking about his solution to <a href="/blog/perl-weekly-challenge-160"><strong>&ldquo;The Weekly Challenge - 160&rdquo;</strong></a>. This is re-produced for <strong>Advent Calendar 2022</strong> from the original <a href="https://github.polettix.it/ETOOBUSY/2022/04/13/pwc160-equilibrium-index/"><strong>post</strong></a> by him.</p>
<hr>
<br>
<h2 id="pwc160---equilibrium-index">PWC160 - Equilibrium Index</h2>
<br>
<h3 id="tldr">TL;DR</h3>
<br>
<p>On with <a href="https://theweeklychallenge.org/blog/perl-weekly-challenge-160/#TASK2"><strong>TASK #2</strong></a> from <a href="https://theweeklychallenge.org/"><strong>The Weekly Challenge</strong></a> <code>#160</code>. Enjoy!</p>
<br>
<h2 id="the-challenge">The challenge</h2>
<br>
<p>You are give an array of integers, @n.</p>
<p>Write a script to find out the Equilibrium Index of the given array, if found.</p>
<br>
<blockquote>
<p>For an array A consisting n elements, index i is an equilibrium index if the sum of elements of subarray A[0…i-1] is equal to the sum of elements of subarray A[i+1…n-1].</p>
</blockquote>
<br>
<h3 id="example-1">Example 1</h3>
<pre><code>Input: @n = (1, 3, 5, 7, 9)
Output: 3
</code></pre>
<h3 id="example-2">Example 2</h3>
<pre><code>Input: @n = (1, 2, 3, 4, 5)
Output: -1 as no Equilibrium Index found.
</code></pre>
<h3 id="example-2-1">Example 2</h3>
<pre><code>Input: @n = (2, 4, 2)
Output: 1
</code></pre>
<br>
<h2 id="the-questions">The questions</h2>
<br>
<p>No real question, but maybe…</p>
<br>
<pre><code>* are there constraints on the input range, e.g. we have to use “big” stuff or multiple precision libraries?
*is there a constraint on the size of the input array?
</code></pre>
<br>
<h2 id="the-solution">The solution</h2>
<br>
<p>This challenge reminded me of the exercises we did while practicing for the Computer Science 1 course at the University, way too long ago.</p>
<p>Let’s see the <code>Perl</code> solution first:</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#!/usr/bin/env perl</span>
<span style="color:#66d9ef">use</span> v5<span style="color:#ae81ff">.24</span>;
<span style="color:#66d9ef">use</span> warnings;
<span style="color:#66d9ef">use</span> experimental <span style="color:#e6db74">&#39;signatures&#39;</span>;
<span style="color:#66d9ef">no</span> warnings <span style="color:#e6db74">&#39;experimental::signatures&#39;</span>;

<span style="color:#66d9ef">my</span> @n <span style="color:#f92672">=</span> @ARGV ? @ARGV : (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">9</span>);
say equilibrium_index(@n);

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">equilibrium_index</span> (@n) {
   <span style="color:#66d9ef">my</span> $i_lo <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
   <span style="color:#66d9ef">my</span> $i_hi <span style="color:#f92672">=</span> $#n;
   <span style="color:#66d9ef">my</span> $diff <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
   $diff <span style="color:#f92672">+=</span> ($diff <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span> ? $n[$i_lo<span style="color:#f92672">++</span>] : <span style="color:#f92672">-</span>$n[$i_hi<span style="color:#f92672">--</span>]) <span style="color:#66d9ef">while</span> $i_lo <span style="color:#f92672">&lt;</span> $i_hi;
   <span style="color:#66d9ef">return</span> @n <span style="color:#f92672">&amp;&amp;</span> $diff <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> ? $i_lo : <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
}
</code></pre></div><br>
<p>The idea is to keep two indexes, one scanning the array from below (aptly named <code>$i_low</code>) and the other one from above (<code>$i_hi</code>). When the two meet, it’s time to call it a day and see how the two sums compare with one another.</p>
<p>Well, sort of. We can just keep track of the difference between the two sums, which is easy if we add stuff from below and subtract stuff from above. The difference is kept in variable <code>$diff</code>.</p>
<p>Last thing to discuss is how to move <code>$i_lo</code> and <code>$i_hi</code>. When <code>$diff</code> is positive, it means that there is an imbalance from below, which we have to compensate from above. When $diff is negative, the imbalance is from above, and we compensate from below. When <code>$diff</code> is zero we have to move on from either side (in this case, we get a new element from below).</p>
<p>The <code>Raku</code> version is the same, with slight changes in syntax:</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#!/usr/bin/env raku</span>
<span style="color:#66d9ef">use</span> v6;
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">MAIN</span> (*@args) { put equilibrium<span style="color:#f92672">-</span>index(@args) }

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">equilibrium</span>-index (@n) {
   <span style="color:#66d9ef">my</span> $i_lo <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
   <span style="color:#66d9ef">my</span> $i_hi <span style="color:#f92672">=</span> @n<span style="color:#f92672">.</span>end;
   <span style="color:#66d9ef">my</span> $diff <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
   $diff <span style="color:#f92672">+=</span> ($diff <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span> ?? @n[$i_lo<span style="color:#f92672">++</span>] <span style="color:#f92672">!!</span> <span style="color:#f92672">-</span>@n[$i_hi<span style="color:#f92672">--</span>]) <span style="color:#66d9ef">while</span> $i_lo <span style="color:#f92672">&lt;</span> $i_hi;
   <span style="color:#66d9ef">return</span> @n <span style="color:#f92672">&amp;&amp;</span> $diff <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> ?? $i_lo <span style="color:#f92672">!!</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
}
</code></pre></div><br>
<p>Stay safe!</p>
<br>
<hr>
<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>
<p>|   <a href="/blog/advent-calendar-2022"><strong>Advent Calendar 2022</strong></a>   |</p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="mailto:mohammad.anwar@yahoo.com" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2025
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

