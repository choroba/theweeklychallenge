<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 2, 2022.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 2, 2022</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 2, 2022</h2>
                    <div class="portfolio-meta">
                        <span>Friday, Dec 2, 2022</span>|
                        <span> Tags:
                            Perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/2022-12-02.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h2 id="advent-calendar-2022blogadvent-calendar-2022"><a href="/blog/advent-calendar-2022"><strong>Advent Calendar 2022</strong></a></h2>
<h3 id="-nbsp-day-1blogadvent-calendar-2022-12-01-nbsp--nbsp-day-2-nbsp--nbsp-day-3blogadvent-calendar-2022-12-03-nbsp-">|   <a href="/blog/advent-calendar-2022-12-01"><strong>Day 1</strong></a>   |   <strong>Day 2</strong>   |   <a href="/blog/advent-calendar-2022-12-03"><strong>Day 3</strong></a>   |</h3>
<hr>
<p>The gift is presented by <code>James Smith</code>. Today he is talking about his solution to <a href="/blog/perl-weekly-challenge-193"><strong>&ldquo;The Weekly Challenge - 193&rdquo;</strong></a>. This is re-produced for <strong>Advent Calendar 2022</strong> from the original <a href="https://github.com/manwar/perlweeklychallenge-club/tree/master/challenge-193/james-smith#readme"><strong>post</strong></a> by him.</p>
<hr>
<br>
<h2 id="task-1-binary-string">Task #1: Binary String</h2>
<p>You are given an integer, <code>$n &gt; 0</code>. Write a script to find all possible binary numbers of size <code>$n</code>.</p>
<h2 id="solution">Solution</h2>
<p>This weeks task 1 is relatively simple. (1) We need to work out what the minimum and maximum integers are and then just print them padded to the right length. Thankfully Perl is great at this as it is integral to it&rsquo;s design.</p>
<p>The largest value is <code>'(2^n)-1'</code> and the template for sprintf is <code>'%0{n}b'</code>. Which gives us</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">all_binary</span> {                             <span style="color:#75715e">## Make a template so we don&#39;t have</span>
  <span style="color:#66d9ef">my</span> $t <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;%0$_[0]b&#34;</span>;                        <span style="color:#75715e">## to do interpolation everytime</span>
  map { sprintf $t, $_ } <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span>$_[<span style="color:#ae81ff">0</span>])<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>   <span style="color:#75715e">## Need brackets as - is actioned</span>
}
</code></pre></div><br>
<h2 id="task-2-odd-string">Task #2: Odd String</h2>
<p>You are given a list of strings of same length, <code>@s</code>. Write a script to find the odd string in the given list. Use positional value of alphabet starting with <code>0, i.e. a = 0, b = 1, ... z = 25</code>.</p>
<br>
<h2 id="solution-1">Solution</h2>
<br>
<p>To find the unique string we note:</p>
<p>If word one isn&rsquo;t equivalent to word 2 then the word we are looking for is one of these two (the one which doesn&rsquo;t match the 3rd word) o/w we are looking for the first word that is not equivalent.</p>
<br>
<h3 id="try-1---for-every-string-compute-a-string-signature">Try 1 - for every string compute a string signature</h3>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">sig_str</span> {
  <span style="color:#66d9ef">my</span> @Q <span style="color:#f92672">=</span> map { ord $_ } split <span style="color:#e6db74">//</span>,$_[<span style="color:#ae81ff">0</span>];
  join <span style="color:#e6db74">&#39;&#39;</span>, map { chr(<span style="color:#ae81ff">96</span> <span style="color:#f92672">+</span> $Q[$_]<span style="color:#f92672">-</span>$Q[$_<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]) } <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#Q<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">odd_string_sig</span> {
  <span style="color:#66d9ef">my</span> $x <span style="color:#f92672">=</span> sig_str( $_[<span style="color:#ae81ff">0</span>] );
  <span style="color:#66d9ef">return</span> $_[ $x <span style="color:#f92672">eq</span> sig_str( $_[<span style="color:#ae81ff">2</span>] ) ] <span style="color:#66d9ef">if</span> $x <span style="color:#f92672">ne</span> sig_str( $_[<span style="color:#ae81ff">1</span>] );
  splice@_,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>;
  $x <span style="color:#f92672">eq</span> sig_str( $_ ) <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span> $_ <span style="color:#66d9ef">for</span> @_
}
</code></pre></div><br>
<h3 id="try-2---replace-signature-with-an-array-ref-here-we-write-an-sig_check-which-compares-a-string-against-arrayref">Try 2 - replace signature with an array ref, here we write an <code>sig_check</code> which compares a string against arrayref.</h3>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">sig</span> {
  <span style="color:#66d9ef">my</span> @Q <span style="color:#f92672">=</span> map { ord $_ } split <span style="color:#e6db74">//</span>,$_[<span style="color:#ae81ff">0</span>];
  [ map { $Q[$_]<span style="color:#f92672">-</span>$Q[$_<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] } <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#Q<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> ]
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">sig_check</span> {
  <span style="color:#66d9ef">my</span>( $sig, $str ) <span style="color:#f92672">=</span> @_;
  <span style="color:#66d9ef">my</span> @Q <span style="color:#f92672">=</span> map { ord $_ } split <span style="color:#e6db74">//</span>,$str;
  $Q[$_]<span style="color:#f92672">-</span>$Q[$_<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> $sig<span style="color:#f92672">-&gt;</span>[$_] <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#Q<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">odd_string_sig_check</span> {
  <span style="color:#66d9ef">my</span> $x <span style="color:#f92672">=</span> sig( $_[<span style="color:#ae81ff">0</span>] );
  <span style="color:#66d9ef">return</span> $_[ sig_check( $x, $_[<span style="color:#ae81ff">2</span>] ) ] <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>sig_check( $x, $_[<span style="color:#ae81ff">1</span>] );
  splice@_,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>;
  sig_check( $x, $_ ) <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span> $_ <span style="color:#66d9ef">for</span> @_
}
</code></pre></div><br>
<h3 id="try-3-a-bit-outside-in">Try 3&hellip; A bit outside in&hellip;</h3>
<br>
<p>We start by working out which are the equivalent words to the first word.</p>
<p>Any word is equivalent if it is in this list&hellip; So comparisons are light weight&hellip;</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">odd_string_eqs</span> {
  <span style="color:#66d9ef">my</span> @Q <span style="color:#f92672">=</span> map { ord $_ } split<span style="color:#e6db74">//</span>,$_[<span style="color:#ae81ff">0</span>];
  <span style="color:#66d9ef">my</span> $l<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>;
  $l <span style="color:#f92672">&gt;</span> $_ <span style="color:#f92672">&amp;&amp;</span> ($l<span style="color:#f92672">=</span>$_) <span style="color:#66d9ef">for</span> @Q;
  <span style="color:#66d9ef">my</span> $h<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
  $h <span style="color:#f92672">&lt;</span> $_ <span style="color:#f92672">&amp;&amp;</span> ($h<span style="color:#f92672">=</span>$_) <span style="color:#66d9ef">for</span> @Q;
  <span style="color:#66d9ef">my</span> %eqs <span style="color:#f92672">=</span> map {
    <span style="color:#66d9ef">my</span> $o <span style="color:#f92672">=</span> $_;
    join( <span style="color:#e6db74">&#39;&#39;</span>, map {chr $_<span style="color:#f92672">+</span>$o} @Q ) <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>
  } <span style="color:#ae81ff">97</span><span style="color:#f92672">-</span>$l <span style="color:#f92672">..</span> <span style="color:#ae81ff">122</span><span style="color:#f92672">-</span>$h;
  <span style="color:#66d9ef">return</span> $_[ exists $eqs{$_[<span style="color:#ae81ff">2</span>]} ]
    <span style="color:#66d9ef">unless</span>   exists $eqs{$_[<span style="color:#ae81ff">1</span>]};
  splice@_,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>;
  exists $eqs{$_} <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span> $_ <span style="color:#66d9ef">for</span> @_
}
</code></pre></div><br>
<p>The lines prior to the return - compute this map.</p>
<h2 id="performance">Performance</h2>
<p>How much faster are these&hellip; depends on how far along the list you need to go until you find the unique element. Testing a list of strings with the odd one in a random location - we saw:</p>
<br>
<pre><code>+--------------------+----------+
| Method             | Speed up |
+--------------------+----------+
| signature          |    x 1.0 |
| signature array    |    x 1.4 |
| Equivalent strings |    x 2.5 |
+--------------------+----------+
</code></pre>
<br>
<hr>
<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>
<p>|   <a href="/blog/advent-calendar-2022"><strong>Advent Calendar 2022</strong></a>   |</p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2024
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

