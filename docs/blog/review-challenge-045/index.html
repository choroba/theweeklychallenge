<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="Ryan Thompson › Perl Weekly Review: Challenge - #045"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/blog/review-challenge-045/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="Ryan Thompson › Perl Weekly Review: Challenge - #045"/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Ryan Thompson › Perl Weekly Review: Challenge - #045">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">
    <link rel="canonical" href="https://theweeklychallenge.org/blog/review-challenge-045/" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ryan Thompson › Perl Weekly Review: Challenge - #045</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }

        
        .toggle-links {
            margin: 15px 0;
            padding-left: 15px;
        }
        .toggle-links a {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            border-radius: 20px;
            background-color: #4285f4;
            color: white !important;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .toggle-links a:hover {
            background-color: #3367d6;
        }
        .arrow-icon {
            margin-left: 8px;
            font-size: 1.1em;
        }

    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

    
    document.addEventListener('DOMContentLoaded', function() {
        
        const showMoreLinkGC = document.querySelector('.show-more-gc');
        const showLessLinkGC = document.querySelector('.show-less-gc');
        const hiddenLinksGC = document.querySelectorAll('.hidden-link-gc');

        showMoreLinkGC.addEventListener('click', function(e) {
            e.preventDefault();
            hiddenLinksGC.forEach(link  => {
                link.style.display = 'list-item';
            });
            showMoreLinkGC.style.display = 'none';
            showLessLinkGC.style.display = 'inline-flex';
        });

        showLessLinkGC.addEventListener('click', function(e) {
            e.preventDefault();
            hiddenLinksGC.forEach(link  => {
                link.style.display = 'none';
            });
            showLessLinkGC.style.display = 'none';
            showMoreLinkGC.style.display = 'inline-flex';
        });

        
        const showMoreLinkPWC = document.querySelector('.show-more-pwc');
        const showLessLinkPWC = document.querySelector('.show-less-pwc');
        const hiddenLinksPWC = document.querySelectorAll('.hidden-link-pwc');

        showMoreLinkPWC.addEventListener('click', function(e) {
            e.preventDefault();
            hiddenLinksPWC.forEach(link  => {
                link.style.display = 'list-item';
            });
            showMoreLinkPWC.style.display = 'none';
            showLessLinkPWC.style.display = 'inline-flex';
        });

        showLessLinkPWC.addEventListener('click', function(e) {
            e.preventDefault();
            hiddenLinksPWC.forEach(link  => {
                link.style.display = 'none';
            });
            showLessLinkPWC.style.display = 'none';
            showMoreLinkPWC.style.display = 'inline-flex';
        });
    });

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>

                    <button class="navbar-toggler d-lg-none"
                            type="button"
                            data-toggle="collapse"
                            data-target="#navigation"
                            aria-controls="navigation"
                            aria-expanded="false"
                            aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Ryan Thompson › Perl Weekly Review: Challenge - #045</h2>
                    <div class="portfolio-meta">
                        <span>Saturday, Feb 8, 2020</span>|
                        <span> Tags:
                            perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/p5-review-challenge-045.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <p>Welcome to the Perl review for Week 045 of the Weekly Challenge! For a quick overview, go through the <a href="/blog/perl-weekly-challenge-045/">original tasks</a> and <a href="/blog/recap-challenge-045/">recap</a> of the weekly challenge.</p>
<p>Continues from <a href="/blog/review-challenge-044/">previous week</a>.</p>
<h2 id="getting-in-touch">Getting in Touch</h2>
<p><a href="mailto:rjt@cpan.org"><img src="http://ry.ca/misc/Email.svg" height="50" width="50"> Email</a> › Email me (Ryan) with any feedback about this review.</p>
<p><a href="https://github.com/manwar/perlweeklychallenge"><img src="http://ry.ca/misc/Github.svg" height="50" width="50"> GitHub</a> › Submit a pull request for any issues you may find with this page.</p>
<p><a href="https://twitter.com/perlwchallenge"><img src="http://ry.ca/misc/Twitter.svg" height="50" width="50"> Twitter</a> › Join the discussion on Twitter!</p>
<p>We&rsquo;d greatly appreciate any feedback you&rsquo;d like to give.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#task1">Task 1</a></li>
<li><a href="#task2">Task 2</a></li>
<li><a href="#blogs">Blogs</a></li>
</ul>
<hr>
<hr>
<h1 id="task1">Task #1 › Square Secret Code</h1>
<hr>
<h2 id="original-task-description">Original task description</h2>
<p>The square secret code mechanism first removes any space from the original message. Then it lays down the message in a row of 8 columns. The coded message is then obtained by reading down the columns going left to right.</p>
<p>For example, the message is <strong>“The quick brown fox jumps over the lazy dog”.</strong></p>
<p>Then the message would be laid out as below:</p>
<pre><code>thequick
brownfox
jumpsove
rthelazy
dog
</code></pre><p><strong>Figure 1</strong> › Partitioned Plaintext</p>
<p>The code message would be as below:</p>
<pre><code>tbjrd hruto eomhg qwpe unsl ifoa covz kxey
</code></pre><hr>
<h2 id="my-general-observations">My general observations</h2>
<p>There seem to be two main ways people approached this task:</p>
<h3 id="1-partitioning">1. Partitioning</h3>
<p>By first splitting the plaintext into column-width substrings, you end up with <strong>Figure 1</strong> (above). From there, you can simply append the first character of each string to your output, then the second character, and so on.</p>
<p>This method is perhaps the most obvious implementation of the problem description, as it follows the wording quite closely.</p>
<h3 id="2-split-and-modulo-arithmetic">2. <code>split</code> and Modulo Arithmetic</h3>
<p>For this method, you first <code>split</code> the plaintext into a list of chars. Then, you loop over the plaintext array, appending each character into its <code>$index % $columns</code> string in an array of <code>@columns</code>. Finally, you simply <code>join</code> the columns together.</p>
<p>This method is maybe a little less obvious, but lead to some concise solutions.</p>
<hr>
<p>If my plain English descriptions don&rsquo;t make complete sense yet, don&rsquo;t worry; there will be plenty of code examples of both methods below.</p>
<h2 id="adam-russell">Adam Russell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/adam-russell/perl/ch-1.pl">Adam Russell&rsquo;s solution</a> uses the <code>split</code> and modulo arithmetic method. He iterates over <code>@characters</code> to <code>push</code> characters into the array of arrays, <code>@buckets</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> constant SQUARE_SIZE <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">8</span>;
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encode</span>{
    <span style="color:#66d9ef">my</span>($message) <span style="color:#f92672">=</span> @_;
    $message <span style="color:#f92672">=~</span> tr<span style="color:#e6db74">/ /</span><span style="color:#f92672">/</span>d;
    <span style="color:#66d9ef">my</span> $encoded;
    <span style="color:#66d9ef">my</span> @buckets;
    <span style="color:#66d9ef">my</span> @characters <span style="color:#f92672">=</span> split(<span style="color:#e6db74">//</span>, lc($message));
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> @characters){
       $buckets[$i % SQUARE_SIZE] <span style="color:#f92672">=</span> <span style="color:#f92672">[]</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>$buckets[$i % SQUARE_SIZE];
       push @{$buckets[$i % SQUARE_SIZE]}, $characters[$i] <span style="color:#66d9ef">if</span> $characters[$i];
    }
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $bucket (@buckets){
        $encoded <span style="color:#f92672">.=</span> join(<span style="color:#e6db74">&#34;&#34;</span>, @{$bucket}) <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34; &#34;</span>;
    }
    <span style="color:#66d9ef">return</span> $encoded;
}
</code></pre></div><p>The solution is then built up by joining each of the <code>@buckets</code> together, and appending the result to the <code>$encoded</code> output string, with the space to separate the columns.</p>
<p><strong>Blog</strong> › <a href="https://adamcrussell.livejournal.com/15213.html">Perl Fun</a></p>
<h2 id="alicia-bielsa">Alicia Bielsa</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/alicia-bielsa/perl/ch-1.pl">Alicia Bielsa&rsquo;s solution</a> has an input loop that asks the user for a plaintext message. Her <code>encodeMessage</code> function uses the <code>split</code> and modulo method to encode the message:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encodeMessage</span> {
    <span style="color:#66d9ef">my</span> $message <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> @aSubMessages <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">my</span> $messageEncoded <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
    $message <span style="color:#f92672">=~</span> <span style="color:#e6db74">s%\s+%%g</span>;
    <span style="color:#66d9ef">my</span> @aEncodedGroups <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">my</span> @aMessage <span style="color:#f92672">=</span> split (<span style="color:#e6db74">&#39;&#39;</span>, $message);
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $indexMessage  (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#aMessage) {
        <span style="color:#66d9ef">my</span> $indexSubgroup <span style="color:#f92672">=</span> $indexMessage % <span style="color:#960050;background-color:#1e0010">$</span>columnLength ;
        <span style="color:#66d9ef">unless</span>  (defined $aEncodedGroups[$indexSubgroup]) {
            $aEncodedGroups[$indexSubgroup] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
        }
        $aEncodedGroups[$indexSubgroup] <span style="color:#f92672">.=</span> $aMessage[$indexMessage]; <span style="color:#75715e">#t</span>
    }
    $messageEncoded <span style="color:#f92672">=</span> join(<span style="color:#e6db74">&#39; &#39;</span>, @aEncodedGroups);
    <span style="color:#66d9ef">return</span> $messageEncoded ;
}
</code></pre></div><p>The <code>$indexSubgroup = $indexMessage % $columnLength</code> line is what sets up the proper index, so that the next character in <code>@aMessage</code> is appended to the correct column in <code>@aEncodedGroups</code>.</p>
<p>Also notable, is that Alicia is one of a few people who allows for a configurable column width, through the <code>$columnLength</code> variable, which is a thoughtful touch.</p>
<h2 id="andrezgz">Andrezgz</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/andrezgz/perl/ch-1.pl">Andrezgz&rsquo;s solution</a> first converts the input to lowercase, and then filters out any remaining non-lowercase characters (such as numerics, symbols, and spaces):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $msg <span style="color:#f92672">=</span> join <span style="color:#e6db74">&#39;&#39;</span>,
          map {<span style="color:#66d9ef">my</span> $w <span style="color:#f92672">=</span> lc $_; $w <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/[[:^lower:]]//g</span>; $w }
          @ARGV <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;USAGE: $0 &lt;message&gt;&#34;</span>;
</code></pre></div><p>After that, the solution is built up in a <code>%cols</code> hash with modulo arithmetic, with one member for each column:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> %cols;
<span style="color:#75715e"># each letter is appended to the corresponding column</span>
$cols{$_ % 8} <span style="color:#f92672">.=</span> substr $msg, $_, <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> (length $msg) <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> );

<span style="color:#75715e"># coded message is formed by printing each column string in order</span>
<span style="color:#66d9ef">print</span> join <span style="color:#e6db74">&#39; &#39;</span>, map { $cols{$_} } sort keys %cols;
</code></pre></div><p>This is a really clean solution, and I particularly like the decision to filter out characters based on what is <em>allowed,</em> instead of what isn&rsquo;t. When possible, this method typically leads to safer, less error-prone code, as the programmer doesn&rsquo;t have to account for every possible thing a user might throw at them.</p>
<h2 id="arne-sommer">Arne Sommer</h2>
<p>Arne has submitted excellent Raku solutions for <em>all</em> 45 weeks in the challenge so far, which is absolutely fantastic. But this is, I believe, the first week Arne has submitted a Perl solution since all the way back in Week 023. Welcome back!</p>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/arne-sommer/perl/ch-1.pl">Arne Sommer&rsquo;s solution</a> is straightforward:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $string <span style="color:#f92672">=</span> $ARGV[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;The quick brown fox jumps over the lazy dog&#34;</span>;
$string <span style="color:#f92672">=~</span> tr<span style="color:#e6db74">/ /</span><span style="color:#f92672">/</span>d;
<span style="color:#66d9ef">my</span> @a <span style="color:#f92672">=</span> split(<span style="color:#e6db74">//</span>, lc $string);

@a<span style="color:#f92672">.</span>shift;
@a<span style="color:#f92672">.</span>pop;

<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $word (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">7</span>) {
  <span style="color:#66d9ef">my</span> $index <span style="color:#f92672">=</span> $word;
  <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
    defined $a[$index]
      ? <span style="color:#66d9ef">print</span> $a[$index]
      : <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">last</span>;

   $index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">8</span>;
  }
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p>One minor issue, is that the <code>@a.shift;</code> and <code>@a.pop;</code> lines aren&rsquo;t necessary, and in fact, these statements do nothing except some string concatenation in void context (which would have thrown a warning with <code>use warnings</code> enabled). On reading his blog, Arne was getting extra characters somehow, but that appears to no longer be the case, as this solution works perfectly. It&rsquo;s also very easy to understand.</p>
<p>Again, I&rsquo;m very glad to see Arne submitting Perl solutions, and hope to see more in the future! If you haven&rsquo;t already been following his blog, please do so; it&rsquo;s excellent.</p>
<p><strong>Blog</strong> › <a href="https://raku-musings.com/square-dumper.html">Square Dumper with Raku</a></p>
<h2 id="athanasius">Athanasius</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/athanasius/perl/ch-1.pl">Athanasius&rsquo;s solution</a> also has an input loop, and the encoder uses the partitioning method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encode</span> {
    <span style="color:#66d9ef">my</span>  ($plain)  <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span>   @rows;
    push @rows, substr($plain, <span style="color:#ae81ff">0</span>, $COLUMNS, <span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">while</span> $plain;
    <span style="color:#66d9ef">my</span>   $encoded <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;

    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $col (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $COLUMNS <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) {
        $encoded <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#66d9ef">if</span> $encoded;

        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $row (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#rows) {
            <span style="color:#66d9ef">my</span> $text  <span style="color:#f92672">=</span> $rows[$row];
            $encoded <span style="color:#f92672">.=</span> substr($text, $col, <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">if</span> $col <span style="color:#f92672">&lt;</span> length $text;
        }
    }

    <span style="color:#66d9ef">return</span> $encoded;
}
</code></pre></div><p>As you can see, <code>@rows</code> is built up by partitioning <code>$plain</code> into chunks of up to <code>$COLUMN</code> characters. (The fourth argument to <code>substr</code> (<code>''</code>) is the replacement text, so those chunks get removed during the loop). The next two nested loops build up <code>$encoded</code> character by character from the strings in <code>@rows</code>.</p>
<p>Athanasius wrote a decoder as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">decode</span> {
    <span style="color:#66d9ef">my</span> ($encoded) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span>  @rows     <span style="color:#f92672">=</span> split <span style="color:#e6db74">/\s+/</span>, $encoded;
    <span style="color:#66d9ef">my</span>  $decoded  <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;

    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $col (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> length($rows[<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) {
        $decoded <span style="color:#f92672">.=</span> substr($rows[$_], $col, <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#rows;
    }

    <span style="color:#66d9ef">return</span> $decoded;
}
</code></pre></div><p>The decoder is a little simpler as Athanasius was able to take advantage of the encoded format having spaces separating the rows, but the meat of the function is similar: the nested loops are essentially doing the inverse of what <code>encode</code> did, above.</p>
<h2 id="burkhard-nickels">Burkhard Nickels</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-1.pl">Burkhard Nickels&rsquo; solution</a> first <code>split</code>s the plaintext into a character array, <code>@l</code>. Then, Burkhard uses a nested loop that builds up the result (<code>$coded_msg</code>) by calculating the array indicies:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$msg <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s//g</span>;
$msg <span style="color:#f92672">=</span> lc($msg);
<span style="color:#66d9ef">my</span> @l <span style="color:#f92672">=</span> split(<span style="color:#e6db74">&#34;&#34;</span>,$msg);

<span style="color:#66d9ef">my</span> $coded_msg;
<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">my</span> $i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">7</span>; $i<span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">my</span> $j<span style="color:#f92672">=</span>$i; $j<span style="color:#f92672">&lt;=</span>$#l; $j<span style="color:#f92672">+=</span><span style="color:#ae81ff">8</span>) {
        $coded_msg <span style="color:#f92672">.=</span> $l[$j];
    }
    $coded_msg <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#34; &#34;</span>;
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Coded   : $coded_msg\n&#34;</span>;
</code></pre></div><p>The C-style <code>for</code> loops allow Burkhard to manipulate the starting index and increment of the inner loop, so <code>$j</code> will always be the next index to be appended to the result.</p>
<h3 id="python">Python</h3>
<p>Burkhard also submitted a <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/python/ch-1.py">Python solution</a>. Here&rsquo;s the encoder:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">msg <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74">&#39;\s&#39;</span>,<span style="color:#e6db74">&#39;&#39;</span>,msg)
msg <span style="color:#f92672">=</span> msg<span style="color:#f92672">.</span>lower()
l <span style="color:#f92672">=</span> list(msg)

coded_msg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">8</span>):
    j <span style="color:#f92672">=</span> i
    e <span style="color:#f92672">=</span> len(l)
    <span style="color:#66d9ef">while</span> j <span style="color:#f92672">&lt;</span> e:
        coded_msg <span style="color:#f92672">+=</span> l[j]
        j <span style="color:#f92672">+=</span> <span style="color:#ae81ff">8</span>
    coded_msg <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34; &#34;</span>

<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Coded   : &#34;</span>, coded_msg
</code></pre></div><p>The Python code uses the same algorithm as the above Perl solution.</p>
<p><strong>Blog</strong> › <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-1.pod">Square Secret Code</a></p>
<h2 id="cheok-yin-fung">Cheok-Yin Fung</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/cheok-yin-fung/perl/ch-1.pl">Cheok-Yin Fung&rsquo;s solution</a> decomposes the problem into three distinct parts. First, the plaintext is sanitized, and padded to be a multiple of 8 characters:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$msg <span style="color:#f92672">=</span> lc($msg);
$msg <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s//g</span>; <span style="color:#75715e"># &amp;removespace($_);</span>
$msg <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\t//g</span>;

<span style="color:#75715e">#ADD WHITESPACE AT THE END SUCH THAT THE LINE HAS 8n CHARACTERS</span>
<span style="color:#66d9ef">my</span> $copyoflengthofmsg <span style="color:#f92672">=</span> length($msg);
$msg <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#34; &#34;</span> x ($copyoflengthofmsg % 8);
</code></pre></div><p>Second, the plaintext is split into characters, and put into a two-dimensional array. <code>$i</code> and <code>$j</code> are maintained such that <code>@a</code> will have the characters in the same type of grid shown in the challenge description:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $numberofcols <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;

<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $char (split <span style="color:#e6db74">//</span>, $msg) {
    $a[$i][$j] <span style="color:#f92672">=</span> $char;
        $copyoflengthofmsg<span style="color:#f92672">++</span>;
    $j<span style="color:#f92672">++</span>;
    <span style="color:#66d9ef">if</span> ($j<span style="color:#f92672">==</span>$numberofcols) {$j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">++</span>;}
}
</code></pre></div><p>Finally, Cheok-Yin Fung iterates over the <code>@a</code> grid to print out the solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> $j (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$numberofcols) {
    <span style="color:#66d9ef">for</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">7</span>) {
        $b[$p] <span style="color:#f92672">=</span> $a[$i][$j];
        <span style="color:#66d9ef">if</span> ($b[$p] <span style="color:#f92672">ne</span> <span style="color:#e6db74">&#34; &#34;</span>) {<span style="color:#66d9ef">print</span> $b[$p];}
        $p<span style="color:#f92672">++</span>;
    }
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34; &#34;</span>;
}
</code></pre></div><h2 id="colin-crain">Colin Crain</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/colin-crain/perl/ch-1.pl">Colin Crain&rsquo;s solution</a> <code>split</code>s and uses modulo arithmetic:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">## eliminate spaces and nonword chars, lowercase rest in one pass</span>
$input <span style="color:#f92672">=</span> lc( join <span style="color:#e6db74">&#39;&#39;</span>, grep { <span style="color:#e6db74">/\w/</span> } split <span style="color:#e6db74">//</span>, $input );

<span style="color:#75715e">## create the output array data structure</span>
push <span style="color:#66d9ef">my</span> @output, <span style="color:#f92672">[]</span> <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">8</span>);

<span style="color:#75715e">## fill the output arrays</span>
push $output[$_%8]<span style="color:#f92672">-&gt;</span>@<span style="color:#960050;background-color:#1e0010">*</span>, substr $input, ($_), <span style="color:#ae81ff">1</span>  <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>(length $input) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);

<span style="color:#75715e">## display the output arrays</span>
say join <span style="color:#e6db74">&#39; &#39;</span>, map {join <span style="color:#e6db74">&#39;&#39;</span>, $_<span style="color:#f92672">-&gt;</span>@<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">}</span> <span style="color:#960050;background-color:#1e0010">@</span>output;
</code></pre></div><p>This is an example of a good way to use the <a href="https://perldoc.perl.org/perlref.html#Postfix-Dereference-Syntax">post-deref</a> syntax, in my opinion; it actually aids the comprehension in this case. Colin&rsquo;s solution is compact, without being hard to follow.</p>
<h2 id="dave-cross">Dave Cross</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/dave-cross/perl/ch-1.pl">Dave Cross&rsquo; solution</a> outputs the result in the loop body, rather than building up a string first, but the result is the same:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$msg <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s+//g</span>;

<span style="color:#66d9ef">my</span> @lines <span style="color:#f92672">=</span> map { [ split <span style="color:#e6db74">//</span> ] } $msg <span style="color:#f92672">=~</span><span style="color:#e6db74"> /(.{1,8})/g</span>;

<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $x (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#{$lines[<span style="color:#ae81ff">0</span>]}) {
  <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $y (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#lines) {
    <span style="color:#66d9ef">print</span> $lines[$y][$x] <span style="color:#e6db74">//</span> <span style="color:#e6db74">&#39;&#39;</span>;
  }
  <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#39; &#39;</span>;
}

<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p>Dave partitions <code>$msg</code> into 8 character (or less) chunks with a <code>/g</code> regex in list context, so it can be sent straight to <code>map</code>, where it is then split into characters and stored in an array of arrays.</p>
<h2 id="dave-jacoby">Dave Jacoby</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/dave-jacoby/perl/ch-1.pl">Dave Jacoby&rsquo;s solution</a> first filters out any non-lowercase characters, and then starts partitioning <code>$plaintext</code> into chunks of 8 characters or less, using <code>substr</code> and regexp substitution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encypher</span> ( $plaintext ) {
    $plaintext <span style="color:#f92672">=</span> lc $plaintext;
    $plaintext <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/[^a-z]//gmx</span>;
    <span style="color:#66d9ef">my</span> @work;

    <span style="color:#66d9ef">while</span> ( length $plaintext <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">8</span> ) {
        <span style="color:#66d9ef">my</span> $eight <span style="color:#f92672">=</span> substr $plaintext, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">8</span>;
        $plaintext <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\w{8}//mix</span>;
        push @work, $eight;
    }
    push @work, $plaintext;

    <span style="color:#66d9ef">my</span> @cyphertext;

    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> scalar @work <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
        <span style="color:#66d9ef">my</span> $word <span style="color:#f92672">=</span> $work[$i];
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $j ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> length $word ) {
            <span style="color:#66d9ef">my</span> $letter <span style="color:#f92672">=</span> substr $word, $j, <span style="color:#ae81ff">1</span>;
            <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> scalar $letter;
            $cyphertext[$j][$i] <span style="color:#f92672">=</span> $letter;
        }
    }

    <span style="color:#66d9ef">return</span> join <span style="color:#e6db74">&#39; &#39;</span>, map { join <span style="color:#e6db74">&#39;&#39;</span>, $_<span style="color:#f92672">-&gt;</span>@<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">}</span> <span style="color:#960050;background-color:#1e0010">@</span>cyphertext;
}
</code></pre></div><p>After that, <code>@cyphertext</code> is a two-dimensional array (array of arrays, or AoA) built up with a by now familiar-looking nested loop. The <code>return</code> is made by sending each top-level element of <code>@cyphertext</code> through <code>map { join '', $_-&gt;@* }</code> to turn the array into a string, and then those strings are <code>join</code>ed by the leftmost <code>join ' '</code>.</p>
<p><strong>Blog</strong> › <a href="https://jacoby.github.io/2020/01/29/challenge-45-cyphers-and-quines.html">Challenge 45: Cyphers and Quines</a></p>
<h2 id="duane-powell">Duane Powell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/duane-powell/perl/ch-1.pl">Duane Powell&rsquo;s solution</a> is concise and clear:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$code <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/ //g</span>;
<span style="color:#66d9ef">my</span> @code <span style="color:#f92672">=</span> split(<span style="color:#e6db74">//</span>,$code);

<span style="color:#66d9ef">my</span> @out;
<span style="color:#66d9ef">my</span> $m <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
$out[$m<span style="color:#f92672">++</span> % <span style="color:#960050;background-color:#1e0010">$</span>block] <span style="color:#f92672">.=</span> shift(@code) <span style="color:#66d9ef">while</span> (@code);
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$_ &#34;</span> <span style="color:#66d9ef">foreach</span> (@out);
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p>The line doing the heavy lifting, <code>$out[$m++ % $block] .= shift(@code) while (@code)</code> is another good example of how modulo arithmetic really makes light work of this problem.</p>
<h2 id="duncan-c-white">Duncan C. White</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/duncan-c-white/perl/ch-1.pl">Duncan C. White&rsquo;s solution</a> provides both an encoder and decoder, as well as a way to change the number of columns. The encoder uses the modulo arithmetic method, but replaces the <code>split</code> with repeated calls to <code>substr $text, $pos, 1</code> to get one character at a time:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Function::Parameters;

fun encode( $text )
{
    <span style="color:#66d9ef">my</span> @columns;
    $text <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s+//g</span>;        <span style="color:#75715e"># remove all whitespace</span>
    <span style="color:#66d9ef">my</span> $len <span style="color:#f92672">=</span> length($text);
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $pos (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$len<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">my</span> $ch <span style="color:#f92672">=</span> substr($text,$pos,<span style="color:#ae81ff">1</span>);
        $columns[$pos%$ncolumns] <span style="color:#e6db74">//</span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
        $columns[$pos%$ncolumns] <span style="color:#f92672">.=</span> $ch;
    }
    <span style="color:#66d9ef">my</span> $result <span style="color:#f92672">=</span> join( <span style="color:#e6db74">&#39; &#39;</span>, @columns );
    <span style="color:#66d9ef">return</span> $result;
}
</code></pre></div><p>The decoder splits the ciphertext on whitespace to obtain <code>@columns</code>. After that is a nested loop, whose body uses <code>s/(^\w)//</code> to trim (and capture) the first character from one of the <code>@columns</code>, appending it to the result:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">fun decode( $text )
{
    <span style="color:#66d9ef">my</span> @columns <span style="color:#f92672">=</span> split(<span style="color:#e6db74"> /\s+/</span>, $text );
    <span style="color:#66d9ef">my</span> $ncols <span style="color:#f92672">=</span> @columns;
    die <span style="color:#e6db74">&#34;decode: $text has $ncols columns, not $ncolumns\n&#34;</span>
        <span style="color:#66d9ef">unless</span> $ncols <span style="color:#f92672">==</span> $ncolumns;
    <span style="color:#66d9ef">my</span> $npasses <span style="color:#f92672">=</span> length( $columns[<span style="color:#ae81ff">0</span>] );
    <span style="color:#66d9ef">my</span> $result <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $p (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$npasses) {
        <span style="color:#66d9ef">foreach</span> (@columns) {
            <span style="color:#66d9ef">if</span>( $_ ) {
                <span style="color:#e6db74">s/(^\w)//</span>;    <span style="color:#75715e"># remove 1st char from column</span>
                $result <span style="color:#f92672">.=</span> $1;
            }
        }
    }
    <span style="color:#66d9ef">return</span> $result;
}
</code></pre></div><h2 id="e-choroba">E. Choroba</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/e-choroba/perl/ch-1.pl">E. Choroba&rsquo;s solution</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">square_secret_code</span> {
    <span style="color:#66d9ef">my</span> ($message) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> @code <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#34;&#34;</span>) x <span style="color:#ae81ff">8</span>;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $group (lc($message) <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s//g</span>r <span style="color:#f92672">=~</span> <span style="color:#e6db74">m/(.{1,8})/g</span>) {
        $code[$_] <span style="color:#f92672">.=</span> (split <span style="color:#e6db74">//</span>, $group)[$_] <span style="color:#e6db74">//</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">7</span>;
    }
    <span style="color:#66d9ef">return</span> join <span style="color:#e6db74">&#39; &#39;</span>, @code
}
</code></pre></div><p>This solution is another example of using the <code>/g</code> modifier in list context. However, Choroba does one better and first removes spaces with the substitution <code>s/\s//gr</code>. The <code>/r</code> modifier is a personal favourite of mine, as instead of performing the substitution in place as usual, it returns a copy of the (modified) string instead. Without that, Choroba would have needed an extra couple of lines of code.</p>
<p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/01/perl-weekly-challenge-045-square-secret-code-source-dumper.html">Perl Weekly Challenge 045: Square Secret Code &amp; Source Dumper</a></p>
<h2 id="jaldhar-h-vyas">Jaldhar H. Vyas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/jaldhar-h-vyas/perl/ch-1.pl">Jaldhar H. Vyas&rsquo; solution</a> chunks the plaintext into <code>@rows</code> of 8 characters, and then uses a nested loop to append the <code>$i</code>th character from each row to the <code>$i</code>th column. The solution is then just <code>@cols</code>, separated by spaces:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $input <span style="color:#f92672">=</span> lc join <span style="color:#e6db74">q{ }</span>, @ARGV;
$input <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s+//gmx</span>;
<span style="color:#66d9ef">my</span> @rows;
<span style="color:#66d9ef">while</span> (length $input) {
    push @rows, substr $input, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">8</span>, <span style="color:#e6db74">q{}</span>;
}

<span style="color:#66d9ef">my</span> @cols;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $row (@rows) {
    <span style="color:#66d9ef">my</span> @chars <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $row;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">7</span>) {
        <span style="color:#66d9ef">if</span> ($chars[$i]) {
            $cols[$i] <span style="color:#f92672">.=</span> $chars[$i];
        }
    }
}

say join <span style="color:#e6db74">q{ }</span>, @cols;
</code></pre></div><p><strong>Blog</strong> › <a href="https://www.braincells.com/perl/2020/02/perl_weekly_challenge_week_45.html">Perl Weekly Challenge: Week 45</a></p>
<h2 id="javier-luque">Javier Luque</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/javier-luque/perl/ch-1.pl">Javier Luque&rsquo;s solution</a> is another concise one with modulo arithmetic:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$string <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s//g</span>;
<span style="color:#66d9ef">my</span> @chars <span style="color:#f92672">=</span> split(<span style="color:#e6db74">&#39;&#39;</span>, $string);
<span style="color:#66d9ef">my</span> @new_words;

<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>scalar(@chars)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
    $new_words[$i % 8] <span style="color:#f92672">.=</span> $chars[$i];
}

say join <span style="color:#e6db74">&#39; &#39;</span>, @new_words;
</code></pre></div><p><strong>Blog</strong> › <a href="https://perlchallenges.wordpress.com/2020/01/30/perl-weekly-challenge-045/">PERL WEEKLY CHALLENGE – 045 – Perl Weekly Challenge</a></p>
<h2 id="laurent-rosenfeld">Laurent Rosenfeld</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/laurent-rosenfeld/perl/ch-1.pl">Laurent Rosenfeld&rsquo;s solution</a> uses the partition approach, printing the output on the fly:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$msg <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s+//g</span>;
<span style="color:#66d9ef">my</span> @letters <span style="color:#f92672">=</span> map { <span style="color:#e6db74">/.{1,8}/g</span>; } $msg;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">7</span>) {
    <span style="color:#66d9ef">print</span> map { substr  $_, $i, <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> length $_ <span style="color:#f92672">&gt;=</span> $i} @letters;
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34; &#34;</span>;
}
</code></pre></div><p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/laurent_r/2020/02/perl-weekly-challenge-45-square-secret-code-and-source-dumper.html">Perl Weekly Challenge 45: Square Secret Code and Source Dumper</a></p>
<h2 id="maxim-kolodyazhny">Maxim Kolodyazhny</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/maxim-kolodyazhny/perl/ch-1.pl">Maxim Kolodyazhny&rsquo;s solution</a> is a unique one:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$_ <span style="color:#f92672">=</span> lc <span style="color:#f92672">&lt;&gt;</span>;
<span style="color:#e6db74">s/\s//g</span>;

<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i ( <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">7</span> ) {
    <span style="color:#66d9ef">last</span> <span style="color:#66d9ef">if</span> ( pos <span style="color:#f92672">=</span> $i ) <span style="color:#f92672">==</span> length;
    <span style="color:#66d9ef">print</span>
        $i ? <span style="color:#e6db74">&#39; &#39;</span> : <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#e6db74">/(.).{0,7}/g</span>;
}
</code></pre></div><p>Take careful note of Maxim&rsquo;s assignment to <code>pos</code>, as that is the key to the entire solution. <code>pos</code> sets the offset of the regexp match, and the regexp <code>/(.).{0,7}/g</code> captures every 8th character from that offset. The offset is then incremented the next time through, and it repeats, and thus the columns are printed, one character at a time.</p>
<p>Maxim also included an <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/maxim-kolodyazhny/perl/t/ch-1.t">external set of tests</a>.</p>
<h2 id="nazareno-delucca">Nazareno Delucca</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ndelucca/perl/ch-1.pl">Nazareno Delucca&rsquo;s solution</a> uses partitioning, and also allows for a user-specified column width:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $columns <span style="color:#f92672">=</span> shift <span style="color:#f92672">||</span> <span style="color:#ae81ff">8</span>;
$message <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s+//g</span>;
<span style="color:#66d9ef">my</span> @rows <span style="color:#f92672">=</span> unpack <span style="color:#e6db74">&#34;(A$columns)*&#34;</span>, lc $message;

<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $word ( @rows ){
    <span style="color:#66d9ef">my</span> @chars <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, $word;
    push @matrix, <span style="color:#f92672">\</span>@chars;
}

<span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$columns) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $row( @matrix ) {
        $code <span style="color:#f92672">.=</span> shift @$row <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;&#39;</span>;
    }
    $code <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#34; &#34;</span>;
}

<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$code\n&#34;</span>;
</code></pre></div><p>The use of <code>unpack</code> is a good way to partition the string. Nazareno then splits the row strings to character arrays to simplify the following task of repeatedly peeling off the first character of each string.</p>
<h2 id="peter-scott">Peter Scott</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/peter-scott/perl/ch-1.sh">Peter Scott&rsquo;s solution</a> came as the following one-liner:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">perl -E <span style="color:#e6db74">&#39;$_ = lc shift; tr/a-z//cd; @x = split //; $c=7; while (@x){ for ($i = 0; $i &lt;= $#x; $i += $c) { print splice @x, $i, 1} $c--; print &#34; &#34;} say &#34;&#34;&#39;</span> <span style="color:#e6db74">&#34;The quick brown fox jumps over the lazy dog&#34;</span>
</code></pre></div><p>Adding some whitespace back in, we can see it is similar to the <code>split</code>-and-loop method, but is the only solution this week to use <code>splice</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$_ <span style="color:#f92672">=</span> lc shift;
tr<span style="color:#e6db74">/a-z/</span><span style="color:#f92672">/</span>cd;
@x <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>;
$c <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;
<span style="color:#66d9ef">while</span> (@x) {
    <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;=</span> $#x; $i <span style="color:#f92672">+=</span> $c) {
        <span style="color:#66d9ef">print</span> splice @x, $i, <span style="color:#ae81ff">1</span>
    }
    $c<span style="color:#f92672">--</span>;
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34; &#34;</span>
}
</code></pre></div><p><code>splice @x, $i, 1</code> is <code>$x[$i]</code> with the side effect of removing it from <code>@x</code>. Because the element is removed and the others shift positions, Peter compensates by decrementing <code>$c</code> after every column, since the interval between columns decreases by one.</p>
<p>Although <code>splice</code> will be slower, the effect is small (about 15% on a 60-character input string, increasing with length), and I do appreciate the alternative loop conditionals, here, compared to a purely arithmetic-indexed approach.</p>
<h2 id="rage311">Rage311</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/rage311/perl/ch-1.pl">Rage311&rsquo;s solution</a> uses the <code>split</code>/modulo method, and is beautifully concise:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @input <span style="color:#f92672">=</span> split <span style="color:#e6db74">//</span>, <span style="color:#e6db74">&lt;&lt;&gt;</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s+//g</span>r;

<span style="color:#66d9ef">my</span> @words;
$words[$_ % 8] <span style="color:#f92672">.=</span> $input[$_] <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#input;

say join <span style="color:#e6db74">&#39; &#39;</span>, @words;
</code></pre></div><p>This is, I believe, Rage311&rsquo;s first Perl submission. Congrats! I hope to see a lot more like this one.</p>
<p>Rage311 also <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/rage311/rust/ch-1.rs">submitted a solution in Rust</a>, using the same algorithm. Here it is, for all you Rust fans out there:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() -&gt; <span style="color:#a6e22e">io</span>::Result<span style="color:#f92672">&lt;</span>()<span style="color:#f92672">&gt;</span> {
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> buffer <span style="color:#f92672">=</span> String::new();
    io::stdin().read_to_string(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> buffer)<span style="color:#f92672">?</span>;
    buffer <span style="color:#f92672">=</span> buffer.split_whitespace().collect();

    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> final_words: Vec<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> vec<span style="color:#f92672">!</span>[<span style="color:#e6db74">&#34;&#34;</span>.to_string(); <span style="color:#ae81ff">8</span>];

    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span>..buffer.len() {
        final_words[i <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span>].push(buffer.chars().nth(i).unwrap());
    }

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, final_words.join(<span style="color:#e6db74">&#34; &#34;</span>));

    Ok(())
}
</code></pre></div><h2 id="roger-bell-west">Roger Bell West</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/roger-bell-west/perl/ch-1.pl">Roger Bell West&rsquo;s solution</a> uses core module <a href="https://perldoc.perl.org/Getopt/Std.html"><code>Getopt::Std</code></a> to accept an arbitrary column width:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Getopt::Std;
<span style="color:#66d9ef">my</span> %o<span style="color:#f92672">=</span>(n <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">8</span>);
getopts(<span style="color:#e6db74">&#39;n:&#39;</span>,<span style="color:#f92672">\</span>%o);
</code></pre></div><p>Then, after stripping spaces, his encoding looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $l<span style="color:#f92672">=</span>length($in)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">my</span> @out;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $c (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$o{n}<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
    <span style="color:#66d9ef">my</span> $out;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $k<span style="color:#f92672">=</span>$c;$k<span style="color:#f92672">&lt;=</span>$l;$k<span style="color:#f92672">+=</span>$o{n}) {
        $out<span style="color:#f92672">.=</span>substr($in,$k,<span style="color:#ae81ff">1</span>);
    }
    push @out,$out;
}
<span style="color:#66d9ef">print</span> join(<span style="color:#e6db74">&#39; &#39;</span>,@out),<span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p>As you can see, Roger uses a C-style <code>for</code> loop so he can increment by the column width (<code>$o{n}</code>) to pull every <code>$o{n}</code>-th character into his output array. The outer loop shifts the offset (<code>$c</code>) every time through. If speed was the goal, this could be ported to a C XS module with just a few minor changes.</p>
<h2 id="ruben-westerberg">Ruben Westerberg</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ruben-westerberg/perl/ch-1.pl">Ruben Westerberg&rsquo;s solution</a> avoids the need to deal with undefined values for strings that aren&rsquo;t a multiple of 8 characters in length by padding the string with spaces:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$padded <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#34; &#34;</span> x (<span style="color:#ae81ff">8</span><span style="color:#f92672">+</span><span style="color:#ae81ff">8</span><span style="color:#f92672">-</span>length($padded)%8);
</code></pre></div><p>Then, he partitions and splits the string into the <code>@rows</code> array-of-arrays, and iterates over it with a nested loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @rows;
<span style="color:#66d9ef">my</span> $steps<span style="color:#f92672">=</span>length($padded)<span style="color:#f92672">/</span> <span style="color:#ae81ff">8</span>;
push @rows, [split <span style="color:#e6db74">&#34;&#34;</span>, substr $padded, $_<span style="color:#f92672">*</span><span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">8</span>] <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$steps<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">my</span> $out<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $c (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">7</span>) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $r (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$steps<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
        $out<span style="color:#f92672">.=</span> join <span style="color:#e6db74">&#34;&#34;</span>,$rows[$r]<span style="color:#f92672">-&gt;</span>[$c];
    }
}
$out<span style="color:#f92672">=~</span><span style="color:#e6db74">s/ +/ /g</span>;
$out<span style="color:#f92672">=~</span><span style="color:#e6db74">s/ $//</span>;
<span style="color:#66d9ef">print</span> $out;
</code></pre></div><p>His padded string does require a bit of trimming at the end, but after that, all that needs be done is <code>print $out</code>. Nice.</p>
<h2 id="ryan-thompson">Ryan Thompson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ryan-thompson/perl/ch-1.pl">My solution</a> uses the split/modulo method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encode</span> {
    local $_ <span style="color:#f92672">=</span> lc shift;
    <span style="color:#e6db74">s/\s//g</span>;
    <span style="color:#66d9ef">my</span> ($i, @s);

    map { $s[$i<span style="color:#f92672">++</span> % COLUMNS] <span style="color:#f92672">.=</span> $_ } split <span style="color:#e6db74">&#39;&#39;</span>;

    join <span style="color:#e6db74">&#39; &#39;</span>, @s;
}
</code></pre></div><p>The last two lines do most of the work. Had I been going for brevity, I might have combined the <code>lc</code> and substitution regex on the same line as <code>split</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encode</span> {
    <span style="color:#66d9ef">my</span> ($i, @s);
    $s[$i<span style="color:#f92672">++</span> % COLUMNS] <span style="color:#f92672">.=</span> $_ <span style="color:#66d9ef">for</span> split <span style="color:#e6db74">&#39;&#39;</span>, lc shift <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/\s//g</span>r;
    join <span style="color:#e6db74">&#39; &#39;</span>, @s
}
</code></pre></div><p>But I didn&rsquo;t feel that helped the code, so I left it as separate statements. I would be happy with either, though.</p>
<p><strong>Blog</strong> › <a href="http://www.ry.ca/2020/01/square-secret-code/">Square Secret Code</a></p>
<h2 id="saif-ahmed">Saif Ahmed</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/saiftynet/perl/ch-1.pl">Saif Ahmed&rsquo;s solution</a> also supports arbitrary columns, and uses the partition method to chunk the plaintext into <code>@splitChars</code> before the familiar-looking nested loop builds up <code>$result</code> character by character:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">pivotEncode</span>{
   <span style="color:#66d9ef">my</span> $str<span style="color:#f92672">=</span>shift;
   <span style="color:#66d9ef">my</span> $cols<span style="color:#f92672">=</span>shift<span style="color:#e6db74">//</span><span style="color:#ae81ff">8</span>;
   $str<span style="color:#f92672">=~</span><span style="color:#e6db74">s/\s//gm</span>;                             <span style="color:#75715e"># remove spaces</span>
   @splitChars<span style="color:#f92672">=</span>($str<span style="color:#f92672">=~</span><span style="color:#e6db74">/(.{$cols}|.+)/g</span>);       <span style="color:#75715e"># split into blocks</span>
   <span style="color:#66d9ef">my</span> $result;                                 <span style="color:#75715e"># initialise result</span>
   <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $index (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {            <span style="color:#75715e"># now select character</span>
      <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $row ( @splitChars ){         <span style="color:#75715e"># in each block and</span>
                                               <span style="color:#75715e"># append it to result</span>
        $result<span style="color:#f92672">.=</span> substr($row,$index,<span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">if</span> ($index<span style="color:#f92672">&lt;</span>length $row)
      }
      $result<span style="color:#f92672">.=</span><span style="color:#e6db74">&#34; &#34;</span>;                            <span style="color:#75715e">#intersperse spaces</span>
   }
   <span style="color:#66d9ef">return</span> $result;                             <span style="color:#75715e"># return encrypted</span>
}
</code></pre></div><h2 id="ulrich-rieke">Ulrich Rieke</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ulrich-rieke/perl/ch-1.pl">Ulrich Rieke&rsquo;s solution</a> uses the partitioning method. I&rsquo;ll take you through his <code>encode</code> function one step at a time. First, he partitions the string (including any remaining portion less than 8 characters long):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encode</span> {
  <span style="color:#66d9ef">my</span> $str <span style="color:#f92672">=</span> shift ;
  <span style="color:#66d9ef">my</span> @strings ;
  <span style="color:#66d9ef">my</span> $times <span style="color:#f92672">=</span> int ( (length $str) <span style="color:#f92672">/</span> <span style="color:#ae81ff">8</span> ) ;
  <span style="color:#66d9ef">my</span> $pos <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ;
  <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $i <span style="color:#f92672">&lt;</span> $times ; $i<span style="color:#f92672">++</span> ) {
      push @strings, substr( $str, $pos , <span style="color:#ae81ff">8</span> ) ;
      $pos <span style="color:#f92672">+=</span> <span style="color:#ae81ff">8</span> ;
  }
</code></pre></div><p>At this point, <code>@strings</code> contains one string for each row. Next, Ulrich uses a nested loop and <code>substr($word, $i, 1)</code> to build up <code>$encoded</code> character by character:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">  push @strings , substr( $str, $pos ) ;
  <span style="color:#66d9ef">my</span> $encoded ;
  <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">8</span> ; $i<span style="color:#f92672">++</span> ) {
      <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $word ( @strings ) {
    <span style="color:#66d9ef">my</span> $len <span style="color:#f92672">=</span> length $word ;
    <span style="color:#66d9ef">if</span> ( $len <span style="color:#f92672">&gt;</span> $i ) {
        $encoded <span style="color:#f92672">.=</span> substr( $word , $i , <span style="color:#ae81ff">1</span> ) ;
    }
      }
  }
</code></pre></div><p>By now, <code>$encoded</code> might look like <code>Tbjrdhrutoeomhgqwpeunslifoacovzkxey</code>, which is close, but needs spaces between the columns, which is what this next bit does, by splitting and then recombining via <code>join ' ', @encodedStrings</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">  <span style="color:#66d9ef">my</span> $stringslen <span style="color:#f92672">=</span> scalar @strings ;
  <span style="color:#66d9ef">my</span> $len <span style="color:#f92672">=</span> length $encoded ;
  $times <span style="color:#f92672">=</span>  length $strings[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]  ;
  <span style="color:#66d9ef">my</span> @encodedStrings ;
  $pos <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ;
  <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $i <span style="color:#f92672">&lt;</span> $times ; $i<span style="color:#f92672">++</span> ) {
      push @encodedStrings, substr( $encoded , $pos , $stringslen ) ;
      $pos <span style="color:#f92672">+=</span> $stringslen ;
  }
  <span style="color:#66d9ef">my</span> $theRest <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span> $times ;
  <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; $i <span style="color:#f92672">&lt;</span> $theRest ; $i<span style="color:#f92672">++</span> ) {
      push @encodedStrings , substr( $encoded , $pos , $stringslen <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) ;
      $pos <span style="color:#f92672">+=</span> $stringslen <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ;
  }
  <span style="color:#66d9ef">return</span> ( join ( <span style="color:#e6db74">&#39; &#39;</span> , @encodedStrings ) ) ;
}
</code></pre></div><h2 id="wanderdoc">Wanderdoc</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/wanderdoc/perl/ch-1.pl">Wanderdoc&rsquo;s solution</a> uses Leon Timmermans&rsquo; <a href="https://metacpan.org/pod/Const::Fast"><code>Const::Fast</code></a> in place of builtin constants:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Const::Fast; <span style="color:#75715e"># To use the constant in the regex.</span>
const <span style="color:#66d9ef">my</span> $SECRET <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">8</span>;
const <span style="color:#66d9ef">my</span> $REGEX <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">qr/(.{1,${SECRET}})/</span>;
</code></pre></div><p>Wanderdoc then uses the partitioning method to break up the string:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">encoding_message</span> {
     <span style="color:#66d9ef">my</span> $str <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
     $str <span style="color:#f92672">=~</span> tr<span style="color:#e6db74">/ /</span><span style="color:#f92672">/</span>ds;
     $str <span style="color:#f92672">=</span> lc $str;

     <span style="color:#66d9ef">my</span> @rows <span style="color:#f92672">=</span> map [split(<span style="color:#e6db74">//</span>,$_)], ($str <span style="color:#f92672">=~</span><span style="color:#e6db74"> /$REGEX/g</span>);
     <span style="color:#66d9ef">my</span> @coded <span style="color:#f92672">=</span> map {
          <span style="color:#66d9ef">my</span> $idx <span style="color:#f92672">=</span> $_;
          <span style="color:#66d9ef">my</span> @slice <span style="color:#f92672">=</span> map $_<span style="color:#f92672">-&gt;</span>[$idx] <span style="color:#e6db74">//</span> <span style="color:#e6db74">&#39;&#39;</span>, @rows; [@slice];
     } <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $SECRET <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;

     <span style="color:#66d9ef">my</span> $enc <span style="color:#f92672">=</span> join(<span style="color:#e6db74">&#39; &#39;</span>, map join(<span style="color:#e6db74">&#39;&#39;</span>,@$_), @coded);

     <span style="color:#66d9ef">return</span> $enc;
}
</code></pre></div><p>Notice that Wanderdoc uses a variation on the nested loop to create an array-of-arrays in <code>@coded</code>, that is then joined together for the solution.</p>
<p>Wanderdoc also provides a decoder, which looks very similar to the above portion of the encoder, but in reverse:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">decoding_message</span> {
     <span style="color:#66d9ef">my</span> $str <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
     <span style="color:#66d9ef">my</span> @words <span style="color:#f92672">=</span> map [split(<span style="color:#e6db74">//</span>,$_)], split(<span style="color:#e6db74">&#39; &#39;</span>, $str);
     <span style="color:#66d9ef">my</span> @txt <span style="color:#f92672">=</span> map {
          <span style="color:#66d9ef">my</span> $idx <span style="color:#f92672">=</span> $_;
          <span style="color:#66d9ef">my</span> @slice <span style="color:#f92672">=</span> map $_<span style="color:#f92672">-&gt;</span>[$idx] <span style="color:#e6db74">//</span> <span style="color:#e6db74">&#39;&#39;</span>, @words; [@slice];
     } <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> $#words;

     <span style="color:#66d9ef">my</span> $dec <span style="color:#f92672">=</span> join(<span style="color:#e6db74">&#39;&#39;</span>, map join(<span style="color:#e6db74">&#39;&#39;</span>,@$_), @txt);
}
</code></pre></div><hr>
<hr>
<h1 id="task2">Task #2 - Source Dumper</h1>
<p>Write a script that dumps its own source code. For example, say, the script name is <code>ch-2.pl</code>. The following command should return nothing:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ perl ch-2.pl | diff - ch-2.pl
</code></pre></div><hr>
<p>There are two ways to interpret this problem, resulting in very different solutions. A straight reading of the challenge, with no additional constraints, means our script can simply read its own source file and print it. For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open <span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;&#39;</span>, __FILE__; <span style="color:#75715e"># or $0</span>
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;$fh&gt;</span>;
</code></pre></div><p>Most people did something similar to this, and these solutions certainly pass the challenge! However, a few of us noticed that this challenge sounded an awful lot like a <a href="https://en.wikipedia.org/wiki/Quine_(computing)">quine</a>, so we took it a step further for (in my case) the fun of it. Quines are computer programs that not only produce a copy of their own source code, but they also have the additional constraint of <em>taking no input,</em> meaning, reading your own source code is not allowed.</p>
<h2 id="adam-russell-1">Adam Russell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/adam-russell/perl/ch-2.pl">Adam Russell&rsquo;s solution</a> is a proper quine, because it does not use any input (the last blank line is required):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">print</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#39;&#39;</span>x2,<span style="color:#e6db74">&#34;\n&#34;</span>
<span style="color:#66d9ef">print</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#39;&#39;</span>x2,<span style="color:#e6db74">&#34;\n&#34;</span>

</code></pre></div><p>I&rsquo;ve previously seen this quine <a href="http://www.nyx.net/~gthompso/self_perl.txt">attributed to Robin Houston</a> some years ago, and it&rsquo;s long been one of my favourites, due to the clever use of heredocs.</p>
<p><strong>Blog</strong> › <a href="https://adamcrussell.livejournal.com/15213.html">Perl Fun</a></p>
<h2 id="alicia-bielsa-1">Alicia Bielsa</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/alicia-bielsa/perl/ch-2.pl">Alicia Bielsa&rsquo;s solution</a> uses <code>$0</code> to obtain the filename.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open (<span style="color:#66d9ef">my</span> $fh_file , <span style="color:#e6db74">&#39;&lt;&#39;</span>, $0 ) <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;Error reading file&#34;</span>;
<span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> $line <span style="color:#f92672">=</span> <span style="color:#e6db74">&lt;$fh_file&gt;</span>) {
     <span style="color:#66d9ef">print</span> $line;
}
close ($fh_file);
</code></pre></div><p>Using the three-argument <code>open</code> is <a href="http://modernperlbooks.com/mt/2010/04/three-arg-open-migrating-to-modern-perl.html">always a good practice</a>, so I&rsquo;m glad to see Alicia use it here. It would, after all, be a terrible quine if your script was named <code>rm -rf . |</code> and used the two-argument <code>open</code> (please don&rsquo;t try this.)</p>
<h2 id="andrezgz-1">Andrezgz</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/andrezgz/perl/ch-2.pl">Andrezgz&rsquo;s solution</a> is another proper quine. The whole thing is nearly 100 lines long, but it&rsquo;s worth seeing, so I&rsquo;ll trim it down a bit (mostly removing comments) and show what&rsquo;s left, here. This should still be a quine, after my trimming:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> v5<span style="color:#ae81ff">.10</span>;

<span style="color:#66d9ef">my</span> @s <span style="color:#f92672">=</span> (
<span style="color:#e6db74">q&amp;&amp;</span>,
<span style="color:#e6db74">q&amp;say &lt;&lt;&#39;EOT&#39;;&amp;</span>,
<span style="color:#e6db74">q&amp;use v5.10;&amp;</span>,
<span style="color:#e6db74">q&amp;EOT&amp;</span>,
<span style="color:#e6db74">q&amp;&amp;</span>,
<span style="color:#e6db74">q&amp;say &#39;my @s = (&#39;;&amp;</span>,
<span style="color:#e6db74">q&amp;foreach my $line (@s) {&amp;</span>,
<span style="color:#e6db74">q&amp;    say &#39;q&#39;.chr(38).$line.chr(38).&#39;,&#39;&amp;</span>,
<span style="color:#e6db74">q&amp;}&amp;</span>,
<span style="color:#e6db74">q&amp;say &#39;);&#39;;&amp;</span>,
<span style="color:#e6db74">q&amp;&amp;</span>,
<span style="color:#e6db74">q&amp;foreach my $line (@s) {&amp;</span>,
<span style="color:#e6db74">q&amp;    say $line&amp;</span>,
<span style="color:#e6db74">q&amp;}&amp;</span>,
<span style="color:#e6db74">q&amp;&amp;</span>,
<span style="color:#e6db74">q&amp;say &lt;&lt;&#39;EOT&#39;;&amp;</span>,
<span style="color:#e6db74">q&amp;__END__&amp;</span>,
<span style="color:#e6db74">q&amp;&amp;</span>,
<span style="color:#e6db74">q&amp;./ch-2.pl | diff - ch-2.pl&amp;</span>,
<span style="color:#e6db74">q&amp;EOT&amp;</span>,
<span style="color:#e6db74">q&amp;&amp;</span>,
);

say <span style="color:#e6db74">&lt;&lt;&#39;</span><span style="color:#e6db74">EOT</span><span style="color:#e6db74">&#39;;
</span><span style="color:#e6db74">use v5.10;
</span><span style="color:#e6db74"></span><span style="color:#e6db74">EOT</span>

say <span style="color:#e6db74">&#39;my @s = (&#39;</span>;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $line (@s) {
    say <span style="color:#e6db74">&#39;q&#39;</span><span style="color:#f92672">.</span>chr(<span style="color:#ae81ff">38</span>)<span style="color:#f92672">.</span>$line<span style="color:#f92672">.</span>chr(<span style="color:#ae81ff">38</span>)<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;,&#39;</span>
}
say <span style="color:#e6db74">&#39;);&#39;</span>;

<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $line (@s) {
    say $line
}

say <span style="color:#e6db74">&lt;&lt;&#39;</span><span style="color:#e6db74">EOT</span><span style="color:#e6db74">&#39;;
</span><span style="color:#e6db74">__END__
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">./ch-2.pl | diff - ch-2.pl
</span><span style="color:#e6db74"></span><span style="color:#e6db74">EOT</span>

<span style="color:#75715e">__END__
</span><span style="color:#75715e">
</span><span style="color:#75715e">./ch-2.pl | diff - ch-2.pl
</span><span style="color:#75715e">
</span></code></pre></div><p>The solution works by using various quoting operators to embed a copy of the source code within the code itself, which is a common yet powerful way to generate a quine.</p>
<h2 id="arne-sommer-1">Arne Sommer</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/arne-sommer/perl/ch-2.pl">Arne Sommer&rsquo;s solution</a> uses <code>$0</code> to get the script filename, and outputs it line by line:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $file <span style="color:#f92672">=</span> $0;

<span style="color:#66d9ef">if</span> (open(<span style="color:#66d9ef">my</span> $fh, $file)) {
    <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> $row <span style="color:#f92672">=</span> <span style="color:#e6db74">&lt;$fh&gt;</span>) {
        <span style="color:#66d9ef">print</span> $row;
    }
    close $fh;
}
</code></pre></div><p>Arne also submitted <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/arne-sommer/perl/ch-2a.pl">another solution</a>, even more elegant than the first, which uses <a href="https://metacpan.org/pod/File::Slurper"><code>File::Slurper</code></a> to read <code>$0</code> instead:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> File::Slurper <span style="color:#e6db74">&#39;read_text&#39;</span>;
<span style="color:#66d9ef">print</span> read_text($0);
</code></pre></div><p>By the way, if you haven&rsquo;t already switched over to <code>File::Slurper</code> from <code>File::Slurp</code>, I encourage you to do so, as <code>::Slurper</code> fixes a lot of the problems in <code>::Slurp</code>, especially around the API and handling of encoding.</p>
<p><strong>Blog</strong> › <a href="https://raku-musings.com/square-dumper.html">Square Dumper with Raku</a></p>
<h2 id="burkhard-nickels-1">Burkhard Nickels</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-2.pl">Burkhard Nickels&rsquo; solution</a> is a source code printer that has gone through some serious research and development! It not only prints its own source code, but it can print the source code of any file. And that&rsquo;s not all: it can also highlight its own syntax with <a href="https://metacpan.org/pod/Text::VimColor"><code>Text::VimColor</code></a>, and even render HTML output if desired. It comes with full internal and <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-2.pod">external</a> documentation, too.</p>
<p>I won&rsquo;t quote the full source here, but I will share a few key parts. Here is the source code reader and argument processor:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">if</span>($ARGV[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">and</span> $ARGV[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;help&#34;</span>) {
    <span style="color:#f92672">...</span> <span style="color:#75715e"># Full help text is here</span>
}
<span style="color:#66d9ef">elsif</span>($ARGV[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">and</span> $ARGV[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;high&#34;</span>) {
    syntax_high($0,$ARGV[<span style="color:#ae81ff">1</span>]);
}
<span style="color:#66d9ef">elsif</span>($ARGV[<span style="color:#ae81ff">0</span>]) {
    syntax_high(@ARGV);
}
<span style="color:#66d9ef">else</span> {
    open(IN,$0) <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;Cant open $0\n&#34;</span>;
    <span style="color:#66d9ef">while</span>(<span style="color:#e6db74">&lt;IN&gt;</span>) { <span style="color:#66d9ef">print</span>; }
    close IN;
}
</code></pre></div><p>As you can see, in all cases, the source code is read from <code>$0</code>, as we&rsquo;ve seen with other solutions.</p>
<p>The syntax highlighting component (in the sub <code>syntax_high()</code>) shows just how easy it is to get Vim syntax highlighting in HTML using <code>Text::VimColor</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    <span style="color:#66d9ef">my</span> $syntax <span style="color:#f92672">=</span> Text::VimColor<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(
        file <span style="color:#f92672">=&gt;</span> $file,
        filetype <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;perl&#39;</span>,
        html_full_page <span style="color:#f92672">=&gt;</span> $full,
    );
    <span style="color:#66d9ef">my</span> $html <span style="color:#f92672">=</span> $syntax<span style="color:#f92672">-&gt;</span>html;
</code></pre></div><p>(Getting ANSI output instead would simply look like <code>my $ansi = $syntax-&gt;ansi</code>, according to the documentation.)</p>
<p>Burkhard also does a partial HTML parse with <code>split</code> to insert his own line numbering, because the <code>Text::VimColor</code> line numbering wasn&rsquo;t working for him.</p>
<p>I always like to see solutions like this, that go far above and beyond the challenge, as there is almost guaranteed to be something interesting or unexpected.</p>
<h3 id="python-1">Python</h3>
<p>Burkhard submitted a <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/python/ch-2.py">Python solution</a> for challenge #2 as well, which uses <code>__file__</code> to get the script&rsquo;s filename and then reads from that:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fh <span style="color:#f92672">=</span> open(__file__);
<span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> fh:
    <span style="color:#66d9ef">print</span>(line),

fh<span style="color:#f92672">.</span>close
</code></pre></div><p><strong>Blog</strong> › <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-2.pod">Source Dumper</a></p>
<h2 id="colin-crain-1">Colin Crain</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/colin-crain/perl/ch-2.pl">Colin Crain&rsquo;s solution</a> reads the source code from <code>$0</code>, and prints it out, along with an observation about sections we&rsquo;d not normally think of as code, such as the <code>__DATA__</code> section:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">local $/ <span style="color:#f92672">=</span> undef;
open (<span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#34;&lt;&#34;</span>, $0) <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;can&#39;t open this script thats running this code to read: $0 : $!&#34;</span>;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;$fh&gt;</span>;

__DATA__

even prints the data section, see?
</code></pre></div><h2 id="cristina-heredia">Cristina Heredia</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/cristian-heredia/perl/ch-2.pl">Cristina Heredia&rsquo;s solution</a> uses a call to <code>system</code> to run <a href="https://linux.die.net/man/1/cat">cat(1)</a> to print the contents:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#Name of the script</span>
<span style="color:#66d9ef">my</span> $program <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ch-2.pl&#39;</span>;
<span style="color:#75715e">#Execute an unix command</span>
system(<span style="color:#e6db74">&#34;cat $program&#34;</span>);
</code></pre></div><p>Cristina opted to hard-code the name in <code>$program</code>. While this of course means the script can&rsquo;t be renamed or run from a different directory, it does mean that the single-string call to <code>system</code> is safe from spaces and metacharacters in the filename, since <code>$program</code> is trusted.</p>
<p>The POSIX-only solution is fine by me. My only suggestion would be to switch to the <code>system PROGRAM LIST</code> form. The single-argument form (above) won&rsquo;t work (and in fact could be vulnerable to abuse) if the script or given pathname contain spaces or shell metacharacters. This is better:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">system cat <span style="color:#f92672">=&gt;</span> $0
</code></pre></div><p>You could even use <code>exec</code> here, as there is no need to ever regain control after <code>cat</code> is finished:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">exec cat <span style="color:#f92672">=&gt;</span> $0
</code></pre></div><h2 id="dave-cross-1">Dave Cross</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/dave-cross/perl/ch-2.pl">Dave Cross&rsquo; solution</a> exploits the fact that the <code>DATA</code> filehandle is already opened and pointed at the start of the <code>__DATA__</code> block in the script (if the script has one), but you are still free to access the contents of the entire script, if you set the filehandle&rsquo;s position with <code>seek</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">seek DATA, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">print</span> <span style="color:#66d9ef">while</span> <span style="color:#e6db74">&lt;DATA&gt;</span>;
<span style="color:#75715e">__END__
</span></code></pre></div><h2 id="dave-jacoby-1">Dave Jacoby</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/dave-jacoby/perl/ch-2.pl">Dave Jacoby&rsquo;s solution</a> uses <a href="https://perldoc.perl.org/Cwd.html"><code>Cwd</code></a>&lsquo;s <code>abs_path</code> function to get the absolute path of the script first:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Cwd <span style="color:#e6db74">qw{abs_path}</span>;

<span style="color:#66d9ef">my</span> $file <span style="color:#f92672">=</span> abs_path($0);
<span style="color:#66d9ef">if</span> ( <span style="color:#f92672">-</span>f $file <span style="color:#f92672">&amp;&amp;</span> open <span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;&#39;</span>, $file ) {
    <span style="color:#66d9ef">print</span> join <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#e6db74">&lt;$fh&gt;</span>;
}
</code></pre></div><p>From there, Dave does some error checking and uses the three-argument <code>open</code>, which is always a good idea. He prints the contents of the file with <code>join '', &lt;$fh&gt;</code>, which slurps the entire contents into a list which is then fed to <code>join</code>.</p>
<p><strong>Blog</strong> › <a href="https://jacoby.github.io/2020/01/29/challenge-45-cyphers-and-quines.html">Challenge 45: Cyphers and Quines</a></p>
<h2 id="duane-powell-1">Duane Powell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/duane-powell/perl/ch-2.pl">Duane Powell&rsquo;s solution</a> also makes a <code>system</code> call to <a href="https://linux.die.net/man/1/cat">cat(1)</a> to print the contents:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">system(<span style="color:#e6db74">&#34;cat $0&#34;</span>);
</code></pre></div><p>The same comments I made to Cristina&rsquo;s use of the single-argument <code>system</code> apply here; <code>system cat =&gt; $0</code> is preferable.</p>
<h2 id="duncan-c-white-1">Duncan C. White</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/duncan-c-white/perl/ch-2.pl">Duncan C. White&rsquo;s solution</a> uses <code>$0</code> to obtain the script&rsquo;s filename, and loops through the lines:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open( <span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;&#39;</span>, $0 ) <span style="color:#f92672">||</span> die <span style="color:#e6db74">&#34;can&#39;t read $0\n&#34;</span>;
<span style="color:#66d9ef">while</span>( <span style="color:#e6db74">&lt;$fh&gt;</span> )
{
    chomp;
    say;
}
</code></pre></div><h2 id="e-choroba-1">E. Choroba</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/e-choroba/perl/ch-2.pl">E. Choroba&rsquo;s solution</a> is another Perl hacker who submitted a full quine:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$_<span style="color:#f92672">=</span><span style="color:#e6db74">q!print&#39;$_=q*&#39;.$_.&#39;*;&#39;;s/\52/\41/g;print!</span>;<span style="color:#66d9ef">print</span><span style="color:#e6db74">&#39;$_=q!&#39;</span><span style="color:#f92672">.</span>$_<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;!;&#39;</span>;<span style="color:#e6db74">s/\52/\41/g</span>;<span style="color:#66d9ef">print</span>
</code></pre></div><p>This one again uses the trick of quoting operators to embed a copy of the source, and munging those quoting characters so they are escaped or output as needed. You might think <code>tr/*/!/</code> would work, but it would transmute its own arguments in the quoted code, which is why the character codes in <code>s/\52/\42/g</code> are necessary.</p>
<p>According to Choroba&rsquo;s blog, this is a quine he came up with, entirely of his own invention, when he started programming Perl, and has tweaked it over the years into the version you see now.</p>
<p>Covering all the bases, he submitted a file reading version as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">seek <span style="color:#f92672">*</span>DATA, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;DATA&gt;</span>
__DATA__
</code></pre></div><p>This one uses the <code>DATA</code> filehandle in a similar way as we saw with Dave Cross&rsquo; solution, above.</p>
<p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/01/perl-weekly-challenge-045-square-secret-code-source-dumper.html">Perl Weekly Challenge 045: Square Secret Code &amp; Source Dumper</a></p>
<h2 id="jaldhar-h-vyas-1">Jaldhar H. Vyas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/jaldhar-h-vyas/perl/ch-2.pl">Jaldhar H. Vyas&rsquo; solution</a> reads its own source file in slurpy fashion, and uses <a href="https://perldoc.perl.org/English.html"><code>English</code></a> to aid comprehension:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> English <span style="color:#e6db74">qw/ -no_match_vars /</span>;

open <span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;&#39;</span>, $PROGRAM_NAME <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;$OS_ERROR\n&#34;</span>;
local $RS <span style="color:#f92672">=</span> undef;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;$fh&gt;</span>;
</code></pre></div><p><code>English</code>, a core module, adds plain English aliases for most of Perl&rsquo;s punctuation variables, and manages to use three of them in just two lines of code:</p>
<ul>
<li>› <code>$PROGRAM_NAME</code> is <code>$0</code>, the script&rsquo;s filename</li>
<li>› <code>$OS_ERROR</code> is <code>$!</code>, <a href="http://man7.org/linux/man-pages/man3/errno.3.html">errno</a> error value (or description)</li>
<li>› <code>$RS</code> is <code>$/</code>, the input record separator, usually newline</li>
</ul>
<p><strong>Blog</strong> › <a href="https://www.braincells.com/perl/2020/02/perl_weekly_challenge_week_45.html">Perl Weekly Challenge - Week 45</a></p>
<h2 id="javier-luque-1">Javier Luque</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/javier-luque/perl/ch-2.pl">Javier Luque&rsquo;s solution</a> reads the file in <code>$0</code>, with UTF-8 encoding for good measure:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open(<span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;:encoding(UTF-8)&#39;</span>, $0) <span style="color:#f92672">||</span> die <span style="color:#e6db74">&#34;$@&#34;</span>;
<span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">my</span> $line <span style="color:#f92672">=</span> <span style="color:#e6db74">&lt;$fh&gt;</span>) {
    <span style="color:#66d9ef">print</span> $line;
};
</code></pre></div><p><strong>Blog</strong> › <a href="https://perlchallenges.wordpress.com/2020/01/30/perl-weekly-challenge-045/">PERL WEEKLY CHALLENGE – 045 – Perl Weekly Challenge</a></p>
<h2 id="laurent-rosenfeld-1">Laurent Rosenfeld</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/laurent-rosenfeld/perl/ch-2.pl">Laurent Rosenfeld&rsquo;s solution</a> is another example of reading one&rsquo;s own source file via <code>$0</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $progr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;./$0&#34;</span>;
open <span style="color:#66d9ef">my</span> $IN, <span style="color:#e6db74">&#34;&lt;&#34;</span>, $progr <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;Unable to open $progr $!&#34;</span>;
<span style="color:#66d9ef">print</span> <span style="color:#66d9ef">while</span> <span style="color:#e6db74">&lt;$IN&gt;</span>;
close $IN;
</code></pre></div><p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/laurent_r/2020/02/perl-weekly-challenge-45-square-secret-code-and-source-dumper.html">Perl Weekly Challenge 45: Square Secret Code and Source Dumper</a></p>
<h2 id="maxim-kolodyazhny-1">Maxim Kolodyazhny</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/maxim-kolodyazhny/perl/ch-2.pl">Maxim Kolodyazhny&rsquo;s solution</a> reads its own source file. You know those two-argument <code>open</code> calls I&rsquo;ve been talking about? How about a one-argument <code>open</code>!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> strict;
<span style="color:#66d9ef">use</span> warnings;

open <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;0&gt;</span>;
</code></pre></div><p>This might require a bit of explanation if you&rsquo;ve never encountered a one-argument <code>open</code>. First, it&rsquo;s important to know that there is no special magic with &ldquo;0&rdquo; going on, here. Normally <code>open</code> requires at least two arguments. The two-argument <code>open</code> expects a filehandle, and an expression containing the filename.</p>
<p>When <code>open</code> is given just <em>one</em> argument, though, Perl takes the filename from the package scalar with the same name as the filehandle. In this case that scalar is <code>$0</code>, which is of course the script filename. After that, the <code>print &lt;0&gt;</code> part is just a normal read from the filehandle glob named &ldquo;0&rdquo; created with <code>open</code>.</p>
<p>Don&rsquo;t believe this works as I&rsquo;ve described it? Try it with a different name:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$PROG <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;$0&#34;</span>;
open PROG <span style="color:#f92672">and</span> <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;PROG&gt;</span>
</code></pre></div><p>Then make the first line a lexical: <code>my $PROG = &quot;$0&quot;</code> and now it doesn&rsquo;t work. In fact, that&rsquo;s part of the reason we avoid bareword scalars these days; they <em>only</em> work with package globals, so it&rsquo;s not possible to give them lexical scope.</p>
<h2 id="nazareno-delucca-1">Nazareno Delucca</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ndelucca/perl/ch-2.pl">Nazareno Delucca&rsquo;s solution</a> uses the <code>__FILE__</code> function introduced in Perl 5.16 to get the filename:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open(<span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#34;&lt;&#34;</span>, __FILE__) <span style="color:#f92672">||</span> die <span style="color:#e6db74">&#34;Couldn&#39;t open $0 for reading because: $! &#34;</span>;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;$fh&gt;</span>;
close($fh);
</code></pre></div><h2 id="rage311-1">Rage311</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/rage311/perl/ch-2.pl">Rage311&rsquo;s solution</a> reads the file in <code>$0</code>, complete with error handling and the three-argument <code>open</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">die <span style="color:#e6db74">&#34;Unable to open file: $!&#34;</span> <span style="color:#66d9ef">unless</span>
  open <span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;&#39;</span>, $0;
<span style="color:#66d9ef">print</span> <span style="color:#66d9ef">while</span> <span style="color:#e6db74">&lt;$fh&gt;</span>;
</code></pre></div><h2 id="roger-bell-west-1">Roger Bell West</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/roger-bell-west/perl/ch-2.pl">Roger Bell West&rsquo;s solution</a> eschews all modern Perl contrivances for the following concise solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open F,$0;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&lt;F&gt;</span>;
</code></pre></div><h2 id="ruben-westerberg-1">Ruben Westerberg</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ruben-westerberg/perl/ch-2.pl">Ruben Westerberg&rsquo;s solution</a> shows that those modern features can look pretty, too:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open <span style="color:#66d9ef">my</span> $f,<span style="color:#e6db74">&#34;&lt;&#34;</span>,$0;
<span style="color:#66d9ef">print</span> $_ <span style="color:#66d9ef">for</span> ( <span style="color:#e6db74">&lt;$f&gt;</span> );
</code></pre></div><h2 id="ryan-thompson-1">Ryan Thompson</h2>
<p>I submitted three solutions this week, to showcase three different and progressively more difficult ways this challenge could be solved.</p>
<p>First up—and I can&rsquo;t believe <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ryan-thompson/perl/ch-2a.pl">I actually committed this</a>—an <strong>empty file</strong> works as a valid script. This arguably meets the letter of the challenge, but probably not the spirit. All serious definitions of quines regard this as cheating, too.</p>
<p>So the next best thing is <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ryan-thompson/perl/ch-2.pl">my own version</a> of the source file reader:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open <span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;&#39;</span>, __FILE__;
<span style="color:#66d9ef">print</span> <span style="color:#66d9ef">do</span> { undef $/; <span style="color:#e6db74">&lt;$fh&gt;</span> };
</code></pre></div><p>I opted to slurp <code>&lt;$fh&gt;</code> into a string, although I really didn&rsquo;t need to.</p>
<p>But my third solution, finally, is a real quine. The source code is not really human readable, but you can <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ryan-thompson/perl/ch-2b.pl">see it here</a>. It was, as it turns out, human <em>writeable,</em> although I wouldn&rsquo;t recommend replicating my methods.</p>
<p>Its output, when fed to a terminal, is displayed just a bit differently:</p>
<p><img src="http://www.ry.ca/wp-content/uploads/2020/02/image.png" alt="I <3 Perl"></p>
<p>When fed to <code>diff</code>, <code>diff</code> will happily compare the output—including all of the ANSI escape codes—and report no differences.</p>
<p>For a more human-readable introduction to what I did, I started with the following quine:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$_<span style="color:#f92672">=</span><span style="color:#e6db74">q&lt;&#34;ANSI ART HERE&#34;;print&#34;\$_=q&lt;$_&gt;;eval\n&#34;&gt;</span>;eval
</code></pre></div><p>As discussed in my blog, I do not claim to have invented this quine, as it&rsquo;s pretty difficult to come up with a completely novel quine after all these years. Similar versions are rather ubiquitious in Perl quine discussions, due to how powerful the quoting operators are in Perl.</p>
<p>I then got to work with my amazing ANSI art skills, at the position shown. Maybe I could get rich selling signed prints.</p>
<p><strong>Blog</strong> › <a href="http://www.ry.ca/2020/02/quine/">Quine</a></p>
<h2 id="saif-ahmed-1">Saif Ahmed</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/saiftynet/perl/ch-2.pl">Saif Ahmed&rsquo;s solution</a> is another file read solution, with UTF-8 encoding:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open (<span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#39;&lt;:encoding(UTF-8)&#39;</span>, $0 ) ;
<span style="color:#66d9ef">print</span> <span style="color:#66d9ef">while</span>(<span style="color:#e6db74">&lt;$fh&gt;</span>);
</code></pre></div><h2 id="ulrich-rieke-1">Ulrich Rieke</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/ulrich-rieke/perl/ch-2.pl">Ulrich Rieke&rsquo;s solution</a> reads the file via a filehandle glob:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open (FH , <span style="color:#e6db74">&#34;&lt; $0&#34;</span> ) <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;Can&#39;t open file $0!\n&#34;</span> ;
<span style="color:#66d9ef">while</span> ( <span style="color:#e6db74">&lt;FH&gt;</span> ) {
  <span style="color:#66d9ef">print</span> ;
}
close (FH) ;
</code></pre></div><h2 id="wanderdoc-1">Wanderdoc</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/wanderdoc/perl/ch-2.pl">Wanderdoc&rsquo;s solution</a> reads <code>$0</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">open <span style="color:#66d9ef">my</span> $in, <span style="color:#e6db74">&#34;&lt;&#34;</span>, $0 <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;$!&#34;</span>;
<span style="color:#66d9ef">for</span> ( <span style="color:#e6db74">&lt;$in&gt;</span> ) {<span style="color:#66d9ef">print</span> $_;}
</code></pre></div><hr>
<p>And that&rsquo;s it! Although a lot of these solutions were quite similar, it&rsquo;s amazing how much variation in style one can achieve in just two or three lines.</p>
<hr>
<hr>
<h2 id="blogs">SEE ALSO</h2>
<h3 id="blogs-this-week">Blogs this week:</h3>
<p>Great to see more people blogging again this week! I always enjoy reading them.</p>
<p><strong>Adam Russell</strong> › <a href="https://adamcrussell.livejournal.com/15213.html">Perl Fun</a></p>
<p><strong>Arne Sommer</strong> › <a href="https://raku-musings.com/square-dumper.html">Square Dumper with Raku</a></p>
<p><strong>Burkhard Nickels</strong> › <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-1.pod">Square Secret Code</a> | <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-045/burkhard-nickels/perl/ch-2.pod">Source Dumper</a></p>
<p><strong>Dave Jacoby</strong> › <a href="https://jacoby.github.io/2020/01/29/challenge-45-cyphers-and-quines.html">Challenge 45: Cyphers and Quines</a></p>
<p><strong>E. Choroba</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/01/perl-weekly-challenge-045-square-secret-code-source-dumper.html">Square Secret Code &amp; Source Dumper</a></p>
<p><strong>Jaldhar H. Vyas</strong> › <a href="https://www.braincells.com/perl/2020/02/perl_weekly_challenge_week_45.html">Perl Weekly Challenge Week 45</a></p>
<p><strong>Javier Luque</strong> › <a href="https://perlchallenges.wordpress.com/2020/01/30/perl-weekly-challenge-045/">045 – Perl Weekly Challenge</a></p>
<p><strong>Laurent Rosenfeld</strong> › <a href="http://blogs.perl.org/users/laurent_r/2020/02/perl-weekly-challenge-45-square-secret-code-and-source-dumper.html">Square Secret Code and Source Dumper</a></p>
<p><strong>Luca Ferrari</strong> › <a href="https://fluca1978.github.io/2020/01/29/PerlWeeklyChallenge45.html">Encoded messages and self-source-code-printing</a></p>
<p><strong>Ryan Thompson</strong> › <a href="http://www.ry.ca/2020/01/square-secret-code/">Square Secret Code</a> | <a href="http://www.ry.ca/2020/02/quine/">Quine</a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="mailto:mohammad.anwar@yahoo.com" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2025
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

