<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 6, 2019">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <link rel="me" href="https://fosstodon.org/@manwar">

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 6, 2019</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 6, 2019</h2>
                    <div class="portfolio-meta">
                        <span>Friday, Dec 6, 2019</span>|
                        <span> Tags:
                            Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/2019-12-06.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h2 id="advent-calendar-2019blogadvent-calendar-2019"><a href="/blog/advent-calendar-2019"><strong>Advent Calendar 2019</strong></a></h2>
<h3 id="-day-5blogadvent-calendar-2019-12-05--day-6--day-7blogadvent-calendar-2019-12-07-">| <a href="/blog/advent-calendar-2019-12-05"><strong>Day 5</strong></a> | <strong>Day 6</strong> | <a href="/blog/advent-calendar-2019-12-07"><strong>Day 7</strong></a> |</h3>
<hr>
<p>The gift is presented by <a href="/blog/meet-the-champion-019"><strong>Arne Sommer</strong></a>. Today he is talking about his solutions to <strong>Task #1: Pythagoras Pie Puzzle</strong> of <strong><a href="/blog/perl-weekly-challenge-016">&ldquo;The Weekly Challenge - 016&rdquo;</a></strong>.</p>
<h4 id="at-a-party-a-pie-is-to-be-shared-by-100-guest-the-first-guest-gets-1-of-the-pie-the-second-guest-gets-2-of-the-remaining-pie-the-third-gets-3-of-the-remaining-pie-the-fourth-gets-4-and-so-on-write-a-script-that-figures-out-which-guest-gets-the-largest-piece-of-pie">At a party a pie is to be shared by 100 guest. The first guest gets 1% of the pie, the second guest gets 2% of the remaining pie, the third gets 3% of the remaining pie, the fourth gets 4% and so on. Write a script that figures out which guest gets the largest piece of pie.</h4>
<hr>
<p>We can start with the numbers (the size of the pieces), which is suitable job for a sequence with «<strong>gather</strong>/<strong>take</strong>»:</p>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-016/arne-sommer/perl6/pythagoras-pie-all"><strong>pythagoras-pie-all</strong></a></p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">my</span> $pythagoras<span style="color:#f92672">-</span>pie :<span style="color:#f92672">=</span> gather  <span style="color:#75715e"># [1]</span>
{
  <span style="color:#66d9ef">my</span> $remainder <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;        <span style="color:#75715e"># [2]</span>
  <span style="color:#66d9ef">my</span> $position  <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;          <span style="color:#75715e"># [3]</span>
  loop                        <span style="color:#75715e"># [4]</span>
  {
    <span style="color:#66d9ef">my</span> $part <span style="color:#f92672">=</span> $remainder <span style="color:#f92672">*</span> $position <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>; <span style="color:#75715e"># [5]</span>
    $remainder <span style="color:#f92672">-=</span> $part;                     <span style="color:#75715e"># [6]</span>
    $position<span style="color:#f92672">++</span>;                             <span style="color:#75715e"># [7]</span>
    take $part;                              <span style="color:#75715e"># [8]</span>
  }
}

say <span style="color:#e6db74">&#34;{ $_ + 1 } -&gt;  $pythagoras-pie[$_]%&#34;</span> <span style="color:#66d9ef">for</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">100</span>; [<span style="color:#ae81ff">9</span>]
</code></pre></div><br>
<h3 id="1-we-set-up-the-sequence-with-binding--to-ensure-that-it-stays-lazy-as-evaluating-an-inifinite-list-doesnt-work-out">[1] We set up the sequence with binding (:=) to ensure that it stays lazy (as evaluating an inifinite list doesn&rsquo;t work out).</h3>
<h3 id="2-the-size-of-the-pie-in--starting-with-100">[2] The size of the pie (in %), starting with 100.</h3>
<h3 id="3-the-position-in-the-sequence-we-need-this-as-the-portion-is-defined-related-to-this-variable">[3] The position in the sequence. We need this as the portion is defined related to this variable.</h3>
<h3 id="4-an-infinite-loop">[4] An infinite loop.</h3>
<h3 id="5-the-size-of-the-part-given-to-the-current-guest">[5] The size of the part given to the current guest.</h3>
<h3 id="6-the-remainder-of-the-pie-after-the-current-guest-has-been-served">[6] The remainder of the pie, after the current guest has been served.</h3>
<h3 id="7-increase-the-position-ready-for-the-next-iteration-of-the-loop-4">[7] Increase the position, ready for the next iteration of the loop (#4).</h3>
<h3 id="8-return-the-current-size">[8] Return the current size.</h3>
<h3 id="9-print-the-100-first-values-from-the-sequence-any-values-after-this-are-all-zero">[9] Print the 100 first values from the sequence. (Any values after this are all zero.)</h3>
<br>
<p>Running it (with just some of the lines shown):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$ perl6 pythagoras<span style="color:#f92672">-</span>pie<span style="color:#f92672">-</span>all
<span style="color:#ae81ff">1</span> <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">1</span>%
2 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">1.98</span>%
3 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">2.9106</span>%
4 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">3.764376</span>%
5 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">4.5172512</span>%
6 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">5.149666368</span>%
7 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">5.64746745024</span>%
8 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">6.002451118541</span>%
9 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">6.21253690768973</span>%
10 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">6.281565095552947</span>%
11 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">6.21874944459741773</span>%
12 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">6.037840369845492849</span>%
13 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">5.75607448591936984904</span>%
14 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">5.392999018345995</span>%
15 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">4.969263381190237</span>%
<span style="color:#960050;background-color:#1e0010">...</span>
96 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">3.7330486177577654e-34</span>%
97 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">1.5087738163437654e-35</span>%
98 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">4.572984556753267e-37</span>%
99 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">9.239295328950519e-39</span>%
100 <span style="color:#f92672">-&gt;</span>  <span style="color:#ae81ff">9.332621544394437e-41</span>%
</code></pre></div><br>
<p>We can see that the answer is <strong>10</strong>; i.e. <strong>guest number 10</strong> gets the largest piece of cake. But the task was for the program to figure it out, so let&rsquo;s do just that.</p>
<p>Finding the largest value is easy, as long as we chop off the sequence after the first <strong>100</strong> elements. (The rest of them, <strong>ad infinitum</strong>, are zero. Trying to access all elements in an infinite list is not a good idea.)</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">say $pythagoras<span style="color:#f92672">-</span>pie[<span style="color:#f92672">^</span><span style="color:#ae81ff">100</span>]<span style="color:#f92672">.</span>max; <span style="color:#75715e"># -&gt; 6.281565095552947</span>
</code></pre></div><br>
<p>But this doesn&rsquo;t tell us the position (or index), and thus which guest.</p>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-016/arne-sommer/perl6/ch-1.p6"><strong>pythagoras-pie</strong></a></p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">my</span> $pythagoras<span style="color:#f92672">-</span>pie :<span style="color:#f92672">=</span> gather
{
  <span style="color:#66d9ef">my</span> $remainder <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
  <span style="color:#66d9ef">my</span> $position  <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
  loop
  {
    <span style="color:#66d9ef">my</span> $part <span style="color:#f92672">=</span> $remainder <span style="color:#f92672">*</span> $position <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>;
    $remainder <span style="color:#f92672">-=</span> $part;
    $position<span style="color:#f92672">++</span>;
    take $part;
  }
}

<span style="color:#66d9ef">my</span> $largest <span style="color:#f92672">=</span> $pythagoras<span style="color:#f92672">-</span>pie[<span style="color:#f92672">^</span><span style="color:#ae81ff">100</span>]<span style="color:#f92672">.</span>max;                          <span style="color:#75715e"># [1]</span>

<span style="color:#66d9ef">for</span> (<span style="color:#f92672">^</span><span style="color:#ae81ff">100</span>)<span style="color:#f92672">.</span>grep({ $pythagoras<span style="color:#f92672">-</span>pie[$_] <span style="color:#f92672">==</span> $largest }) <span style="color:#f92672">-&gt;</span> $guest    <span style="color:#75715e"># [2]</span>
{
  say <span style="color:#e6db74">&#34;Guest #{ $guest + 1 } got the largest piece of cake ({ $largest }%).&#34;</span>;
}                <span style="color:#75715e"># [3]</span>
</code></pre></div><br>
<h3 id="1-get-the-highest-value-in-the-first-100-elements-of-the-sequence-we-had-to-get-rid-of-the-infinite-sequence-as-max-obviously-cannot-reach-the-end">[1] Get the highest value in the first 100 elements of the sequence. (We had to get rid of the infinite sequence, as «max» obviously cannot reach the end.)</h3>
<h3 id="2-iterate-over-the-indeces-0-to-99-select-the-ones-with-grep-where-the-value-in-the-list-is-equal-to-the-highest-value-note-that-this-would-give-all-matches-if-there-had-been-more-than-one-but-there-isnt">[2] Iterate over the indeces (0 to 99), select the ones (with «grep») where the value in the list is equal to the highest value. Note that this would give all matches, if there had been more than one (but there isn&rsquo;t).</h3>
<h3 id="3-compensate-for-the-numbering-discrepancy-the-guests-are-given-as-1100-but-the-indeces-are-099">[3] Compensate for the numbering discrepancy; the guests are given as 1..100, but the indeces are 0..99.</h3>
<h1 id="running-it">Running it:</h1>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">$ perl6 pythagoras<span style="color:#f92672">-</span>pie
Guest <span style="color:#75715e">#10 got the largest piece of cake (6.281565095552947%).</span>
</code></pre></div><br>
<hr>
<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>
<p><a href="/blog/advent-calendar-2019"><strong>Advent Calendar 2019</strong></a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2025
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jquery/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

